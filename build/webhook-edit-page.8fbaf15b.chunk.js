"use strict";(self.webpackChunkstrapi=self.webpackChunkstrapi||[]).push([[5162],{37948:(te,O,t)=>{t.d(O,{Z:()=>Oe});var e=t(67294),i=t(68547),s=t(185),y=t(23724),C=t(49656),$=t(48474),E=t(45697),n=t.n(E),ae=t(67109),p=t(85018),F=t(85893);const le=a=>(0,F.jsx)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:(0,F.jsx)("path",{d:"M2 .93c0-.4.45-.63.78-.41l4.6 3.06c.3.2.3.64 0 .84l-4.6 3.06A.5.5 0 0 1 2 7.07V.93Z",fill:"#212134"})}),Re=le;var Ie=t(53979),Te=t(49066),ne=t(41580),Ee=t(29728),Z=t(7681),q=t(16364),oe=t(11276),W=t(74571),U=t(80831),w=t(97132),ie=t(19270),B=t(75515),z=t(71893),de=t(41451),c=t(36213),D=t(11700),k=t.n(D);const V=({disabledEvents:a,name:r,events:l,inputValue:o,handleChange:h,handleChangeAll:S})=>{const m=l.filter(v=>!a.includes(v)),u=o.length===m.length,b=o.length>0,A=({target:{name:v}})=>{S({target:{name:v,value:!u}})};return e.createElement("tr",null,e.createElement("td",null,e.createElement(c.X,{indeterminate:b&&!u,"aria-label":"Select all entries",name:r,onChange:A,value:u},k()(r))),l.map(v=>e.createElement("td",{key:v},e.createElement(de.C,{disabled:a.includes(v),"aria-label":v,name:v,value:o.includes(v),onValueChange:I=>h({target:{name:v,value:I}})}))))};V.defaultProps={disabledEvents:[],events:[],inputValue:[],handleChange(){},handleChangeAll(){}},V.propTypes={disabledEvents:n().array,events:n().array,inputValue:n().array,handleChange:n().func,handleChangeAll:n().func,name:n().string.isRequired};const T=V,Le=a=>a.reduce((r,l)=>{const o=l.split(".")[0];return r[o]||(r[o]=[]),r[o].push(l),r},{}),ue=z.default.table`
  td {
    height: ${52/16}rem;
    width: 10%;
    vertical-align: middle;
    text-align: center;
  }

  tbody tr:nth-child(odd) {
    background: ${({theme:a})=>a.colors.neutral100};
  }

  tbody tr td:first-child {
    padding-left: ${({theme:a})=>a.spaces[7]};
  }
`,re={headers:{default:[{id:"Settings.webhooks.events.create",defaultMessage:"Create"},{id:"Settings.webhooks.events.update",defaultMessage:"Update"},{id:"app.utils.delete",defaultMessage:"Delete"}],draftAndPublish:[{id:"Settings.webhooks.events.create",defaultMessage:"Create"},{id:"Settings.webhooks.events.update",defaultMessage:"Update"},{id:"app.utils.delete",defaultMessage:"Delete"},{id:"app.utils.publish",defaultMessage:"Publish"},{id:"app.utils.unpublish",defaultMessage:"Unpublish"}]},events:{default:{entry:["entry.create","entry.update","entry.delete"],media:["media.create","media.update","media.delete"]},draftAndPublish:{entry:["entry.create","entry.update","entry.delete","entry.publish","entry.unpublish"],media:["media.create","media.update","media.delete"]}}},Q=({isDraftAndPublish:a})=>{const r=a?re.headers.draftAndPublish:re.headers.default,l=a?re.events.draftAndPublish:re.events.default,{formatMessage:o}=(0,w.useIntl)(),{values:h,handleChange:S}=(0,U.useFormikContext)(),m="events",u=h.events,b=[],A=Le(u),v=({target:{name:f,value:H}})=>{let d=new Set(u);H?d.add(f):d.delete(f),S({target:{name:m,value:Array.from(d)}})},I=({target:{name:f,value:H}})=>{let d=new Set(u);H?l[f].forEach(g=>{b.includes(g)||d.add(g)}):l[f].forEach(g=>d.delete(g)),S({target:{name:m,value:Array.from(d)}})};return e.createElement(Z.K,{spacing:1},e.createElement(ie.Q,null,o({id:"Settings.webhooks.form.events",defaultMessage:"Events"})),e.createElement(ue,null,e.createElement("thead",null,e.createElement("tr",null,e.createElement("td",null),r.map(f=>f==="app.utils.publish"||f==="app.utils.unpublish"?e.createElement("td",{key:f.id,title:o({id:"Settings.webhooks.event.publish-tooltip",defaultMessage:"This event only exists for content with draft & publish enabled"})},e.createElement(B.Z,{variant:"sigma",textColor:"neutral600"},o(f))):e.createElement("td",{key:f.id},e.createElement(B.Z,{variant:"sigma",textColor:"neutral600"},o(f)))))),e.createElement("tbody",null,Object.keys(l).map(f=>e.createElement(T,{disabledEvents:b,key:f,name:f,events:l[f],inputValue:A[f],handleChange:v,handleChangeAll:I})))))};Q.propTypes={isDraftAndPublish:n().bool.isRequired};const Ae=Q;var me=t(96315),G=t(11047),De=t(39785),ve=t(38855),be=t(90608);const ge=["A-IM","Accept","Accept-Charset","Accept-Encoding","Accept-Language","Accept-Datetime","Access-Control-Request-Method","Access-Control-Request-Headers","Authorization","Cache-Control","Connection","Content-Length","Content-Type","Cookie","Date","Expect","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Origin","Pragma","Proxy-Authorization","Range","Referer","TE","User-Agent","Upgrade","Via","Warning"],pe=({name:a,onChange:r,value:l,...o})=>{const[h,S]=(0,e.useState)(l?[...ge,l]:ge),m=b=>{r({target:{name:a,value:b}})},u=b=>{S(A=>[...A,b]),r({target:{name:a,value:b}})};return e.createElement(ve.X,{...o,onChange:m,onCreateOption:u,placeholder:"",value:l},h.map(b=>e.createElement(be.O,{value:b,key:b},b)))};pe.defaultProps={value:void 0},pe.propTypes={name:n().string.isRequired,onChange:n().func.isRequired,value:n().string};const ke=pe,j=()=>{const{formatMessage:a}=(0,w.useIntl)(),{values:r,errors:l}=(0,U.useFormikContext)();return e.createElement(Z.K,{spacing:1},e.createElement(ie.Q,null,a({id:"Settings.webhooks.form.headers",defaultMessage:"Headers"})),e.createElement(ne.x,{padding:8,background:"neutral100",hasRadius:!0},e.createElement(U.FieldArray,{validateOnChange:!1,name:"headers",render:({push:o,remove:h})=>e.createElement(oe.r,{gap:4},r.headers?.map((S,m)=>e.createElement(e.Fragment,{key:m},e.createElement(W.P,{col:6},e.createElement(U.Field,{as:ke,name:`headers.${m}.key`,"aria-label":`row ${m+1} key`,label:a({id:"Settings.webhooks.key",defaultMessage:"Key"}),error:l.headers?.[m]?.key&&a({id:l.headers[m]?.key,defaultMessage:l.headers[m]?.key})})),e.createElement(W.P,{col:6},e.createElement(G.k,{alignItems:"flex-end"},e.createElement(ne.x,{style:{flex:1}},e.createElement(U.Field,{as:q.o,"aria-label":`row ${m+1} value`,label:a({id:"Settings.webhooks.value",defaultMessage:"Value"}),name:`headers.${m}.value`,error:l.headers?.[m]?.value&&a({id:l.headers[m]?.value,defaultMessage:l.headers[m]?.value})})),e.createElement(G.k,{paddingLeft:2,style:{alignSelf:"center"},paddingTop:l.headers?.[m]?.value?0:5},e.createElement(i.RemoveRoundedButton,{onClick:()=>r.headers.length!==1&&h(m),label:a({id:"Settings.webhooks.headers.remove",defaultMessage:"Remove header row {number}"},{number:m+1})})))))),e.createElement(W.P,{col:12},e.createElement(De.A,{type:"button",onClick:()=>{o({key:"",value:""})},startIcon:e.createElement(me.default,null)},a({id:"Settings.webhooks.create.header",defaultMessage:"Create new header"}))))})))};var Ce=t(70968),Ze=t(86647);const M=z.default.svg(({theme:a,color:r})=>`
  width: ${12/16}rem;
  height: ${12/16}rem;

  path {
    fill: ${a.colors[r]};
  }
`),se=({isPending:a,statusCode:r})=>{const{formatMessage:l}=(0,w.useIntl)();return a?e.createElement(Z.K,{horizontal:!0,spacing:2,style:{alignItems:"center"}},e.createElement(M,{as:Ze.Z}),e.createElement(B.Z,null,l({id:"Settings.webhooks.trigger.pending",defaultMessage:"pending"}))):r>=200&&r<300?e.createElement(Z.K,{horizontal:!0,spacing:2,style:{alignItems:"center"}},e.createElement(M,{as:p.Z,color:"success700"}),e.createElement(B.Z,null,l({id:"Settings.webhooks.trigger.success",defaultMessage:"success"}))):r>=300?e.createElement(Z.K,{horizontal:!0,spacing:2,style:{alignItems:"center"}},e.createElement(M,{as:Ce.default,color:"danger700"}),e.createElement(B.Z,null,l({id:"Settings.error",defaultMessage:"error"})," ",r)):null};se.propTypes={isPending:n().bool.isRequired,statusCode:n().number},se.defaultProps={statusCode:void 0};const he=({statusCode:a,message:r})=>{const{formatMessage:l}=(0,w.useIntl)();return a>=200&&a<300?e.createElement(G.k,{justifyContent:"flex-end"},e.createElement(B.Z,{textColor:"neutral600",ellipsis:!0},l({id:"Settings.webhooks.trigger.success.label",defaultMessage:"Trigger succeeded"}))):a>=300?e.createElement(G.k,{justifyContent:"flex-end"},e.createElement(G.k,{maxWidth:(0,i.pxToRem)(250),justifyContent:"flex-end",title:r},e.createElement(B.Z,{ellipsis:!0,textColor:"neutral600"},r))):null};he.propTypes={statusCode:n().number,message:n().string},he.defaultProps={statusCode:void 0,message:void 0};const ye=({onCancel:a})=>{const{formatMessage:r}=(0,w.useIntl)();return e.createElement(G.k,{justifyContent:"flex-end"},e.createElement("button",{onClick:a,type:"button"},e.createElement(Z.K,{horizontal:!0,spacing:2,style:{alignItems:"center"}},e.createElement(B.Z,{textColor:"neutral400"},r({id:"Settings.webhooks.trigger.cancel",defaultMessage:"cancel"})),e.createElement(M,{as:Ce.default,color:"neutral400"}))))};ye.propTypes={onCancel:n().func.isRequired};const L=({isPending:a,onCancel:r,response:l})=>{const{statusCode:o,message:h}=l,{formatMessage:S}=(0,w.useIntl)();return e.createElement(ne.x,{background:"neutral0",padding:5,shadow:"filterShadow",hasRadius:!0},e.createElement(oe.r,{gap:4,style:{alignItems:"center"}},e.createElement(W.P,{col:3},e.createElement(B.Z,null,S({id:"Settings.webhooks.trigger.test",defaultMessage:"Test-trigger"}))),e.createElement(W.P,{col:3},e.createElement(se,{isPending:a,statusCode:o})),e.createElement(W.P,{col:6},a?e.createElement(ye,{onCancel:r}):e.createElement(he,{statusCode:o,message:h}))))};L.defaultProps={isPending:!1,onCancel(){},response:{}},L.propTypes={isPending:n().bool,onCancel:n().func,response:n().object};const Me=L;var P=t(53209);const Be=/(^$)|(^[A-Za-z][_0-9A-Za-z ]*$)/,R=/(^$)|((https?:\/\/.*)(d*)\/?(.*))/,_=P.Ry().shape({name:P.Z_(i.translatedErrors.string).required(i.translatedErrors.required).matches(Be,i.translatedErrors.regex),url:P.Z_(i.translatedErrors.string).required(i.translatedErrors.required).matches(R,i.translatedErrors.regex),headers:P.Vo(a=>{let r=P.IX();if(a.length===1){const{key:l,value:o}=a[0];if(!l&&!o)return r}return r.of(P.Ry().shape({key:P.Z_().required(i.translatedErrors.required),value:P.Z_().required(i.translatedErrors.required)}))}),events:P.IX()}),J=({handleSubmit:a,data:r,triggerWebhook:l,isCreating:o,isTriggering:h,triggerResponse:S,isDraftAndPublishEvents:m})=>{const{formatMessage:u}=(0,w.useIntl)(),[b,A]=(0,e.useState)(!1);return e.createElement(U.Formik,{onSubmit:a,initialValues:{name:r?.name||"",url:r?.url||"",headers:Object.keys(r?.headers||[]).length?Object.entries(r.headers).map(([v,I])=>({key:v,value:I})):[{key:"",value:""}],events:r?.events||[]},validationSchema:_,validateOnChange:!1,validateOnBlur:!1},({handleSubmit:v,errors:I})=>e.createElement(i.Form,{noValidate:!0},e.createElement(Ie.T,{primaryAction:e.createElement(Z.K,{horizontal:!0,spacing:2},e.createElement(Ee.z,{onClick:()=>{l(),A(!0)},variant:"tertiary",startIcon:e.createElement(Re,null),disabled:o||h,size:"L"},u({id:"Settings.webhooks.trigger",defaultMessage:"Trigger"})),e.createElement(Ee.z,{startIcon:e.createElement(p.Z,null),onClick:v,type:"submit",size:"L"},u({id:"global.save",defaultMessage:"Save"}))),title:o?u({id:"Settings.webhooks.create",defaultMessage:"Create a webhook"}):r?.name,navigationAction:e.createElement(i.Link,{startIcon:e.createElement(ae.Z,null),to:"/settings/webhooks"},u({id:"global.back",defaultMessage:"Back"}))}),e.createElement(Te.D,null,e.createElement(Z.K,{spacing:4},b&&e.createElement("div",{className:"trigger-wrapper"},e.createElement(Me,{isPending:h,response:S,onCancel:()=>A(!1)})),e.createElement(ne.x,{background:"neutral0",padding:8,shadow:"filterShadow",hasRadius:!0},e.createElement(Z.K,{spacing:6},e.createElement(oe.r,{gap:6},e.createElement(W.P,{col:6},e.createElement(U.Field,{as:q.o,name:"name",error:I.name&&u({id:I.name}),label:u({id:"global.name",defaultMessage:"Name"}),required:!0})),e.createElement(W.P,{col:12},e.createElement(U.Field,{as:q.o,name:"url",error:I.url&&u({id:I.url}),label:u({id:"Settings.roles.form.input.url",defaultMessage:"Url"}),required:!0}))),e.createElement(j,null),e.createElement(Ae,{isDraftAndPublish:m})))))))};J.propTypes={data:n().object,handleSubmit:n().func.isRequired,triggerWebhook:n().func.isRequired,isCreating:n().bool.isRequired,isDraftAndPublishEvents:n().bool.isRequired,isTriggering:n().bool.isRequired,triggerResponse:n().object},J.defaultProps={data:void 0,triggerResponse:void 0};const ee=J;var Pe=t(96486);const Ke=a=>{const r={...a};return(0,Pe.set)(r,"headers",xe(a.headers)),r},xe=a=>a.reduce((r,l)=>{const{key:o,value:h}=l;return o!==""?{...r,[o]:h}:r},{}),x=Ke;var Se=t(25108);const Oe=()=>{const{params:{id:a}}=(0,C.useRouteMatch)("/settings/webhooks/:id"),{replace:r}=(0,C.useHistory)(),{lockApp:l,unlockApp:o}=(0,i.useOverlayBlocker)(),h=(0,i.useNotification)(),S=(0,y.useQueryClient)(),{isLoading:m,collectionTypes:u}=(0,$.bP)(),{post:b}=(0,i.useFetchClient)(),A=a==="create",v=(0,e.useCallback)(async N=>{const[X,{data:Ne}]=await(0,i.to)((0,i.request)(`/admin/webhooks/${N}`,{method:"GET"}));return X?(h({type:"warning",message:{id:"notification.error"}}),null):Ne},[h]),{isLoading:I,data:f}=(0,y.useQuery)(["get-webhook",a],()=>v(a),{enabled:!A}),{isLoading:H,data:d,isIdle:g,mutate:K}=(0,y.useMutation)(()=>b(`/admin/webhooks/${a}/trigger`)),Y=()=>K(null,{onError(){h({type:"warning",message:{id:"notification.error"}})}}),Ue=(0,y.useMutation)(N=>(0,i.request)("/admin/webhooks",{method:"POST",body:N})),we=(0,y.useMutation)(({id:N,body:X})=>(0,i.request)(`/admin/webhooks/${N}`,{method:"PUT",body:X})),Ve=async N=>{A?(l(),Ue.mutate(x(N),{onSuccess(X){h({type:"success",message:{id:"Settings.webhooks.created"}}),r(`/settings/webhooks/${X.data.id}`),o()},onError(X){h({type:"warning",message:{id:"notification.error"}}),Se.log(X),o()}})):(l(),we.mutate({id:a,body:x(N)},{onSuccess(){S.invalidateQueries(["get-webhook",a]),h({type:"success",message:{id:"notification.form.success.fields"}}),o()},onError(X){h({type:"warning",message:{id:"notification.error"}}),Se.log(X),o()}}))},je=(0,e.useMemo)(()=>u.some(N=>N.options.draftAndPublish===!0),[u]);return I||m?e.createElement(i.LoadingIndicatorPage,null):e.createElement(s.o,null,e.createElement(i.SettingsPageTitle,{name:"Webhooks"}),e.createElement(ee,{handleSubmit:Ve,data:f,triggerWebhook:Y,isCreating:A,isTriggering:H,isTriggerIdle:g,triggerResponse:d?.data.data,isDraftAndPublishEvents:je}))}},3672:(te,O,t)=>{t.r(O),t.d(O,{default:()=>E});var e=t(67294),i=t(68547),s=t.n(i),y=t(87751),C=t(37948);const E=()=>e.createElement(i.CheckPagePermissions,{permissions:y.Z.settings.webhooks.create},e.createElement(C.Z,null))},9311:(te,O,t)=>{t.r(O),t.d(O,{default:()=>E});var e=t(67294),i=t(68547),s=t.n(i),y=t(87751),C=t(37948);const E=()=>e.createElement(i.CheckPagePermissions,{permissions:y.Z.settings.webhooks.update},e.createElement(C.Z,null))},38855:(te,O,t)=>{t.d(O,{h:()=>z,X:()=>de});var e=t(67294),i=t(22522),s=t(45697),y=t(90608),C=t(74020),$=t(70389),E=t(7801);const n={Close:"Close",CloseSelect:"CloseSelect",First:"First",Last:"Last",Next:"Next",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Previous:"Previous",Select:"Select",Space:"Space",Type:"Type"},ae={Close:"Close",First:"First",Last:"Last",Next:"Next",Open:"Open",Previous:"Previous",Select:"Select",UpLevel:"UpLevel"};function p(c=[],D=null,k=[]){const V=String(D??"").toLowerCase();return V?c.filter(T=>T.props.children.toString().toLowerCase().includes(V)&&k.indexOf(T)<0):c}function F(c,D){if(!D&&c===E.y.DOWN)return n.Open;if(c===E.y.DOWN)return n.Next;if(c===E.y.UP)return n.Previous;if(c===E.y.HOME)return n.First;if(c===E.y.END)return n.Last;if(c===E.y.ESCAPE)return n.Close;if(c===E.y.ENTER)return n.CloseSelect;if(c===E.y.BACKSPACE||c===E.y.CLEAR||c.length===1)return n.Type}function le(c,D,k){switch(k){case n.First:return 0;case n.Last:return D;case n.Previous:return Math.max(0,c-1);case n.Next:return Math.min(D,c+1);default:return c}}function Re(c){(0,$.Z)(c,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:D,top:k,left:V})=>{D.scrollTop=k,D.scrollLeft=V})}var Ie=t(41580),Te=t(54574),ne=t(19270),Ee=t(63428),Z=t(96404),q=t(11047),oe=t(2504),W=t(88655),U=t(81849),w=t(81318),ie=t(75515),B=t(63237);const z=({children:c,clearLabel:D,creatable:k,createMessage:V,disabled:T,error:ce,hasMoreItems:Le,hint:ue,id:re,label:Q,labelAction:Ae,loading:me,loadingMessage:G,noOptionsMessage:De,onChange:ve,onClear:be,onCreateOption:Fe,onInputChange:ge,onLoadMore:pe,placeholder:ke,required:$e,value:j,...Ce})=>{const Ze=()=>c.find(d=>d.props?.value.toLowerCase()===j.toLowerCase()).props?.children,[M,se]=(0,e.useState)(0),[he,ye]=(0,e.useState)(null),[L,Me]=(0,e.useState)(c),[P,Be]=(0,e.useState)(!1),[R,fe]=(0,e.useState)(""),_=(0,e.useRef)(),J=(0,e.useRef)(!1),ee=(0,e.useRef)(),Pe=(0,e.useRef)(),Ke=(0,e.useRef)(),xe=(0,e.useRef)(!0),x=(0,oe.M)(re),Se=`${x}-label`;if(!Q&&!Ce["aria-label"])throw new Error('The Combobox component needs a "label" or an "aria-label" props');(0,e.useEffect)(()=>{Me(p(c,R))},[R,c]),(0,e.useEffect)(()=>{P&&_.current&&Re(_.current)},[M,P]),(0,e.useLayoutEffect)(()=>{xe.current&&(xe.current=!1)},[j]);const We=P?`${x}-${M}`:"",Oe=()=>{ve(null),fe("")},a=d=>{ge&&ge(d);const g=ee.current.value;Me(p(c,g)),se(0),ye(null),R!==g&&fe(g),P||u(!0,!1)},r=d=>{const{key:g}=d,K=k&&R?L.length:L.length-1,Y=F(g,P);switch(j&&!R&&g===E.y.BACKSPACE&&Oe(),Y){case n.Next:{if(M===K){o(0);break}o(le(M,K,Y));break}case n.Previous:{if(M===0){o(K);break}o(le(M,K,Y));break}case n.Last:case n.First:{if(M===K){o(0);break}o(le(M,K,Y));break}case n.CloseSelect:d.preventDefault(),m(M);break;case n.Close:d.preventDefault(),u(!1);break;case n.Open:u(!0);break}},l=d=>{if(d.preventDefault(),j&&!J.current&&fe(""),J.current){J.current=!1;return}u(!1,!1)},o=d=>{se(d)},h=d=>{o(d),m(d)},S=()=>{J.current=!0},m=d=>{const g=L[d];if(fe(""),g){ve(g.props.value),u(!1);return}k&&(Fe(R),u(!1))},u=(d,g=!0)=>{Be(d),g&&ee.current.focus()},b=e.Children.toArray(L).map((d,g)=>{const K=M===g;return(0,e.cloneElement)(d,{id:`${x}-${g}`,"aria-selected":he===g,"aria-posinset":g+1,"aria-setsize":e.Children.toArray(L).length,ref(Y){K&&(_.current=Y)},onClick:()=>h(g),onMouseDown:S,isSelected:K})}),A=()=>{ee.current.focus(),be&&be(),Oe()},v=()=>{ee.current.focus(),u(!0)},I=()=>{const d=L.findIndex(g=>g.props?.children===R);return R&&d===-1},f=d=>{d.preventDefault(),u(d,!0)};let H;return ce?H=`${x}-error`:ue&&(H=`${x}-hint`),e.createElement(Te.g,{hint:ue,error:ce,id:x,required:$e},e.createElement(B.T,{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text"},j),e.createElement(q.k,{direction:"column",alignItems:"stretch",gap:Q||ue||ce?1:0},Q&&e.createElement(ne.Q,{action:Ae},Q),e.createElement(C.d8,{ref:Pe,$disabled:T,hasError:ce},e.createElement(C.fv,{wrap:"wrap"},!R&&j&&e.createElement(C.K7,{id:`${x}-selected-value`},e.createElement(ie.Z,null,Ze())),e.createElement(C.II,{"aria-activedescendant":We,"aria-autocomplete":"list","aria-controls":`${x}-listbox`,"aria-disabled":T,"aria-expanded":P,"aria-haspopup":"listbox","aria-describedby":H,autoComplete:"off",autoCorrect:"off",id:x,onBlur:T?void 0:l,onClick:T?void 0:f,onInput:T?void 0:a,onKeyDown:T?void 0:r,placeholder:j?"":ke,readOnly:T,ref:ee,required:$e,role:"combobox",spellCheck:"off",type:"text",value:R})),e.createElement(q.k,null,(j||R)&&e.createElement(w.zb,{id:`${x}-clear`,"aria-label":D,disabled:T,paddingLeft:3,as:"button",onClick:A,type:"button"},e.createElement(i.Cross,null)),e.createElement(w.AV,{disabled:T,paddingLeft:3,"aria-hidden":!0,as:"button",onClick:v,tabIndex:-1,type:"button"},e.createElement(i.CarretDown,null)))),e.createElement(Ee.J,null),e.createElement(Z.c,null)),P&&e.createElement(U.J2,{id:`${x}-popover`,source:Pe,spacing:4,fullWidth:!0,intersectionId:`${x}-listbox-popover-intersection`,onReachEnd:Le&&!me?pe:void 0},e.createElement("div",{role:"listbox",ref:Ke,id:`${x}-listbox`,"aria-labelledby":Q?Se:void 0},(Boolean(L.length)||k)&&e.createElement(e.Fragment,null,b,I()&&k&&e.createElement(y.O,{isSelected:M===L.length,ref:d=>{M===L.length&&(_.current=d)},onMouseDown:S,onClick:()=>m(),taindex:0},V(R))),!L.length&&!k&&!me&&e.createElement(Ie.x,{paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,ref:_},e.createElement(ie.Z,{textColor:"neutral800"},De(R))),me&&e.createElement(q.k,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2},e.createElement(W.a,{small:!0},G)))))},de=c=>e.createElement(z,{...c,creatable:!0});z.defaultProps={"aria-label":void 0,clearLabel:"clear",creatable:!1,createMessage:c=>`Create "${c}"`,disabled:!1,error:void 0,hasMoreItems:!1,hint:void 0,id:void 0,label:void 0,loading:!1,loadingMessage:"Loading content...",noOptionsMessage:()=>"No results found",onClear:void 0,onCreateOption:void 0,onInputChange:void 0,onLoadMore:void 0,placeholder:"Select or enter a value",value:void 0},de.defaultProps=z.defaultProps,z.propTypes={"aria-label":s.string,children:s.oneOfType([s.arrayOf(s.node),s.node]),clearLabel:s.string,creatable:s.bool,createMessage:s.func,disabled:s.bool,error:s.string,hasMoreItems:s.bool,id:s.string,hint:s.oneOfType([s.string,s.node,s.arrayOf(s.node)]),label:s.string,labelAction:s.element,loading:s.bool,loadingMessage:s.string,noOptionsMessage:s.func,onChange:s.func.isRequired,onClear:s.func,onCreateOption:s.func,onInputChange:s.func,onLoadMore:s.func,placeholder:s.string,value:s.string},de.propTypes={...z.propTypes,onCreateOption:s.func.isRequired}},90608:(te,O,t)=>{t.d(O,{O:()=>C});var e=t(67294),i=t(45697),s=t(74020),y=t(75515);const C=(0,e.forwardRef)(({isSelected:$,children:E,...n},ae)=>e.createElement(s.Zq,{hasRadius:!0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,role:"option",background:"neutral0",isSelected:$,ref:ae,...n},e.createElement(y.Z,{textColor:$?"primary600":"neutral800",fontWeight:$?"bold":null},E)));C.defaultProps={isSelected:!1},C.propTypes={children:i.oneOfType([i.string,i.number]).isRequired,isSelected:i.bool},C.displayName="ComboboxOption"},74020:(te,O,t)=>{t.d(O,{II:()=>n,K7:()=>$,Zq:()=>ae,d8:()=>C,fv:()=>E});var e=t(71893),i=t(41580),s=t(11047),y=t(15585);const C=(0,e.default)(s.k)`
  position: relative;
  border: 1px solid ${({theme:p,hasError:F})=>F?p.colors.danger600:p.colors.neutral200};
  padding-right: ${({theme:p})=>p.spaces[3]};
  padding-left: ${({theme:p})=>p.spaces[3]};
  border-radius: ${({theme:p})=>p.borderRadius};
  background: ${({theme:p})=>p.colors.neutral0};

  ${({theme:p,$disabled:F})=>F?`
    color: ${p.colors.neutral600};
    background: ${p.colors.neutral150};
  `:void 0}

  ${(0,y.k3)()}
`,$=e.default.div`
  padding: 1px 2px;
  grid-area: 1 / 1 / 2 / 3;
`,E=(0,e.default)(s.k)`
  display: grid;
  flex: 1 1 0%;
  position: relative;
`,n=e.default.input`
  display: inline-grid;
  grid-area: 1 / 1 / 2 / 3;
  grid-template-columns: 0px min-content;
  background: transparent;
  min-height: ${40/16}rem;
  border: none;
  flex: 1;
  font-size: ${14/16}rem;
  color: ${({theme:p})=>p.colors.neutral800};
  outline: none;
  &:focus-visible {
    outline: none;
    box-shadow: none;
    outline-offset: 0;
  }
  &[aria-disabled='true'] {
    background: inherit;
    color: inherit;
    cursor: not-allowed;
  }
`,ae=(0,e.default)(i.x)`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  ${({isSelected:p,theme:F})=>p&&`background: ${F.colors.primary100};`}

  &:hover {
    background: ${({theme:p})=>p.colors.primary100};
  }
`},86647:(te,O,t)=>{t.d(O,{Z:()=>s});var e=t(85893);const i=y=>(0,e.jsx)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...y,children:(0,e.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.057 18c.552 0 1 .451 1 .997v4.006a1 1 0 0 1-.941.995l-.059.002c-.552 0-1-.451-1-.997v-4.006a1 1 0 0 1 .941-.995l.06-.002Zm-3.06-.736.055.03c.478.276.64.89.367 1.364l-2.002 3.468a1 1 0 0 1-1.31.394l-.055-.03a1.002 1.002 0 0 1-.368-1.363l2.003-3.469a1 1 0 0 1 1.31-.394Zm7.42.394 2.002 3.468a1 1 0 0 1-.314 1.331l-.053.033a1.002 1.002 0 0 1-1.365-.363l-2.003-3.469a1 1 0 0 1 .314-1.33l.054-.034a1.002 1.002 0 0 1 1.364.364Zm-9.548-2.66.033.054c.276.478.11 1.091-.364 1.364L3.07 18.42a1 1 0 0 1-1.331-.314l-.033-.053a1.001 1.001 0 0 1 .364-1.365l3.468-2.003a1 1 0 0 1 1.33.314Zm11.79-.313 3.468 2.002a1 1 0 0 1 .393 1.31l-.03.055c-.276.478-.89.64-1.363.367l-3.469-2.003a1 1 0 0 1-.394-1.309l.03-.055c.276-.479.89-.64 1.364-.367Zm4.344-3.628a1 1 0 0 1 .995.941l.002.06c0 .551-.451 1-.997 1h-4.006a1 1 0 0 1-.995-.942L18 12.057c0-.552.451-1 .997-1h4.006Zm-18 0a1 1 0 0 1 .995.941l.002.06c0 .551-.451 1-.998 1H.998a1 1 0 0 1-.996-.942L0 12.057c0-.552.451-1 .998-1h4.004Zm17.454-5.059.033.054c.277.478.11 1.091-.363 1.365l-3.469 2.002a1 1 0 0 1-1.33-.314l-.034-.053a1.002 1.002 0 0 1 .364-1.365l3.468-2.003a1 1 0 0 1 1.331.314ZM3.07 5.684l3.468 2.003a1 1 0 0 1 .394 1.31l-.03.055c-.276.478-.89.64-1.364.367L2.07 7.417a1 1 0 0 1-.394-1.31l.03-.055c.276-.479.89-.64 1.364-.368Zm14.926-4.008.056.03c.478.276.64.89.367 1.364l-2.003 3.468a1 1 0 0 1-1.309.394l-.055-.03a1.002 1.002 0 0 1-.367-1.364l2.002-3.468a1 1 0 0 1 1.31-.394Zm-10.58.394L9.42 5.538a1 1 0 0 1-.314 1.33l-.053.034a1.002 1.002 0 0 1-1.365-.364L5.684 3.07a1 1 0 0 1 .314-1.331l.054-.033a1.002 1.002 0 0 1 1.365.364ZM12.058 0c.552 0 1 .451 1 .998v4.004a1 1 0 0 1-.941.996L12.057 6c-.552 0-1-.451-1-.998V.998a1 1 0 0 1 .941-.996l.06-.002Z",fill:"#212134"})}),s=i}}]);
