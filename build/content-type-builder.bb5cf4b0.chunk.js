(self.webpackChunkstrapi=self.webpackChunkstrapi||[]).push([[8880],{75104:(W,q,r)=>{"use strict";r.d(q,{Z:()=>_});var t=r(67294),R=r(71893),h=r(45697),v=r.n(h),f=r(41580),w=r(85038),F=r(85893);const Z=ae=>(0,F.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...ae,children:[(0,F.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#4945FF",stroke:"#4945FF"}),(0,F.jsx)("path",{d:"M15.328 10.54h1.723c.012-.089.012-.165.012-.253 0-1.676-1.471-2.959-3.41-2.959-2.696 0-4.647 2.22-4.647 5.344 0 2.15 1.383 3.545 3.504 3.545 2.045 0 3.597-1.154 3.967-2.936h-1.752c-.276.826-1.102 1.371-2.063 1.371-1.137 0-1.846-.802-1.846-2.103 0-2.08 1.19-3.65 2.725-3.65 1.037 0 1.746.62 1.787 1.558v.082ZM21.053 16l1.488-6.943h2.531l.31-1.512H18.54l-.31 1.512h2.53L19.272 16h1.782Z",fill:"#fff"})]}),I=Z;var s=r(34668),b=r(14484),K=r(65531),Me=r(73145),ye=r(82574),ce=r(60133);const ie=ae=>(0,F.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...ae,children:[(0,F.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#EAF5FF",stroke:"#B8E1FF"}),(0,F.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.286 9.286v-.857a.397.397 0 0 0-.138-.302A.465.465 0 0 0 18.82 8h-8.357a.465.465 0 0 0-.326.127.397.397 0 0 0-.138.302v.857c0 .116.046.216.138.301.092.085.2.127.326.127h8.357a.465.465 0 0 0 .327-.127.397.397 0 0 0 .138-.301Zm2.785 2.713v.857a.397.397 0 0 1-.137.301.465.465 0 0 1-.327.128H10.464a.465.465 0 0 1-.326-.128.397.397 0 0 1-.138-.301v-.857c0-.116.046-.217.138-.302a.465.465 0 0 1 .326-.127h11.143c.126 0 .235.043.327.127a.397.397 0 0 1 .137.302Zm-1.857 3.574v.857a.397.397 0 0 1-.137.302.465.465 0 0 1-.327.127h-9.286a.465.465 0 0 1-.326-.127.397.397 0 0 1-.138-.302v-.857c0-.116.046-.216.138-.301a.465.465 0 0 1 .326-.127h9.286c.126 0 .235.042.326.127a.397.397 0 0 1 .138.301Z",fill:"#0C75AF"})]}),ge=ie;var le=r(74525);const Ce=ae=>(0,F.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...ae,children:[(0,F.jsx)("path",{d:"M.5 3A2.5 2.5 0 0 1 3 .5h26A2.5 2.5 0 0 1 31.5 3v18a2.5 2.5 0 0 1-2.5 2.5H3A2.5 2.5 0 0 1 .5 21V3Z",fill:"#FDF4DC",stroke:"#FAE7B9"}),(0,F.jsx)("path",{d:"M20.158 11.995c0-.591-.463-1.073-1.045-1.11H13.53V9.245a2.05 2.05 0 0 1 2.046-2.049c1.13 0 2.048.784 2.049 1.913 0 .24.194.433.433.433h.33a.433.433 0 0 0 .433-.433C18.82 7.32 17.365 5.999 15.577 6a3.246 3.246 0 0 0-3.241 3.244v1.642h-.223c-.615 0-1.113.499-1.113 1.114v4.887c.001.615.5 1.113 1.115 1.113l6.93-.003c.616 0 1.114-.5 1.114-1.115l-.001-4.887Z",fill:"#D9822F"})]}),u=Ce;var fe=r(48394);const Ee=ae=>(0,F.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...ae,children:[(0,F.jsx)("rect",{x:.5,y:.5,width:31,height:23,rx:2.5,fill:"#0C75AF",stroke:"#0C75AF"}),(0,F.jsx)("path",{d:"M8.523 13.586c.106 1.64 1.418 2.63 3.34 2.63 2.098 0 3.516-1.113 3.516-2.788 0-1.143-.65-1.846-2.086-2.297l-.867-.27c-.797-.252-1.137-.597-1.137-1.066 0-.598.633-1.031 1.459-1.031.873 0 1.512.474 1.617 1.183h1.67c-.053-1.54-1.36-2.619-3.217-2.619-1.91 0-3.328 1.131-3.328 2.678 0 1.09.715 1.922 1.963 2.309l.879.275c.914.287 1.266.592 1.266 1.084 0 .662-.657 1.107-1.606 1.107-.914 0-1.635-.469-1.758-1.195h-1.71ZM20.107 16l1.489-6.943h2.531l.31-1.512h-6.843l-.31 1.512h2.53L18.326 16h1.781Z",fill:"#fff"})]}),k=Ee;var Ge=r(21210),tt=r(3963),xe=r(31666),Xe=r(68547);const G={biginteger:xe.Z,boolean:b.Z,collectionType:I,component:w.Z,contentType:I,date:s.Z,datetime:s.Z,decimal:xe.Z,dynamiczone:K.Z,email:Me.Z,enum:ye.Z,enumeration:ye.Z,file:le.Z,files:le.Z,float:xe.Z,integer:xe.Z,json:ce.Z,JSON:ce.Z,media:le.Z,number:xe.Z,password:u,relation:fe.Z,richtext:ge,singleType:k,string:Ge.Z,text:Ge.Z,time:s.Z,timestamp:s.Z,uid:tt.Z},Te=(0,R.default)(f.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,U=({type:ae,customField:Ye,...gt})=>{const lt=(0,Xe.useCustomFields)();let dt=G[ae];if(Ye){const{icon:Se}=lt.get(Ye);Se&&(dt=Se)}return G[ae]?t.createElement(Te,{height:(0,Xe.pxToRem)(24),width:(0,Xe.pxToRem)(32),shrink:0,...gt,"aria-hidden":!0},t.createElement(f.x,{as:dt})):null};U.defaultProps={customField:null},U.propTypes={type:v().string.isRequired,customField:v().string};const _=U},7955:(W,q,r)=>{"use strict";r.d(q,{Z:()=>h});var t=r(67294);const h=(0,t.createContext)()},98422:(W,q,r)=>{"use strict";r.d(q,{Z:()=>h});var t=r(67294);const h=(0,t.createContext)()},13588:(W,q,r)=>{"use strict";r.d(q,{Z:()=>v});var t=r(67294),R=r(7955);const v=()=>(0,t.useContext)(R.Z)},26478:(W,q,r)=>{"use strict";r.d(q,{Z:()=>v});var t=r(67294),R=r(98422);const v=()=>(0,t.useContext)(R.Z)},94179:(W,q,r)=>{"use strict";r.r(q),r.d(q,{default:()=>uo});var t=r(67294),R=r(49656),h=r(73117),v=r(97132),f=r(68547),w=r(17034),F=r(57176),Z=r(96124),I=r(45697),s=r.n(I),b=r(96486),K=r(37424),Me=r(35281),ye=r(7955),ce=r(26478),ie=r(11817);const ge=ie.Z.create({baseURL:`/${Z.Z}`});ge.interceptors.request.use(async e=>(e.headers={Authorization:`Bearer ${f.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},e),e=>{Promise.reject(e)}),ge.interceptors.response.use(e=>e,e=>{throw e.response?.status===401&&(f.auth.clearAppStorage(),window.location.reload()),e});const Ce=(0,f.wrapAxiosInstance)(ge);var u=r(5002),fe=r(85169),Ee=r(27361),k=r.n(Ee),Ge=r(18721),tt=r.n(Ge),xe=r(92622),Xe=r.n(xe),G=r(7334),Te=r.n(G),U=r(41580),_=r(29728),ae=r(70004),Ye=r(42866),gt=r(59946),lt=r(36856),dt=r(82777),Se=r(60633),nt=r(42761),re=r(11047),De=r(7681),Ve=r(13588),xt=r(38953),jt=r(11700),we=r.n(jt);const Bt=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],Rt=({intlLabel:e,name:n,onChange:a,value:i})=>{const{formatMessage:o}=(0,v.useIntl)(),l=i===null||i.length===0?o({id:"global.none",defaultMessage:"None"}):[...i].sort().map(c=>we()(c)).join(", "),d=e.id?o({id:e.id,defaultMessage:e.defaultMessage}):n;return t.createElement(xt.Q,{id:"select1",label:d,customizeContent:()=>l,onChange:c=>{c.length>0?a({target:{name:n,value:c,type:"allowed-types-select"}}):a({target:{name:n,value:null,type:"allowed-types-select"}})},options:Bt,value:i||[]})};Rt.defaultProps={value:null},Rt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().object,s().array])};const Jt=Rt;var de=r(75515);const kt=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0);var Zt=r(11276),Re=r(74571),ft=r(17373),yt=r(75104),$e=r(71893);const At=(0,$e.default)(U.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,We=({type:e})=>{const{formatMessage:n}=(0,v.useIntl)(),{onClickSelectField:a}=(0,ce.Z)(),i=()=>{a({attributeType:e,step:e==="component"?"1":null})};return t.createElement(At,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},t.createElement(re.k,null,t.createElement(yt.Z,{type:e}),t.createElement(U.x,{paddingLeft:4},t.createElement(re.k,null,t.createElement(de.Z,{fontWeight:"bold"},n({id:(0,u.Z)(`attribute.${e}`),defaultMessage:e}))),t.createElement(re.k,null,t.createElement(de.Z,{variant:"pi",textColor:"neutral600"},n({id:(0,u.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};We.defaultProps={type:"text"},We.propTypes={type:s().string};const Qt=We,ut=e=>{const n=e%2===1;return{paddingLeft:n?2:0,paddingRight:n?0:2}},at=({attributes:e})=>t.createElement(ft.k,{tagName:"button"},t.createElement(De.K,{spacing:8},e.map((n,a)=>t.createElement(Zt.r,{key:a,gap:0},n.map((i,o)=>{const{paddingLeft:l,paddingRight:d}=ut(o);return t.createElement(Re.P,{key:i,col:6,style:{height:"100%"}},t.createElement(U.x,{paddingLeft:l,paddingRight:d,paddingBottom:1,style:{height:"100%"}},t.createElement(Qt,{type:i})))})))));at.propTypes={attributes:s().array.isRequired};const ht=at;var ct=r(23620),Ut=r(36232),_t=r.n(Ut),Y=r(85893),Fe=r(21817),mt=r(92577);const en=(0,$e.default)(Fe.G)`
  &[aria-disabled='true'] {
    ${mt.sg}
    &:active {
      ${mt.sg}
    }
  }
  &:hover {
    ${mt.yP}
  }
  &:active {
    ${mt.tB}
  }
  ${mt.PD}
`,wt=t.forwardRef(({variant:e="default",startIcon:n,endIcon:a,disabled:i=!1,children:o,size:l="S",href:d,to:c,...p},y)=>{const g=d?"_blank":void 0,m=d?"noreferrer noopener":void 0,E=l==="S"?2:"10px",T=4;return(0,Y.jsxs)(en,{ref:y,"aria-disabled":i,size:l,variant:e,target:g,rel:m,to:i?void 0:c,href:i?"#":d,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:E,paddingLeft:T,paddingRight:T,paddingTop:E,pointerEvents:i?"none":void 0,...p,as:c&&!i?R.NavLink:"a",children:[n&&(0,Y.jsx)(re.k,{"aria-hidden":!0,children:n}),(0,Y.jsx)(de.Z,{variant:l==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:o}),a&&(0,Y.jsx)(re.k,{"aria-hidden":!0,children:a})]})});var St=r(52624),Qe=r(96315),tn=r(86031);const _e=(0,$e.default)(U.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,nn=()=>t.createElement(re.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,n)=>t.createElement(_e,{key:`empty-card-${n}`,height:"138px",width:"375px",hasRadius:!0}))),Ft=()=>{const{formatMessage:e}=(0,v.useIntl)();return t.createElement(U.x,{position:"relative"},t.createElement(nn,null),t.createElement(U.x,{position:"absolute",top:6,width:"100%"},t.createElement(re.k,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(St.J,{as:tn.default,color:"",width:"160px",height:"88px"}),t.createElement(U.x,{paddingTop:6,paddingBottom:4},t.createElement(U.x,{textAlign:"center"},t.createElement(de.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(U.x,{paddingTop:4},t.createElement(de.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,u.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(wt,{to:`/marketplace?${_t().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:t.createElement(Qe.default,null)},e({id:(0,u.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},ze=({customFieldUid:e,customField:n})=>{const{type:a,intlLabel:i,intlDescription:o}=n,{formatMessage:l}=(0,v.useIntl)(),{onClickSelectCustomField:d}=(0,ce.Z)(),c=()=>{d({attributeType:a,customFieldUid:e})};return t.createElement(At,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:c},t.createElement(re.k,null,t.createElement(yt.Z,{type:a,customField:e}),t.createElement(U.x,{paddingLeft:4},t.createElement(re.k,null,t.createElement(de.Z,{fontWeight:"bold"},l(i))),t.createElement(re.k,null,t.createElement(de.Z,{variant:"pi",textColor:"neutral600"},l(o))))))};ze.propTypes={customFieldUid:s().string.isRequired,customField:s().shape({type:s().string.isRequired,icon:s().func,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,intlDescription:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired}).isRequired};const sn=ze,rn=()=>{const{formatMessage:e}=(0,v.useIntl)(),n=(0,f.useCustomFields)(),a=Object.entries(n.getAll());if(!a.length)return t.createElement(Ft,null);const i=a.sort((o,l)=>o[1].name>l[1].name?1:-1);return t.createElement(ft.k,{tagName:"button"},t.createElement(De.K,{spacing:3},t.createElement(Zt.r,{gap:0},i.map(([o,l],d)=>{const{paddingLeft:c,paddingRight:p}=ut(d);return t.createElement(Re.P,{key:o,col:6,style:{height:"100%"}},t.createElement(U.x,{paddingLeft:c,paddingRight:p,paddingBottom:1,style:{height:"100%"}},t.createElement(sn,{key:o,customFieldUid:o,customField:l})))})),t.createElement(ct.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,u.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},qt=({attributes:e,forTarget:n,kind:a})=>{const{formatMessage:i}=(0,v.useIntl)(),o=(0,u.Z)("modalForm.tabs.default"),l=(0,u.Z)("modalForm.tabs.custom"),d=n.includes("component")?"component":a,c=(0,u.Z)(`modalForm.sub-header.chooseAttribute.${d}`);return t.createElement(gt.f,{padding:6},t.createElement(dt.v,{label:i({id:(0,u.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(re.k,{justifyContent:"space-between"},t.createElement(de.Z,{variant:"beta",as:"h2"},i({id:c,defaultMessage:"Select a field"})),t.createElement(Se.m,null,t.createElement(Se.O,null,i({id:o,defaultMessage:"Default"})),t.createElement(Se.O,null,i({id:l,defaultMessage:"Custom"})))),t.createElement(U.x,{paddingBottom:6},t.createElement(ae.i,null)),t.createElement(nt.n,null,t.createElement(nt.x,null,t.createElement(ht,{attributes:e})),t.createElement(nt.x,null,t.createElement(rn,null)))))};qt.propTypes={attributes:s().array.isRequired,forTarget:s().string.isRequired,kind:s().string.isRequired};const on=qt;var Nt=r(72899);const J=({description:e,disabled:n,intlLabel:a,isCreating:i,name:o,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),[p,y]=(0,t.useState)(!1),g=a.id?c({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):o,m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=()=>y(B=>!B),T=()=>{l({target:{name:o,value:!1}}),E()},O=({target:{checked:B}})=>{if(!B&&!i){E();return}l({target:{name:o,value:B}})};return t.createElement(t.Fragment,null,t.createElement(Nt.Checkbox,{checked:d,disabled:n,hint:m,name:o,onChange:O},g),t.createElement(f.ConfirmDialog,{isOpen:p,onToggleDialog:E,onConfirm:T,bodyText:{id:(0,u.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,u.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};J.defaultProps={description:null,disabled:!1,value:!1},J.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isCreating:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().bool};const he=J;var Ie=r(2407),et=r(24969);const ln=({actionType:e,attributeName:n,attributeType:a,categoryName:i,contentTypeKind:o,dynamicZoneTarget:l,forTarget:d,modalType:c,targetUid:p,customFieldUid:y})=>{const{formatMessage:g}=(0,v.useIntl)(),{modifiedData:m}=(0,Ve.Z)();let E,T=[];const O=m?.[d]?.[p]||m?.[d]||null;let B=O?.schema.displayName;if(c==="contentType"&&(E=o),["component","editCategory"].includes(c)&&(E="component"),["component","contentType"].includes(c)){let M=(0,u.Z)(`modalForm.component.header-${e}`);return c==="contentType"&&(M=(0,u.Z)(`modalForm.${o}.header-create`)),e==="edit"&&(M=(0,u.Z)("modalForm.header-edit")),t.createElement(et.x,null,t.createElement(re.k,null,t.createElement(U.x,null,t.createElement(yt.Z,{type:E})),t.createElement(U.x,{paddingLeft:3},t.createElement(de.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},g({id:M},{name:B})))))}T=[{label:B,info:{category:O?.category||null,name:O?.schema.displayName}}],c==="chooseAttribute"&&(E=["component","components"].includes(d)?"component":O.schema.kind),c==="addComponentToDynamicZone"&&(E="dynamiczone",T.push({label:l})),(c==="attribute"||c==="customField")&&(E=a,T.push({label:n})),c==="editCategory"&&(T=[{label:g({id:(0,u.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]);const S=T.map(({label:M})=>M).join(",");return t.createElement(et.x,null,t.createElement(De.K,{horizontal:!0,spacing:3},t.createElement(yt.Z,{type:E,customField:y}),t.createElement(Ie.O,{label:S},T.map((M,N)=>{const H=we()(M.label);if(!H)return null;const te=`${M.label}.${N}`;if(M.info?.category){const me=`${H} (${we()(M.info.category)} - ${we()(M.info.name)})`;return t.createElement(Ie.$,{key:te},me)}return t.createElement(Ie.$,{key:te},H)}))))};ln.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},ln.propTypes={actionType:s().string,attributeName:s().string,attributeType:s().string,categoryName:s().string,contentTypeKind:s().string,dynamicZoneTarget:s().string,forTarget:s().oneOf(["contentType","component","components"]),modalType:s().string.isRequired,targetUid:s().string,customFieldUid:s().string};const Qa=ln,dn=({categoryName:e,deleteCategory:n,deleteComponent:a,deleteContentType:i,isAttributeModal:o,isCustomFieldModal:l,isComponentAttribute:d,isComponentToDzModal:c,isContentTypeModal:p,isCreatingComponent:y,isCreatingComponentAttribute:g,isCreatingComponentInDz:m,isCreatingComponentWhileAddingAField:E,isCreatingContentType:T,isCreatingDz:O,isComponentModal:B,isDzAttribute:V,isEditingAttribute:S,isEditingCategory:M,isInFirstComponentStep:N,onSubmitAddComponentAttribute:H,onSubmitAddComponentToDz:te,onSubmitCreateContentType:me,onSubmitCreateComponent:A,onSubmitCreateDz:se,onSubmitEditAttribute:ne,onSubmitEditCategory:pt,onSubmitEditComponent:ue,onSubmitEditContentType:Q,onSubmitEditCustomFieldAttribute:pe,onSubmitEditDz:Ot,onClickFinish:rt})=>{const{formatMessage:oe}=(0,v.useIntl)();return c?m?t.createElement(_.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),te(P,!0)},startIcon:t.createElement(Qe.default,null)},oe({id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(_.z,{variant:"default",type:"submit",onClick:P=>{P.preventDefault(),te(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"})):o&&V&&!O?t.createElement(_.z,{variant:"default",type:"submit",onClick:P=>{P.preventDefault(),rt(),Ot(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"})):o&&V&&O?t.createElement(t.Fragment,null,t.createElement(_.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),se(P,!0)},startIcon:t.createElement(Qe.default,null)},oe({id:(0,u.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):o&&d?N?t.createElement(_.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),H(P,!0)}},oe(g?{id:(0,u.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,u.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(_.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),H(P,!0)},startIcon:t.createElement(Qe.default,null)},oe(E?{id:(0,u.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(_.z,{variant:"default",type:"button",onClick:P=>{P.preventDefault(),rt(),H(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))):o&&!d&&!V?t.createElement(t.Fragment,null,t.createElement(_.z,{type:S?"button":"submit",variant:"secondary",onClick:P=>{P.preventDefault(),ne(P,!0)},startIcon:t.createElement(Qe.default,null)},oe({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(_.z,{type:S?"submit":"button",variant:"default",onClick:P=>{P.preventDefault(),rt(),ne(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))):p?t.createElement(t.Fragment,null,!T&&t.createElement(t.Fragment,null,t.createElement(_.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),i()}},oe({id:"global.delete",defaultMessage:"Delete"})),t.createElement(_.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),Q(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))),T&&t.createElement(_.z,{type:"submit",variant:"secondary",onClick:P=>{P.preventDefault(),me(P,!0)}},oe({id:"global.continue",defaultMessage:"Continue"}))):B?t.createElement(t.Fragment,null,!y&&t.createElement(t.Fragment,null,t.createElement(_.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),a()}},oe({id:"global.delete",defaultMessage:"Delete"})),t.createElement(_.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),ue(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))),y&&t.createElement(_.z,{type:"submit",variant:"secondary",onClick:P=>{P.preventDefault(),A(P,!0)}},oe({id:"global.continue",defaultMessage:"Continue"}))):M?t.createElement(t.Fragment,null,t.createElement(_.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),n(e)}},oe({id:"global.delete",defaultMessage:"Delete"})),t.createElement(_.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),pt(P)}},oe({id:"global.finish",defaultMessage:"finish"}))):l?t.createElement(t.Fragment,null,t.createElement(_.z,{type:S?"button":"submit",variant:"secondary",onClick:P=>{P.preventDefault(),pe(P,!0)},startIcon:t.createElement(Qe.default,null)},oe({id:(0,u.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(_.z,{type:S?"submit":"button",variant:"default",onClick:P=>{P.preventDefault(),rt(),pe(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))):null};dn.defaultProps={categoryName:null,onClickFinish(){}},dn.propTypes={categoryName:s().string,deleteCategory:s().func.isRequired,deleteComponent:s().func.isRequired,deleteContentType:s().func.isRequired,isAttributeModal:s().bool.isRequired,isCustomFieldModal:s().bool.isRequired,isComponentAttribute:s().bool.isRequired,isComponentModal:s().bool.isRequired,isComponentToDzModal:s().bool.isRequired,isContentTypeModal:s().bool.isRequired,isCreatingComponent:s().bool.isRequired,isCreatingComponentAttribute:s().bool.isRequired,isCreatingComponentInDz:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,isCreatingContentType:s().bool.isRequired,isCreatingDz:s().bool.isRequired,isDzAttribute:s().bool.isRequired,isEditingAttribute:s().bool.isRequired,isEditingCategory:s().bool.isRequired,isInFirstComponentStep:s().bool.isRequired,onSubmitAddComponentAttribute:s().func.isRequired,onSubmitAddComponentToDz:s().func.isRequired,onSubmitCreateContentType:s().func.isRequired,onSubmitCreateComponent:s().func.isRequired,onSubmitCreateDz:s().func.isRequired,onSubmitEditAttribute:s().func.isRequired,onSubmitEditCategory:s().func.isRequired,onSubmitEditComponent:s().func.isRequired,onSubmitEditContentType:s().func.isRequired,onSubmitEditCustomFieldAttribute:s().func.isRequired,onSubmitEditDz:s().func.isRequired,onClickFinish:s().func};const _a=dn,es=({modalType:e,forTarget:n,kind:a,actionType:i,step:o})=>{switch(e){case"chooseAttribute":return(0,u.Z)(`modalForm.sub-header.chooseAttribute.${n.includes("component")?"component":a||"collectionType"}`);case"attribute":return(0,u.Z)(`modalForm.sub-header.attribute.${i}${o!=="null"&&o!==null&&i!=="edit"?".step":""}`);case"customField":return(0,u.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,u.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,u.Z)("configurations")}},un=({actionType:e,modalType:n,forTarget:a,kind:i,step:o,attributeType:l,attributeName:d,customField:c})=>{const{formatMessage:p}=(0,v.useIntl)(),y=n==="customField"?c.intlLabel:{id:(0,u.Z)(`attribute.${l}`)};return t.createElement(De.K,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(de.Z,{as:"h2",variant:"beta"},p({id:es({actionType:e,forTarget:a,kind:i,step:o,modalType:n}),defaultMessage:"Add new field"},{type:we()(p(y)),name:we()(d),step:o})),t.createElement(de.Z,{variant:"pi",textColor:"neutral600"},p({id:(0,u.Z)(`attribute.${l}.description`),defaultMessage:"A type for modeling data"})))};un.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},un.propTypes={actionType:s().string,modalType:s().string,forTarget:s().string,kind:s().string,step:s().string,attributeType:s().string,attributeName:s().string,customField:s().object};const ts=un;var Wt=r(91216),zt=r(82562);const cn=({intlLabel:e,name:n,options:a,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),d=e.id?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):n,c=p=>{let y="";p==="true"&&(y=!0),p==="false"&&(y=!1),i({target:{name:n,value:y,type:"select-default-boolean"}})};return t.createElement(Wt.P,{label:d,id:n,name:n,onChange:c,value:(o===null?"":o).toString()},a.map(({metadatas:{intlLabel:p,disabled:y,hidden:g},key:m,value:E})=>t.createElement(zt.W,{key:m,value:E,disabled:y,hidden:g},p.defaultMessage)))};cn.defaultProps={value:null},cn.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().any};const ns=cn;var as=r(15585);const ss=(0,$e.default)(De.K)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,as.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${de.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,mn=({intlLabel:e,name:n,onChange:a,radios:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)();return t.createElement(De.K,{spacing:2},t.createElement(de.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label"},l(e)),t.createElement(ss,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},i.map(d=>t.createElement("label",{htmlFor:d.value.toString(),key:d.value,className:"container"},t.createElement("input",{id:d.value.toString(),name:n,className:"option-input",checked:d.value===o,value:d.value,key:d.value,onChange:a,type:"radio"}),t.createElement(U.x,{className:"option",padding:4},t.createElement(re.k,null,t.createElement(U.x,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(De.K,{spacing:2},t.createElement(de.Z,{fontWeight:"bold"},l(d.title)),t.createElement(de.Z,{variant:"pi",textColor:"neutral600"},l(d.description)))))))))};mn.defaultProps={radios:[]},mn.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,radios:s().arrayOf(s().shape({title:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),value:s().any.isRequired})),value:s().oneOfType([s().string,s().bool]).isRequired};const pn=mn,_n=({onChange:e,name:n,...a})=>{const i=o=>{const l=o.target.value!=="false";e({target:{name:n,value:l,type:"boolean-radio-group"}})};return t.createElement(pn,{...a,name:n,onChange:i})};_n.propTypes={name:s().string.isRequired,onChange:s().func.isRequired};const rs=_n;var os=r(36213),is=r(25108);let gn=new Map,fn=!1;try{fn=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let Kt=!1;try{Kt=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const ea={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}};class ls{format(n){let a="";if(!fn&&this.options.signDisplay!=null?a=us(this.numberFormatter,this.options.signDisplay,n):a=this.numberFormatter.format(n),this.options.style==="unit"&&!Kt){var i;let{unit:o,unitDisplay:l="short",locale:d}=this.resolvedOptions(),c=(i=ea[o])===null||i===void 0?void 0:i[l];a+=c[d]||c.default}return a}formatToParts(n){return this.numberFormatter.formatToParts(n)}formatRange(n,a){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(n,a);if(a<n)throw new RangeError("End date must be >= start date");return`${this.format(n)} \u2013 ${this.format(a)}`}formatRangeToParts(n,a){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(n,a);if(a<n)throw new RangeError("End date must be >= start date");let i=this.numberFormatter.formatToParts(n),o=this.numberFormatter.formatToParts(a);return[...i.map(l=>({...l,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...o.map(l=>({...l,source:"endRange"}))]}resolvedOptions(){let n=this.numberFormatter.resolvedOptions();return!fn&&this.options.signDisplay!=null&&(n={...n,signDisplay:this.options.signDisplay}),!Kt&&this.options.style==="unit"&&(n={...n,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),n}constructor(n,a={}){this.numberFormatter=ds(n,a),this.options=a}}function ds(e,n={}){let{numberingSystem:a}=n;if(a&&e.indexOf("-u-nu-")===-1&&(e=`${e}-u-nu-${a}`),n.style==="unit"&&!Kt){var i;let{unit:d,unitDisplay:c="short"}=n;if(!d)throw new Error('unit option must be provided with style: "unit"');if(!(!((i=ea[d])===null||i===void 0)&&i[c]))throw new Error(`Unsupported unit ${d} with unitDisplay = ${c}`);n={...n,style:"decimal"}}let o=e+(n?Object.entries(n).sort((d,c)=>d[0]<c[0]?-1:1).join():"");if(gn.has(o))return gn.get(o);let l=new Intl.NumberFormat(e,n);return gn.set(o,l),l}function us(e,n,a){if(n==="auto")return e.format(a);if(n==="never")return e.format(Math.abs(a));{let i=!1;if(n==="always"?i=a>0||Object.is(a,0):n==="exceptZero"&&(Object.is(a,-0)||Object.is(a,0)?a=Math.abs(a):i=a>0),i){let o=e.format(-a),l=e.format(a),d=o.replace(l,"").replace(/\u200e|\u061C/,"");return[...d].length!==1&&is.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),o.replace(l,"!!!").replace(d,"+").replace("!!!",l)}else return e.format(a)}}const cs=new RegExp("^.*\\(.*\\).*$"),ms=["latn","arab","hanidec"];class ps{parse(n){return yn(this.locale,this.options,n).parse(n)}isValidPartialNumber(n,a,i){return yn(this.locale,this.options,n).isValidPartialNumber(n,a,i)}getNumberingSystem(n){return yn(this.locale,this.options,n).options.numberingSystem}constructor(n,a={}){this.locale=n,this.options=a}}const ta=new Map;function yn(e,n,a){let i=na(e,n);if(!e.includes("-nu-")&&!i.isValidPartialNumber(a)){for(let o of ms)if(o!==i.options.numberingSystem){let l=na(e+(e.includes("-u-")?"-nu-":"-u-nu-")+o,n);if(l.isValidPartialNumber(a))return l}}return i}function na(e,n){let a=e+(n?Object.entries(n).sort((o,l)=>o[0]<l[0]?-1:1).join():""),i=ta.get(a);return i||(i=new gs(e,n),ta.set(a,i)),i}class gs{parse(n){let a=this.sanitize(n);a=Vt(a,this.symbols.group,"").replace(this.symbols.decimal,".").replace(this.symbols.minusSign,"-").replace(this.symbols.numeral,this.symbols.index);let i=a?+a:NaN;if(isNaN(i))return NaN;if(this.options.currencySign==="accounting"&&cs.test(n)&&(i=-1*i),this.options.style==="percent"){i/=100;var o;i=+i.toFixed(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2)}return i}sanitize(n){return n=n.replace(this.symbols.literals,""),n=n.replace("-",this.symbols.minusSign),this.options.numberingSystem==="arab"&&(n=n.replace(",",this.symbols.decimal),n=n.replace(String.fromCharCode(1548),this.symbols.decimal),n=Vt(n,".",this.symbols.group)),this.options.locale==="fr-FR"&&(n=Vt(n,".",String.fromCharCode(8239))),n}isValidPartialNumber(n,a=-1/0,i=1/0){return n=this.sanitize(n),n.startsWith(this.symbols.minusSign)&&a<0?n=n.slice(this.symbols.minusSign.length):this.symbols.plusSign&&n.startsWith(this.symbols.plusSign)&&i>0&&(n=n.slice(this.symbols.plusSign.length)),n.startsWith(this.symbols.group)?!1:(n=Vt(n,this.symbols.group,"").replace(this.symbols.numeral,"").replace(this.symbols.decimal,""),n.length===0)}constructor(n,a={}){this.formatter=new Intl.NumberFormat(n,a),this.options=this.formatter.resolvedOptions(),this.symbols=fs(this.formatter,this.options,a)}}const aa=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]);function fs(e,n,a){var i,o,l,d;let c=e.formatToParts(-10000.111),p=e.formatToParts(10000.111),y=e.formatToParts(1);var g;let m=(g=(i=c.find(A=>A.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&g!==void 0?g:"-",E=(o=p.find(A=>A.type==="plusSign"))===null||o===void 0?void 0:o.value;!E&&(a?.signDisplay==="exceptZero"||a?.signDisplay==="always")&&(E="+");let T=(l=c.find(A=>A.type==="decimal"))===null||l===void 0?void 0:l.value,O=(d=c.find(A=>A.type==="group"))===null||d===void 0?void 0:d.value,B=c.filter(A=>!aa.has(A.type)).map(A=>sa(A.value)),V=y.filter(A=>!aa.has(A.type)).map(A=>sa(A.value)),S=[...new Set([...V,...B])].sort((A,se)=>se.length-A.length),M=S.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${S.join("|")}|[\\p{White_Space}]`,"gu"),N=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),H=new Map(N.map((A,se)=>[A,se])),te=new RegExp(`[${N.join("")}]`,"g");return{minusSign:m,plusSign:E,decimal:T,group:O,literals:M,numeral:te,index:A=>String(H.get(A))}}function Vt(e,n,a){return e.replaceAll?e.replaceAll(n,a):e.split(n).join(a)}function sa(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var hn=r(22522),ys=r(54574),hs=r(19270),bs=r(45377),vs=r(63428),Cs=r(96404);const ra="en-EN",Ts=()=>typeof navigator>"u"?ra:navigator.language?navigator.language:navigator.userLanguage?navigator.userLanguage:ra;var oa=r(7801),ia=r(98402);function Es({prop:e,defaultProp:n,onChange:a=()=>{}}){const[i,o]=Ms({defaultProp:n,onChange:a}),l=e!==void 0,d=typeof e=="function"?e(i):e,c=l?d:i,p=(0,ia.useCallbackRef)(a),y=t.useCallback(g=>{if(l){const m=typeof g=="function"?g(d):g;m!==d&&(p(m),o(g))}else o(g)},[l,d,o,p]);return[c,y]}function Ms({defaultProp:e,onChange:n}){const a=t.useState(e),[i]=a,o=t.useRef(i),l=(0,ia.useCallbackRef)(n);return t.useEffect(()=>{o.current!==i&&(l(i),o.current=i)},[i,o,l]),a}var la=r(2504),xs=r(75228);const da=$e.default.button`
  display: flex;
  height: 1rem;
  align-items: ${({reverse:e})=>e?"flex-end":"flex-start"};
  transform: translateY(${({reverse:e})=>e?"-2px":"2px"});
  cursor: ${({disabled:e})=>e?"not-allowed":void 0};
  svg {
    display: block;
    height: ${4/16}rem;
    transform: ${({reverse:e})=>e?"rotateX(180deg)":void 0};
  }
`,Rs="",Ht=t.forwardRef(({size:e,startAction:n,name:a,hint:i,error:o,label:l,labelAction:d,locale:c,id:p,onValueChange:y,value:g,step:m,required:E,disabled:T,...O},B)=>{const V=(0,la.M)(p),S=c||Ts(),M=(0,t.useRef)(new ps(S,{style:"decimal"})),N=(0,t.useRef)(new ls(S,{maximumFractionDigits:20})),[H,te]=Es({prop(Q){const pe=String(g);return isNaN(pe)||pe!==Q&&Q!==""?Q:pe},defaultProp:Rs,onChange(Q){const pe=M.current.parse(Q);y(isNaN(pe)?void 0:pe)}}),me=Q=>{te(String(Q))},A=({target:{value:Q}})=>{M.current.isValidPartialNumber(Q)&&me(Q)},se=()=>{if(!H){me(m);return}const Q=M.current.parse(H),pe=isNaN(Q)?m:Q+m;me(N.current.format(pe))},ne=()=>{if(!H){me(-m);return}const Q=M.current.parse(H),pe=isNaN(Q)?-m:Q-m;me(N.current.format(pe))},pt=Q=>{if(!T)switch(Q.key){case oa.y.DOWN:{Q.preventDefault(),ne();break}case oa.y.UP:{Q.preventDefault(),se();break}}},ue=()=>{if(H){const Q=M.current.parse(H),pe=isNaN(Q)?"":N.current.format(Q);me(pe)}};return t.createElement(ys.g,{name:a,hint:i,error:o,id:V,required:E},t.createElement(re.k,{direction:"column",alignItems:"stretch",gap:1},l&&t.createElement(hs.Q,{action:d},l),t.createElement(bs._,{ref:B,startAction:n,disabled:T,type:"text",inputmode:"decimal",onChange:A,onKeyDown:pt,onBlur:ue,value:H,size:e,endAction:t.createElement(t.Fragment,null,t.createElement(da,{disabled:T,"aria-hidden":!0,reverse:!0,onClick:se,tabIndex:-1,type:"button","data-testid":"ArrowUp"},t.createElement(St.J,{as:hn.CarretDown,color:"neutral500"})),t.createElement(da,{disabled:T,"aria-hidden":!0,onClick:ne,tabIndex:-1,type:"button","data-testid":"ArrowDown"},t.createElement(St.J,{as:hn.CarretDown,color:"neutral500"}))),...O}),t.createElement(vs.J,null),t.createElement(Cs.c,null)))});Ht.displayName="NumberInput",Ht.defaultProps={"aria-label":void 0,disabled:!1,error:void 0,hint:void 0,id:void 0,label:void 0,labelAction:void 0,locale:void 0,required:!1,size:"M",startAction:void 0,step:1,value:void 0},Ht.propTypes={"aria-label":I.string,disabled:I.bool,error:I.string,hint:I.oneOfType([I.string,I.node,I.arrayOf(I.node)]),id:I.string,label:I.string,labelAction:I.element,locale:I.string,name:I.string.isRequired,onValueChange:I.func.isRequired,required:I.bool,size:I.oneOf(Object.keys(xs.J.input)),startAction:I.element,step:I.number,value:I.number};var bn=r(16364);const vn=({error:e,intlLabel:n,modifiedData:a,name:i,onChange:o,value:l})=>{const{formatMessage:d}=(0,v.useIntl)(),[c,p]=(0,t.useState)(!!l||l===0),y=n.id?d({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):i,g=a.type==="biginteger"?"text":"number",m=!a.type,E=e?d({id:e,defaultMessage:e}):"";return t.createElement(De.K,{spacing:2},t.createElement(os.X,{id:i,name:i,onValueChange:T=>{o({target:{name:i,value:T?g==="text"?"0":0:null}}),p(V=>!V)},value:c},y),c&&t.createElement(U.x,{paddingLeft:6,style:{maxWidth:"200px"}},g==="text"?t.createElement(bn.o,{"aria-label":y,disabled:m,error:E,id:i,name:i,onChange:o,value:l===null?"":l}):t.createElement(Ht,{"aria-label":y,disabled:m,error:E,id:i,name:i,onValueChange:T=>{o({target:{name:i,value:T,type:g}})},value:l||0})))};vn.defaultProps={error:null,value:null},vn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().string,s().object,s().bool,s().number])};const Zs=vn,ua=({onChange:e,...n})=>{const a=(0,f.useNotification)(),i=o=>{a({type:"info",message:{id:(0,u.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(o)};return t.createElement(pn,{...n,onChange:i})};ua.propTypes={onChange:s().func.isRequired};const As=ua;var Cn=r(1734),ca=r(17205),be=r(59015);const Tn=({oneThatIsCreatingARelationWithAnother:e,target:n})=>{const{contentTypes:a,sortedContentTypesList:i}=(0,Ve.Z)(),o=(0,K.useDispatch)(),l=i.filter(kt),d=k()(a,[n,"plugin"],null),c=k()(a,[n,"schema","displayName"],"error");return t.createElement(ca.O,{id:"label",label:`${c}
    ${d?`(from: ${d})`:""}`},l.map(({uid:p,title:y,restrictRelationsTo:g,plugin:m})=>{const E=()=>{const T=m?`${m}_${y}`:y;o({type:be.aG,target:{value:p,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:T,targetContentTypeAllowedRelations:g}})};return t.createElement(ca.s,{key:p,onClick:E},y,"\xA0",m&&t.createElement(t.Fragment,null,"(from: ",m,")"))}))};Tn.defaultProps={target:null},Tn.propTypes={oneThatIsCreatingARelationWithAnother:s().string.isRequired,target:s().string};const Ss=Tn,En=({disabled:e,error:n,header:a,isMain:i,name:o,onChange:l,oneThatIsCreatingARelationWithAnother:d,target:c,value:p})=>t.createElement(U.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(re.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?t.createElement(de.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},a):t.createElement(Ss,{target:c,oneThatIsCreatingARelationWithAnother:d})),t.createElement(ae.i,{background:"neutral200"}),t.createElement(U.x,{padding:4},t.createElement(f.GenericInput,{disabled:e,error:n?.id||null,intlLabel:{id:(0,u.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:o,onChange:l,type:"text",value:p})));En.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},En.propTypes={disabled:s().bool,error:s().object,header:s().string,isMain:s().bool,name:s().string.isRequired,onChange:s().func,oneThatIsCreatingARelationWithAnother:s().string,target:s().string,value:s().string};const ma=En;var Fs=r(39138),pa=r.n(Fs),Ns=r(23450),Mn=r.n(Ns);const Ls=e=>(0,Y.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM20.4 14a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2Z",fill:"#212134"}),(0,Y.jsx)("path",{d:"M6.24 10.881H18v1.44H6.24v-1.44Z",fill:"#212134"})]}),Ps=Ls,Os=e=>(0,Y.jsx)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.128 12.321a3.601 3.601 0 1 1 0-1.44H18.72v-2.4L24 11.6l-5.28 3.12v-2.4H7.128ZM6 11.6a2.4 2.4 0 1 1-4.8 0 2.4 2.4 0 0 1 4.8 0Z",fill:"#212134"})}),Ds=Os,$s=e=>(0,Y.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.132a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2Z",fill:"#212134"}),(0,Y.jsx)("path",{d:"M6.24 11.011h13.44v1.44H6.24v-1.44Z",fill:"#212134"}),(0,Y.jsx)("path",{d:"m5.872 10.43 8.347-6.176.86 1.163-8.347 6.176-.86-1.162ZM5.9 13.087l8.346 6.177.864-1.168-8.347-6.176-.864 1.167ZM18.72 8.613l5.28 3.12-5.28 3.12v-6.24Z",fill:"#212134"}),(0,Y.jsx)("path",{d:"M12.72 2.633 18.82 2 16.43 7.649 12.72 2.633ZM12.72 21.307l6.1.633-2.389-5.649-3.711 5.016Z",fill:"#212134"})]}),Is=$s,js=e=>(0,Y.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,Y.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44Z",fill:"#212134"}),(0,Y.jsx)("path",{d:"m5.871 10.699 8.347-6.176.86 1.162-8.347 6.177-.86-1.163ZM5.899 13.354l8.346 6.176.864-1.167-8.347-6.176-.863 1.167Z",fill:"#212134"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 14.399a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM20.4 14.399a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM16.8 22.8a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM16.8 6a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2Z",fill:"#212134"})]}),Bs=js,ks=e=>(0,Y.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,Y.jsx)("path",{d:"M17.76 11.28H6v1.44h11.76v-1.44Z",fill:"#212134"}),(0,Y.jsx)("path",{d:"M18.129 10.699 9.782 4.523l-.86 1.162 8.347 6.177.86-1.163ZM18.101 13.354 9.755 19.53l-.864-1.167 8.347-6.176.863 1.167Z",fill:"#212134"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.399a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2ZM3.6 14.399a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2ZM7.2 22.8a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2ZM7.2 6a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2Z",fill:"#212134"})]}),Us=ks,ws=e=>(0,Y.jsxs)("svg",{width:"1rem",height:"1rem",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.4 14.4a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM3.6 14.4a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM20.4 22.8a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2ZM20.4 6a2.4 2.4 0 1 0 0-4.8 2.4 2.4 0 0 0 0 4.8Zm0 1.2a3.6 3.6 0 1 0 0-7.2 3.6 3.6 0 0 0 0 7.2Z",fill:"#212134"}),(0,Y.jsx)("path",{d:"M6.24 11.28H18v1.44H6.24v-1.44Z",fill:"#212134"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.6 22.8a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2ZM3.6 6a2.4 2.4 0 1 1 0-4.8 2.4 2.4 0 0 1 0 4.8Zm0 1.2a3.6 3.6 0 1 1 0-7.2 3.6 3.6 0 0 1 0 7.2Z",fill:"#212134"}),(0,Y.jsx)("path",{d:"M18.328 13.863 6.49 19.765l-.652-1.307 11.838-5.902.652 1.307ZM18.358 10.078 6.398 4.115l-.646 1.294 11.961 5.963.645-1.294Z",fill:"#212134"}),(0,Y.jsx)("path",{d:"M18.323 18.83 6.252 12.813l-.643 1.29 12.071 6.019.643-1.29ZM18.136 5.228 6.207 11.176l-.653-1.311 11.928-5.948.654 1.311Z",fill:"#212134"})]}),qs=ws,Ws=(0,$e.default)(U.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,zs=(0,$e.default)(U.x)`
  background: ${({theme:e,isSelected:n})=>e.colors[n?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:n})=>e.colors[n?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Ks=(0,$e.default)(re.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Vs={oneWay:Ds,oneToOne:Ps,oneToMany:Bs,manyToOne:Us,manyToMany:qs,manyWay:Is},xn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:n,relationType:a,target:i})=>{const o=(0,K.useDispatch)(),{formatMessage:l}=(0,v.useIntl)(),{contentTypes:d,modifiedData:c}=(0,Ve.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],m=(e==="contentType"?k()(c,[e,"schema","kind"],""):e)==="collectionType"?p:y,E=a==="manyToOne",T=k()(d,[i,"schema","displayName"],"unknown"),O=E?T:n,B=E?n:T,V=Mn()(O,a==="manyToMany"?2:1),S=k()(d,[i,"schema","restrictRelationsTo"],null),M=Mn()(B,["manyToMany","oneToMany","manyToOne","manyWay"].includes(a)?2:1);return a?t.createElement(re.k,{style:{flex:1}},t.createElement(Ws,null,t.createElement(re.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(ft.k,{tagName:"button"},t.createElement(De.K,{spacing:3,horizontal:!0},m.map(N=>{const H=Vs[N],te=S===null||S.includes(N);return t.createElement(zs,{as:"button",isSelected:a===N,disabled:!te,key:N,onClick:()=>{te&&o({type:be.QQ,target:{oneThatIsCreatingARelationWithAnother:n,targetContentType:i,value:N}})},padding:2,type:"button"},t.createElement(H,{key:N}))}))))),t.createElement(Ks,{justifyContent:"center"},t.createElement(de.Z,null,pa()(V,{length:24}),"\xA0"),t.createElement(de.Z,{textColor:"primary600"},l({id:(0,u.Z)(`relation.${a}`)}),"\xA0"),t.createElement(de.Z,null,pa()(M,{length:24})))):null};xn.defaultProps={relationType:null,target:null},xn.propTypes={naturePickerType:s().string.isRequired,oneThatIsCreatingARelationWithAnother:s().string.isRequired,relationType:s().string,target:s().string};const Hs=xn,ga=({formErrors:e,mainBoxHeader:n,modifiedData:a,naturePickerType:i,onChange:o})=>{const l=(0,Cn.Z)(a.relation,a.targetAttribute);return t.createElement(re.k,{style:{position:"relative"}},t.createElement(ma,{isMain:!0,header:n,error:e?.name||null,name:"name",onChange:o,value:a?.name||""}),t.createElement(Hs,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:n,relationType:l,target:a.target}),t.createElement(ma,{disabled:["oneWay","manyWay"].includes(l),error:e?.targetAttribute||null,name:"targetAttribute",onChange:o,oneThatIsCreatingARelationWithAnother:n,target:a.target,value:a?.targetAttribute||""}))};ga.propTypes={formErrors:s().object.isRequired,mainBoxHeader:s().string.isRequired,modifiedData:s().object.isRequired,naturePickerType:s().string.isRequired,onChange:s().func.isRequired};const Gs=ga;var fa=r(97406);const Rn=({description:e,error:n,intlLabel:a,modifiedData:i,name:o,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=(0,t.useRef)(l),y=i?.displayName||"";(0,t.useEffect)(()=>{if(y){const T=(0,fa.Z)(y);try{const O=Mn()(T,2);p.current({target:{name:o,value:O}})}catch{p.current({target:{name:o,value:T}})}}else p.current({target:{name:o,value:""}})},[y,o]);const g=n?c({id:n,defaultMessage:n}):"",m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=c(a);return t.createElement(bn.o,{error:g,label:E,id:o,hint:m,name:o,onChange:l,value:d||""})};Rn.defaultProps={description:null,error:null,value:null},Rn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Xs=Rn;var Ys=r(38855),Js=r(90608);const Zn=({error:e,intlLabel:n,name:a,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),{allComponentsCategories:d}=(0,Ve.Z)(),[c,p]=(0,t.useState)(d),y=e?l({id:e,defaultMessage:e}):"",g=l(n),m=T=>{i({target:{name:a,value:T,type:"select-category"}})},E=T=>{p(O=>[...O,T]),m(T)};return t.createElement(Ys.X,{error:y,id:a,label:g,name:a,onChange:m,onCreateOption:E,value:o},c.map(T=>t.createElement(Js.O,{key:T,value:T},T)))};Zn.defaultProps={error:null,value:null},Zn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Qs=Zn,An=({error:e,intlLabel:n,isAddingAComponentToAnotherComponent:a,isCreating:i,isCreatingComponentWhileAddingAField:o,componentToCreate:l,name:d,onChange:c,targetUid:p,forTarget:y,value:g})=>{const{formatMessage:m}=(0,v.useIntl)(),E=e?m({id:e,defaultMessage:e}):"",T=m(n),{componentsGroupedByCategory:O,componentsThatHaveOtherComponentInTheirAttributes:B}=(0,Ve.Z)(),V=["component","components"].includes(y);let S=Object.entries(O).reduce((M,N)=>{const[H,te]=N,me=te.map(A=>({uid:A.uid,label:A.schema.displayName,categoryName:H}));return[...M,...me]},[]);return a&&(S=S.filter(M=>!B.includes(M.uid))),V&&(S=S.filter(M=>M.uid!==p)),o&&(S=[{uid:g,label:l.displayName,categoryName:l.category}]),t.createElement(Wt.P,{disabled:o||!i,error:E,label:T,id:d,name:d,onChange:M=>{c({target:{name:d,value:M,type:"select-category"}})},value:g||""},S.map(M=>t.createElement(zt.W,{key:M.uid,value:M.uid},`${M.categoryName} - ${M.label}`)))};An.defaultProps={componentToCreate:null,error:null},An.propTypes={componentToCreate:s().object,forTarget:s().string.isRequired,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isAddingAComponentToAnotherComponent:s().bool.isRequired,isCreating:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,targetUid:s().string.isRequired,value:s().string.isRequired};const _s=An,Sn=(e,n)=>e.find(({name:a})=>a===n),ya=({dynamicZoneTarget:e,intlLabel:n,name:a,onChange:i,value:o})=>{const{formatMessage:l}=(0,v.useIntl)(),{componentsGroupedByCategory:d,modifiedData:c}=(0,Ve.Z)(),y=(Sn(c.contentType.schema.attributes,e)||{}).components||[],g=Object.keys(d).reduce((T,O)=>{const B=d[O].filter(({uid:V})=>!y.includes(V));return B.length>0&&(T[O]=B),T},{}),m=Object.entries(g).reduce((T,O)=>{const[B,V]=O,S={label:B,children:V.map(({uid:M,schema:{displayName:N}})=>({label:N,value:M}))};return T.push(S),T},[]),E=l({id:(0,u.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:o.length});return t.createElement(xt.Q,{id:"select1",label:l(n),customizeContent:()=>E,name:a,onChange:T=>{i({target:{name:a,value:T,type:"select-components"}})},options:m,value:o||[]})};ya.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,dynamicZoneTarget:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().array.isRequired};const er=ya,Fn=({intlLabel:e,error:n,modifiedData:a,name:i,onChange:o,options:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=c(e),y=n?c({id:n,defaultMessage:n}):"",g=m=>{o({target:{name:i,value:m,type:"select"}}),d&&a.default!==void 0&&a.default!==null&&o({target:{name:"default",value:null}})};return t.createElement(Wt.P,{error:y,label:p,id:i,name:i,onChange:g,value:d||""},l.map(({metadatas:{intlLabel:m,disabled:E,hidden:T},key:O,value:B})=>t.createElement(zt.W,{key:O,value:B,disabled:E,hidden:T},c({id:m.id,defaultMessage:m.defaultMessage},m.values))))};Fn.defaultProps={error:void 0,value:""},Fn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const tr=Fn,Nn=({intlLabel:e,error:n,modifiedData:a,name:i,onChange:o,options:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=c(e),y=n?c({id:n,defaultMessage:n}):"",g=m=>{o({target:{name:i,value:m,type:"select"}}),d&&(m==="biginteger"&&d!=="biginteger"&&(a.default!==void 0&&a.default!==null&&o({target:{name:"default",value:null}}),a.max!==void 0&&a.max!==null&&o({target:{name:"max",value:null}}),a.min!==void 0&&a.min!==null&&o({target:{name:"min",value:null}})),["decimal","float","integer"].includes(m)&&d==="biginteger"&&(a.default!==void 0&&a.default!==null&&o({target:{name:"default",value:null}}),a.max!==void 0&&a.max!==null&&o({target:{name:"max",value:null}}),a.min!==void 0&&a.min!==null&&o({target:{name:"min",value:null}})))};return t.createElement(Wt.P,{error:y,label:p,id:i,name:i,onChange:g,value:d||""},l.map(({metadatas:{intlLabel:m,disabled:E,hidden:T},key:O,value:B})=>t.createElement(zt.W,{key:O,value:B,disabled:E,hidden:T},c(m))))};Nn.defaultProps={error:void 0,value:""},Nn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const nr=Nn,Ln=({description:e,error:n,intlLabel:a,modifiedData:i,name:o,onChange:l,value:d})=>{const{formatMessage:c}=(0,v.useIntl)(),p=(0,t.useRef)(l),y=i?.displayName||"";(0,t.useEffect)(()=>{y?p.current({target:{name:o,value:(0,fa.Z)(y)}}):p.current({target:{name:o,value:""}})},[y,o]);const g=n?c({id:n,defaultMessage:n}):"",m=e?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=c(a);return t.createElement(bn.o,{error:g,label:E,id:o,hint:m,name:o,onChange:l,value:d||""})};Ln.defaultProps={description:null,error:null,value:null},Ln.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const ar=Ln,ha=({form:e,formErrors:n,genericInputProps:a,modifiedData:i,onChange:o})=>{const{formatMessage:l}=(0,v.useIntl)();return e.map((d,c)=>d.items.length===0?null:t.createElement(U.x,{key:c},d.sectionTitle&&t.createElement(U.x,{paddingBottom:4},t.createElement(de.Z,{variant:"delta",as:"h3"},l(d.sectionTitle))),t.createElement(Zt.r,{gap:4},d.items.map((p,y)=>{const g=`${c}.${y}`,m=k()(i,p.name,""),E=Object.keys(n).find(O=>O===p.name),T=E?n[E].id:k()(n,[...p.name.split(".").filter(O=>O!=="componentToCreate"),"id"],null);return p.type==="pushRight"?t.createElement(Re.P,{col:p.size||6,key:p.name||g},t.createElement("div",null)):t.createElement(Re.P,{col:p.size||6,key:p.name||g},t.createElement(f.GenericInput,{...p,...a,error:T,onChange:o,value:m}))}))))};ha.propTypes={form:s().arrayOf(s().object).isRequired,formErrors:s().object.isRequired,genericInputProps:s().object.isRequired,modifiedData:s().object.isRequired,onChange:s().func.isRequired};const ba=ha;var sr=r(64256);const Pn=({description:e,disabled:n,error:a,intlLabel:i,labelAction:o,name:l,onChange:d,placeholder:c,value:p})=>{const{formatMessage:y}=(0,v.useIntl)(),g=a?y({id:a,defaultMessage:a}):"",m=e?y({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",E=y(i),T=c?y({id:c.id,defaultMessage:c.defaultMessage},{...c.values}):"",O=Array.isArray(p)?p.join(`
`):"",B=V=>{const S=V.target.value.split(`
`);d({target:{name:l,value:S}})};return t.createElement(sr.g,{disabled:n,error:g,label:E,labelAction:o,id:l,hint:m,name:l,onChange:B,placeholder:T,value:O},O)};Pn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Pn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,labelAction:s().element,name:s().string.isRequired,onChange:s().func.isRequired,placeholder:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),value:s().oneOfType([s().array,s().string])};const rr=Pn,or=(e,n)=>{const a=k()(e,["contentType","schema","kind"],"");return a==="singleType"||a===n.kind?!0:k()(e,["contentType","schema","attributes"],[]).filter(({relation:l,type:d,targetAttribute:c})=>{const p=(0,Cn.Z)(l,c);return d==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},ir=(e="",n,a)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],o=e==="contentType",l=a.includes(n),d=!o&&!l;return o?[[...i,"uid"],["component","dynamiczone"]]:d?[i,["component"]]:[i]},va=e=>e.reduce((n,a)=>{const i=a.items.reduce((o,l)=>(l.name&&o.push(l.name),o),[]);return[...n,...i]},[]);var x=r(53209),bt=r(97392);const lr={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},Ca=/^[A-Za-z][-_0-9A-Za-z]*$/,dr=e=>{const n={name:x.Z_().matches(Ca,f.translatedErrors.regex).test({name:"nameNotAllowed",message:f.translatedErrors.unique,test(a){return a?!e.includes((0,b.toLower)(a)):!1}}).required(f.translatedErrors.required)};return x.Ry(n)},ur=(e,n,a)=>{const i={displayName:x.Z_().test({name:"nameAlreadyUsed",message:f.translatedErrors.unique,test(o){if(!o)return!1;const l=(0,bt.N)(o,a);return!e.includes(l)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(o){return o?!n.includes((0,b.toLower)((0,b.trim)(o))):!1}}).required(f.translatedErrors.required),category:x.Z_().matches(Ca,f.translatedErrors.regex).required(f.translatedErrors.required),icon:x.Z_()};return x.Ry(i)},On={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,u.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,u.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},vt={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,u.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},$={default:{name:"default",type:"text",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,u.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,u.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,u.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,u.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,u.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,u.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,u.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},cr={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},component({repeatable:e},n){return n==="1"?{sections:vt.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private,$.max,$.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...$.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.max,$.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...$.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.maxLength,$.minLength,$.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((n,a)=>e.enum.indexOf(n)===a&&n).map(n=>({key:n,value:n,metadatas:{intlLabel:{id:`${n}.no-override`,defaultMessage:n}}}))]},{intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,u.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,u.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.private]}]}},number(e){const n=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:n,intlLabel:{id:(0,u.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.max,$.min,$.private]}]}},password(){return{sections:[{sectionTitle:null,items:[$.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.maxLength,$.minLength,$.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[$.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.maxLength,$.minLength,$.private]}]}},text(){return{sections:[{sectionTitle:null,items:[$.default,$.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.unique,$.maxLength,$.minLength,$.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...$.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[$.required,$.maxLength,$.minLength,$.private]}]}}},He={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,u.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Ta={advanced:cr,base:{component(e,n){if(n==="1"){const a=e.createComponent===!0?vt.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[On]},...a]}}return{sections:[{sectionTitle:null,items:[He,{name:"component",type:"select-component",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,u.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,u.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,u.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[He,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[He]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,u.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,u.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[He]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,u.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,u.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,u.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[He,{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,u.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[He]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[He]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,u.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,u.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,u.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,u.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,n,a){const i=a.filter(({type:o})=>["string","text"].includes(o)).map(({name:o})=>({key:o,value:o,metadatas:{intlLabel:{id:`${o}.no-override`,defaultMessage:o}}}));return{sections:[{sectionTitle:null,items:[{...He,placeholder:{id:(0,u.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}},{intlLabel:{id:(0,u.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}},mr={sections:[{sectionTitle:null,items:[He]}]};var pr=r(44908),gr=r.n(pr),fr=r(46831),yr=r.n(fr);const Dn=e=>yr()(e,{decamelize:!1,lowercase:!1,separator:"_"}),Ea=/^[A-Za-z][_0-9A-Za-z]*$/,Ma=e=>({name:"attributeNameAlreadyUsed",message:f.translatedErrors.unique,test(n){return n?!e.includes(n):!1}}),Ko=(e,n,a)=>{const i=get(e,["schema","attributes"],{});return Object.keys(i).filter(o=>n?o!==a:!0)},$n=e=>({name:"forbiddenAttributeName",message:(0,u.Z)("error.attributeName.reserved-name"),test(n){return n?!e.includes(n):!1}}),C={default:()=>x.Z_().nullable(),max:()=>x.Rx().integer().nullable(),min:()=>x.Rx().integer().when("max",(e,n)=>e?n.max(e,(0,u.Z)("error.validation.minSupMax")):n).nullable(),maxLength:()=>x.Rx().integer().positive((0,u.Z)("error.validation.positive")).nullable(),minLength:()=>x.Rx().integer().min(0).when("maxLength",(e,n)=>e?n.max(e,(0,u.Z)("error.validation.minSupMax")):n).nullable(),name(e,n){return x.Z_().test(Ma(e)).test($n(n)).matches(Ea,f.translatedErrors.regex).required(f.translatedErrors.required)},required:()=>x.O7(),type:()=>x.Z_().required(f.translatedErrors.required),unique:()=>x.O7().nullable()},In=(e,n)=>({name:C.name(e,n),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength(),regex:x.Z_().test({name:"isValidRegExpPattern",message:(0,u.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),jn={name:"isMinSuperiorThanMax",message:(0,u.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:n}=this.parent;return!n||Number.isNaN((0,b.toNumber)(e))?!0:(0,b.toNumber)(n)>=(0,b.toNumber)(e)}},Bn={date(e,n){const a={name:C.name(e,n),type:C.type()};return x.Ry(a)},datetime(e,n){const a={name:C.name(e,n),type:C.type()};return x.Ry(a)},time(e,n){const a={name:C.name(e,n),type:C.type()};return x.Ry(a)},default(e,n){const a={name:C.name(e,n),type:C.type()};return x.Ry(a)},biginteger(e,n){const a={name:C.name(e,n),type:C.type(),default:x.Z_().nullable().matches(/^-?\d*$/),unique:C.unique(),required:C.required(),max:x.Z_().nullable().matches(/^-?\d*$/,f.translatedErrors.regex),min:x.Z_().nullable().test(jn).matches(/^-?\d*$/,f.translatedErrors.regex)};return x.Ry(a)},boolean(e,n){const a={name:C.name(e,n),default:x.O7().nullable(),required:C.required(),unique:C.unique()};return x.Ry(a)},component(e,n){const a={name:C.name(e,n),type:C.type(),required:C.required(),max:C.max(),min:C.min(),component:x.Z_().required(f.translatedErrors.required)};return x.Ry(a)},decimal(e,n){const a={name:C.name(e,n),type:C.type(),default:x.Rx(),required:C.required(),max:x.Rx(),min:x.Rx().test(jn)};return x.Ry(a)},dynamiczone(e,n){const a={name:C.name(e,n),type:C.type(),required:C.required(),max:C.max(),min:C.min()};return x.Ry(a)},email(e,n){const a={name:C.name(e,n),type:C.type(),default:x.Z_().email().nullable(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return x.Ry(a)},enumeration(e,n){const a=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:x.Z_().test(Ma(e)).test($n(n)).matches(a,f.translatedErrors.regex).required(f.translatedErrors.required),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),enum:x.IX().of(x.Z_()).min(1,f.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,u.Z)("error.validation.enum-duplicate"),test(o){return!gr()(o.map(Dn).filter((d,c,p)=>p.indexOf(d)!==c)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,u.Z)("error.validation.enum-empty-string"),test:o=>!o.map(Dn).some(l=>l==="")}).test({name:"doesMatchRegex",message:(0,u.Z)("error.validation.enum-regex"),test:o=>o.map(Dn).every(l=>a.test(l))}),enumName:x.Z_().nullable()};return x.Ry(i)},float(e,n){const a={name:C.name(e,n),type:C.type(),required:C.required(),default:x.Rx(),max:x.Rx(),min:x.Rx().test(jn)};return x.Ry(a)},integer(e,n){const a={name:C.name(e,n),type:C.type(),default:x.Rx().integer(),unique:C.unique(),required:C.required(),max:C.max(),min:C.min()};return x.Ry(a)},json(e,n){const a={name:C.name(e,n),type:C.type(),required:C.required(),unique:C.unique()};return x.Ry(a)},media(e,n){const a={name:C.name(e,n),type:C.type(),multiple:x.O7(),required:C.required(),allowedTypes:x.IX().of(x.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return x.Ry(a)},password(e,n){const a={name:C.name(e,n),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return x.Ry(a)},relation(e,n,a,{initialData:i,modifiedData:o}){const l={name:C.name(e,n),target:x.Z_().required(f.translatedErrors.required),relation:x.Z_().required(),type:x.Z_().required(),targetAttribute:x.Vo(()=>{const d=(0,Cn.Z)(o.relation,o.targetAttribute);if(d==="oneWay"||d==="manyWay")return x.Z_().nullable();let c=x.Z_().test($n(n)),y=[...a.map(({name:g})=>g),o.name].filter(g=>g!==i.targetAttribute);return c.matches(Ea,f.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,u.Z)("error.validation.relation.targetAttribute-taken"),test(g){return g?!y.includes(g):!1}}).required(f.translatedErrors.required)})};return x.Ry(l)},richtext(e,n){const a={name:C.name(e,n),type:C.type(),default:C.default(),unique:C.unique(),required:C.required(),maxLength:C.maxLength(),minLength:C.minLength()};return x.Ry(a)},string(e,n){const a=In(e,n);return x.Ry(a)},text(e,n){const a=In(e,n);return x.Ry(a)},uid(e,n){const a=In(e,n);return x.Ry(a)}},xa={name:"displayName",type:"text",intlLabel:{id:(0,u.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},kn={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,u.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,u.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[xa,{description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[xa,{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,u.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,u.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,u.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,u.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,u.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,u.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,u.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},hr=({usedContentTypeNames:e=[],reservedModels:n=[],singularNames:a=[],pluralNames:i=[]})=>{const o={displayName:x.Z_().test({name:"nameAlreadyUsed",message:f.translatedErrors.unique,test(l){if(!l)return!1;const d=(0,bt.E)(l);return!e.includes(d)}}).test({name:"nameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(f.translatedErrors.required),pluralName:x.Z_().test({name:"pluralNameAlreadyUsed",message:f.translatedErrors.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.pluralName-used"),test(l,d){return l?d.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(f.translatedErrors.required),singularName:x.Z_().test({name:"singularNameAlreadyUsed",message:f.translatedErrors.unique,test(l){return l?!a.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,u.Z)("error.contentType.singularName-used"),test(l,d){return l?d.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,u.Z)("error.contentTypeName.reserved-name"),test(l){return l?!n.includes((0,b.toLower)((0,b.trim)(l))):!1}}).required(f.translatedErrors.required),draftAndPublish:x.O7(),kind:x.Z_().oneOf(["singleType","collectionType"])};return x.Ry(o)},Un={advanced:{default(){return{sections:vt.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[On]},...vt.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[On]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,u.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Ra=(e,n)=>{e.forEach(a=>{if(!("sectionTitle"in a)){n[0].items.push(a);return}n.push(a)})},Za=(e,n)=>e.filter(({name:a})=>a!==n.initialData.name).map(({name:a})=>a);var Aa=r(25108);const st={customField:{schema({schemaAttributes:e,attributeType:n,customFieldValidator:a,reservedNames:i,schemaData:o,ctbFormsAPI:l}){const d=Za(e,o),c=Bn[n](d,i.attributes);return l.makeCustomFieldValidator(c,a,d,i.attributes,o)},form:{base({customField:e}){const n=[{sectionTitle:null,items:[He]}];return e.options?.base&&Ra(e.options.base,n),{sections:n}},advanced({customField:e,data:n,step:a,extensions:i,...o}){const l=[{sectionTitle:null,items:[]}],d=i.getAdvancedForm(["attribute",e.type],{data:n,type:e.type,step:a,...o});if(e.options?.advanced&&Ra(e.options.advanced,l),d){const c={sectionTitle:{id:(0,u.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:d};l.push(c)}return{sections:l}}}},attribute:{schema(e,n,a,i,o,l){const d=k()(e,["schema","attributes"],[]),c=Za(d,o);try{let p=Bn[n](c,a.attributes,i,o);return l.makeValidator(["attribute",n],p,c,a.attributes,i,o)}catch(p){return Aa.error("Error yup build schema",p),Bn.default(c,a.attributes)}},form:{advanced({data:e,type:n,step:a,extensions:i,...o}){try{const l=Ta.advanced[n](e,a).sections,d=i.getAdvancedForm(["attribute",n],{data:e,type:n,step:a,...o});return{sections:l.reduce((p,y)=>(y.sectionTitle===null?p.push(y):p.push({...y,items:[...y.items,...d]}),p),[])}}catch(l){return Aa.error(l),{sections:[]}}},base({data:e,type:n,step:a,attributes:i}){try{return Ta.base[n](e,a,i)}catch{return mr}}}},contentType:{schema(e,n,a,i,o,l){const d=Object.values(l).map(E=>E.schema.singularName),c=Object.values(l).map(E=>k()(E,["schema","pluralName"],"")),p=n?e.filter(E=>E!==a):e,y=n?d.filter(E=>k()(l,[a,"schema","singularName"],"")!==E):d,g=n?c.filter(E=>k()(l,[a,"schema","pluralName"],"")!==E):c,m=hr({usedContentTypeNames:p,reservedModels:i.models,singularNames:y,pluralNames:g});return o.makeValidator(["contentType"],m,p,i.models,y,g)},form:{base({actionType:e}){return e==="create"?kn.base.create():kn.base.edit()},advanced({extensions:e}){const n=kn.advanced.default().sections.map(i=>i.items).flat(),a=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...n,...a]}]}}}},component:{schema(e,n,a,i=!1,o=null){const l=i?e.filter(d=>d!==o):e;return ur(l,a.models,n)},form:{advanced(){return{sections:vt.advanced()}},base(){return{sections:vt.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Un.advanced.default()},base({data:e}){return k()(e,"createComponent",!1)?Un.base.createComponent():Un.base.default()}}},editCategory:{schema(e,n){const a=e.filter(i=>i!==n.name).map(i=>Te()(i));return dr(a)},form:{advanced:()=>({sections:[]}),base(){return lr.base}}}};var Sa=r(20573),br=r(88372);const vr=()=>e=>e[`${Z.Z}_formModal`]||br.E,Cr=()=>(0,Sa.P1)(vr(),e=>e);var Fa=r(25108);const Tr=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:n,onNavigateToAddCompoToDZModal:a,onNavigateToCreateComponentStep2:i,actionType:o,attributeName:l,attributeType:d,customFieldUid:c,categoryName:p,dynamicZoneTarget:y,forTarget:g,modalType:m,isOpen:E,kind:T,step:O,targetUid:B}=(0,ce.Z)(),V=(0,f.useCustomFields)().get(c),S=(0,t.useRef)(),M=(0,t.useMemo)(Cr,[]),N=(0,K.useDispatch)(),H=(0,f.useNotification)(),te=(0,K.useSelector)(X=>M(X),K.shallowEqual),{push:me}=(0,R.useHistory)(),{trackUsage:A}=(0,f.useTracking)(),{formatMessage:se}=(0,v.useIntl)(),{getPlugin:ne}=(0,f.useStrapiApp)(),ue=ne(Z.Z).apis.forms,Q=ue.components.inputs,{addAttribute:pe,addCustomFieldAttribute:Ot,addCreatedComponentToDynamicZone:rt,allComponentsCategories:oe,changeDynamicZoneComponents:P,contentTypes:Ct,components:Dt,createSchema:Tt,deleteCategory:Wn,deleteData:Xt,editCategory:zn,editCustomFieldAttribute:Kn,submitData:Vn,modifiedData:Ne,nestedComponents:Yt,setModifiedData:Hn,sortedContentTypesList:Gn,updateSchema:Xn,reservedNames:Ke}=(0,Ve.Z)(),{componentToCreate:$t,formErrors:j,initialData:L,isCreatingComponentWhileAddingAField:z,modifiedData:D}=te,ve=g==="contentType"||g==="component"?[g]:[g,B];(0,t.useEffect)(()=>{if(E){const X=Gn.filter(kt);m==="editCategory"&&Hn(),o==="edit"&&m==="attribute"&&g==="contentType"&&A("willEditFieldOfContentType");const je=[...ve,"schema","attributes"],ke=Sn(k()(Ne,je,[]),y)||null;if(m==="editCategory"&&o==="edit"&&N({type:be._H,modalType:m,actionType:o,data:{name:p}}),m==="contentType"&&o==="create"&&N({type:be._H,modalType:m,actionType:o,data:{draftAndPublish:!0},pluginOptions:{}}),m==="contentType"&&o==="edit"){const{displayName:ee,draftAndPublish:Ze,kind:Ue,pluginOptions:Le,pluralName:Ro,singularName:Zo}=k()(Ne,[...ve,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});N({type:be._H,actionType:o,modalType:m,data:{displayName:ee,draftAndPublish:Ze,kind:Ue,pluginOptions:Le,pluralName:Ro,singularName:Zo}})}if(m==="component"&&o==="edit"){const ee=k()(Ne,ve,{});N({type:be._H,actionType:o,modalType:m,data:{displayName:ee.schema.displayName,category:ee.category}})}if(m==="addComponentToDynamicZone"&&o==="edit"){const ee={...ke,components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}};N({type:be.VZ,attributeToEdit:ee})}if(d){const Ze={...Sn(k()(Ne,je,[]),l),name:l};d==="component"&&o==="edit"&&(Ze.repeatable||Xe()(Ze,"repeatable",!1)),N(m==="customField"?{type:be.OY,customField:V,isEditing:o==="edit",modifiedDataToSetForEditing:Ze,forTarget:g}:{type:be.S0,attributeType:d,nameToSetForRelation:k()(X,["0","title"],"error"),targetUid:k()(X,["0","uid"],"error"),isEditing:o==="edit",modifiedDataToSetForEditing:Ze,step:O,forTarget:g})}}else N({type:be.c2})},[o,l,d,p,y,g,E,m]);const Oe=m==="contentType",ot=m==="component",Et=m==="attribute",qa=m==="customField",Wa=d==="component"&&Et,It=o==="create",it=k()(D,"createComponent",!1)||z,Mt=O==="1",za=m==="editCategory",Ka=m==="chooseAttribute",Yn=(0,bt.E)(D.displayName||""),Jn=k()(Ne,[...ve,"schema","attributes"],null),co=async()=>{let X;const je=it&&O==="1"?k()(D,"componentToCreate",{}):D;if(Oe)X=st.contentType.schema(Object.keys(Ct),o==="edit",k()(Ne,[...ve,"uid"],null),Ke,ue,Ct);else if(ot)X=st.component.schema(Object.keys(Dt),D.category||"",Ke,o==="edit",k()(Ne,[...ve,"uid"],null),ue);else if(qa)X=st.customField.schema({schemaAttributes:k()(Ne,[...ve,"schema","attributes"],[]),attributeType:V.type,reservedNames:Ke,schemaData:{modifiedData:D,initialData:L},ctbFormsAPI:ue,customFieldValidator:V.options?.validator});else if(Wa&&it&&Mt)X=st.component.schema(Object.keys(Dt),k()(D,"componentToCreate.category",""),Ke,ue);else if(Et&&!Mt){const ke=d==="relation"?"relation":D.type;let ee=[];if(ke==="relation"){const Ze=k()(D,["target"],null);ee=k()(Ct,[Ze,"schema","attributes"],[]).filter(({name:Le})=>o!=="edit"?!0:Le!==L.targetAttribute)}X=st.attribute.schema(k()(Ne,ve,{}),ke,Ke,ee,{modifiedData:D,initialData:L},ue)}else if(za)X=st.editCategory.schema(oe,L,ue);else if(Mt&&it)X=st.component.schema(Object.keys(Dt),k()(D,"componentToCreate.category",""),Ke,ue);else return;await X.validate(je,{abortEarly:!1})},Va=(0,t.useCallback)(({target:{name:X,value:je,type:ke,...ee}})=>{const Ze=["enumName","max","min","maxLength","minLength","regex","default"];let Ue;Ze.includes(X)&&je===""?Ue=null:Ue=je;const Le=Object.assign({},j);X==="max"&&delete Le.min,X==="maxLength"&&delete Le.minLength,delete Le[X],N({type:be.Ey,errors:Le}),N({type:be.P0,keys:X.split("."),value:Ue,...ee})},[N,j]),Be=async(X,je=It)=>{X.preventDefault();try{await co(),go(je);const ke=g==="components"?B:Yn;if(Oe)if(It)Tt({...D,kind:T},m,Yn),me({pathname:`/plugins/${Z.Z}/content-types/${Yn}`}),n({forTarget:g,targetUid:ke});else{or(Ne,D)?(e(),Vn(D)):H({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(m==="component")if(It){const ee=(0,bt.N)(D.displayName,D.category),{category:Ze,...Ue}=D;Tt(Ue,"component",ee,Ze),me({pathname:`/plugins/${Z.Z}/component-categories/${Ze}/${ee}`}),n({forTarget:g,targetUid:ee})}else{Xn(D,m,B),e();return}else if(za){if(Te()(L.name)===Te()(D.name)){e();return}zn(L.name,D);return}else if(qa){const ee={attributeToSet:{...D,customField:c},forTarget:g,targetUid:B,initialAttribute:L};o==="edit"?Kn(ee):Ot(ee),je?n({forTarget:g,targetUid:ke}):e();return}else if(Et&&!it){if(d==="dynamiczone"){pe(D,g,B,o==="edit",L),It?(N({type:be.I}),S.current._handlers.setSelectedTabIndex(0),a({dynamicZoneTarget:D.name})):e();return}if(!Wa){pe(D,g,B,o==="edit",L),je?n({forTarget:g,targetUid:ke}):e();return}if(Mt){i(),N({type:be.yC,forTarget:g});return}pe(D,g,B,o==="edit",L,!0),je?n({forTarget:g,targetUid:B}):e()}else if(Et&&it){if(Mt){A("willCreateComponentFromAttributesModal"),N({type:be.oF,forTarget:g}),i();return}const{category:ee,type:Ze,...Ue}=$t,Le=(0,bt.N)($t.displayName,ee);Tt(Ue,Ze,Le,ee,it),pe(D,g,B,!1),N({type:be.c2}),je?n({forTarget:"components",targetUid:Le}):e();return}else{if(Mt)if(it){const{category:ee,type:Ze,...Ue}=D.componentToCreate,Le=(0,bt.N)(D.componentToCreate.displayName,ee);Tt(Ue,Ze,Le,ee,it),rt(y,[Le]),n({forTarget:"components",targetUid:Le})}else P(y,D.components),e();else Fa.error("This case is not handled");return}N({type:be.c2})}catch(ke){const ee=(0,f.getYupInnerErrors)(ke);Fa.log({err:ke,errors:ee}),N({type:be.Ey,errors:ee})}},mo=()=>{window.confirm(se({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),N({type:be.c2}))},Ha=()=>{(0,b.isEqual)(D,L)?(e(),N({type:be.c2})):mo()},po=X=>{if(X==="advanced"){if(Oe){A("didSelectContentTypeSettings");return}g==="contentType"&&A("didSelectContentTypeFieldSettings")}},go=X=>{m==="attribute"&&g==="contentType"&&d!=="dynamiczone"&&X&&A("willAddMoreFieldToContentType")},fo=()=>!!(m==="editCategory"||m==="component"||tt()(D,"createComponent")),yo=ir(g,B,Yt);if(!E||!m)return null;const Ga=k()(st,[m,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),ho=g==="components"||g==="component",Xa={customInputs:{"allowed-types-select":Jt,"boolean-radio-group":rs,"checkbox-with-number-field":Zs,"content-type-radio-group":As,"radio-group":pn,relation:Gs,"select-category":Qs,"select-component":_s,"select-components":er,"select-default-boolean":ns,"select-number":nr,"select-date":tr,"toggle-draft-publish":he,"text-plural":Xs,"text-singular":ar,"textarea-enum":rr,...Q},componentToCreate:$t,dynamicZoneTarget:y,formErrors:j,isAddingAComponentToAnotherComponent:ho,isCreatingComponentWhileAddingAField:z,mainBoxHeader:k()(Ne,[...ve,"schema","displayName"],""),modifiedData:D,naturePickerType:g,isCreating:It,targetUid:B,forTarget:g},Ya=Ga.advanced({data:D,type:d,step:O,actionType:o,attributes:Jn,extensions:ue,forTarget:g,contentTypeSchema:Ne.contentType||{},customField:V}).sections,Ja=Ga.base({data:D,type:d,step:O,actionType:o,attributes:Jn,extensions:ue,forTarget:g,contentTypeSchema:Ne.contentType||{},customField:V}).sections,bo=va(Ja),vo=va(Ya),Co=Object.keys(j).some(X=>bo.includes(X)),To=Object.keys(j).some(X=>vo.includes(X)),Eo=k()(Ct,[B,"schema","kind"]),Mo=()=>o==="edit"&&Jn.every(({name:X})=>X!==D?.name),xo=()=>{Mo()&&A("didEditFieldNameOnContentType")};return t.createElement(Ye.P,{onClose:Ha,labelledBy:"title"},t.createElement(Qa,{actionType:o,attributeName:l,categoryName:p,contentTypeKind:T,dynamicZoneTarget:y,modalType:m,forTarget:g,targetUid:B,attributeType:d,customFieldUid:c}),Ka&&t.createElement(on,{attributes:yo,forTarget:g,kind:Eo||"collectionType"}),!Ka&&t.createElement("form",{onSubmit:Be},t.createElement(gt.f,null,t.createElement(dt.v,{label:"todo",id:"tabs",variant:"simple",ref:S,onTabChange:X=>{X===1&&po("advanced")}},t.createElement(re.k,{justifyContent:"space-between"},t.createElement(ts,{actionType:o,forTarget:g,kind:T,step:O,modalType:m,attributeType:d,attributeName:l,customField:V}),t.createElement(Se.m,null,t.createElement(Se.O,{hasError:Co},se({id:(0,u.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(Se.O,{hasError:To,disabled:fo()},se({id:(0,u.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(ae.i,null),t.createElement(U.x,{paddingTop:6},t.createElement(nt.n,null,t.createElement(nt.x,null,t.createElement(De.K,{spacing:6},t.createElement(ba,{form:Ja,formErrors:j,genericInputProps:Xa,modifiedData:D,onChange:Va}))),t.createElement(nt.x,null,t.createElement(De.K,{spacing:6},t.createElement(ba,{form:Ya,formErrors:j,genericInputProps:Xa,modifiedData:D,onChange:Va}))))))),t.createElement(lt.m,{endActions:t.createElement(_a,{deleteCategory:Wn,deleteContentType:Xt,deleteComponent:Xt,categoryName:L.name,isAttributeModal:m==="attribute",isCustomFieldModal:m==="customField",isComponentToDzModal:m==="addComponentToDynamicZone",isComponentAttribute:d==="component",isComponentModal:m==="component",isContentTypeModal:m==="contentType",isCreatingComponent:o==="create",isCreatingDz:o==="create",isCreatingComponentAttribute:D.createComponent||!1,isCreatingComponentInDz:D.createComponent||!1,isCreatingComponentWhileAddingAField:z,isCreatingContentType:o==="create",isEditingAttribute:o==="edit",isDzAttribute:d==="dynamiczone",isEditingCategory:m==="editCategory",isInFirstComponentStep:O==="1",onSubmitAddComponentAttribute:Be,onSubmitAddComponentToDz:Be,onSubmitCreateComponent:Be,onSubmitCreateContentType:Be,onSubmitCreateDz:Be,onSubmitEditAttribute:Be,onSubmitEditCategory:Be,onSubmitEditComponent:Be,onSubmitEditContentType:Be,onSubmitEditCustomFieldAttribute:Be,onSubmitEditDz:Be,onClickFinish:xo}),startActions:t.createElement(_.z,{variant:"tertiary",onClick:Ha},se({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},Na=e=>e.reduce((n,a)=>(n[a.uid]=a,n),{}),Er=(e,n,a,i)=>{const o=n.reduce((c,p)=>{const y=k()(a,p,{});return c[p]=y,c},{});return{[i?"contentType":"component"]:e,components:o}},Mr=(e,n)=>{const a=Object.keys(e).map(i=>(0,b.get)(e,[i,...n],""));return(0,fe.Z)(a)};var xr=r(19525);const Rr=e=>{const n=Object.keys(e).reduce((a,i)=>{const o=(0,b.get)(e,[i,"schema","attributes"],[]),l=Zr(o);return[...a,...l]},[]);return(0,fe.Z)(n)},Zr=e=>e.reduce((n,a)=>{const{type:i,component:o}=a;return i==="component"&&n.push(o),n},[]),La=Rr,Ar=e=>{const n=Object.keys(e).reduce((a,i)=>{const o=k()(e,[i],{}),l=o.uid;return Sr(o)&&a.push(l),a},[]);return(0,fe.Z)(n)},Sr=e=>k()(e,["schema","attributes"],[]).some(a=>{const{type:i}=a;return i==="component"}),Fr=(e,n)=>{const a=Object.keys(e).filter(i=>{const o=(0,b.get)(e,i,{}),l=(0,b.get)(n,i,{}),d=(0,b.get)(o,["isTemporary"],!1),c=!(0,b.isEqual)(o,l);return d||c});return(0,fe.Z)(a)},Nr=(e,n)=>{const a=Oa((0,b.get)(e,"schema.attributes",[]),n),i=(0,b.get)(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},(0,b.omit)(e.schema,"attributes"),{attributes:a})},Pa=(e,n=!1)=>{const a=(0,b.get)(e,"uid",null),i=Oa((0,b.get)(e,"schema.attributes",[]),a),o=n?{category:(0,b.get)(e,"category","")}:{},l=Object.assign(o,(0,b.omit)(e.schema,"attributes"),{attributes:i});return delete l.uid,delete l.isTemporary,delete l.visible,delete l.restrictRelationsTo,l},Oa=(e,n)=>e.reduce((a,{name:i,...o})=>{const l=o,d=l.target===n,c=l.type==="relation",p=(0,b.get)(l,"targetAttribute",null);if(!d)if(c){const y=Object.assign({},l,{targetAttribute:Da(p)});a[i]=Gt(y)}else a[i]=Gt(l);if(d){const y=l.target,g=Object.assign({},l,{target:y,targetAttribute:Da(p)});a[i]=Gt(g)}if(l.customField){const y={...l,type:"customField"};a[i]=Gt(y)}return a},{}),Da=e=>e==="-"?null:e,Gt=e=>Object.keys(e).reduce((n,a)=>(e[a]!==null&&a!=="plugin"&&(n[a]=e[a]),n),{}),Lr=(e,n,a,i=!1)=>Fr(e,n).map(d=>{const c=(0,b.get)(e,d,{});return Nr(c,a,i)}),Pr=e=>(0,b.sortBy)(Object.keys(e).map(n=>({visible:e[n].schema.visible,name:n,title:e[n].schema.displayName,plugin:e[n].plugin||null,uid:n,to:`/plugins/${Z.Z}/content-types/${n}`,kind:e[n].schema.kind,restrictRelationsTo:e[n].schema.restrictRelationsTo})).filter(n=>n!==null),n=>(0,b.camelCase)(n.title)),$a="did-not-kill-server",Or="server is down";function Lt(e,n){return new Promise(a=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(Or);if(!n)throw new Error($a);a(e)}).catch(i=>{setTimeout(()=>Lt(e,i.message!==$a).then(a),100)})})}const Dr=e=>Object.values(e.attributes).filter(({type:a})=>a==="dynamiczone").every(({components:a})=>Array.isArray(a)&&a.length>0);var Ae=r(92407),$r=r(87431);const Ir=()=>e=>e[`${Z.Z}_dataManagerProvider`]||$r.E,jr=()=>(0,Sa.P1)(Ir(),e=>e),Br=e=>Object.keys(e).reduce((n,a)=>{const i=e[a].schema;return n[a]={...e[a],schema:{...i,attributes:kr(i.attributes)}},n},{}),kr=e=>Object.keys(e).reduce((n,a)=>(n.push({...e[a],name:a}),n),[]),Ia=Br;var Pt=r(25108);const wn=({children:e,components:n,contentTypes:a,isLoading:i,isLoadingForDataToBeSet:o,initialData:l,modifiedData:d,reservedNames:c})=>{const p=(0,K.useDispatch)(),y=(0,f.useNotification)(),{lockAppWithAutoreload:g,unlockAppWithAutoreload:m}=(0,f.useAutoReloadOverlayBlocker)(),{setCurrentStep:E}=(0,f.useGuidedTour)(),{getPlugin:T}=(0,f.useStrapiApp)(),{apis:O}=T(Z.Z),{autoReload:B}=(0,f.useAppInfos)(),{formatMessage:V}=(0,v.useIntl)(),{trackUsage:S}=(0,f.useTracking)(),{refetchPermissions:M}=(0,f.useRBACProvider)(),{pathname:N}=(0,R.useLocation)(),{onCloseModal:H}=(0,ce.Z)(),te=(0,R.useRouteMatch)(`/plugins/${Z.Z}/content-types/:uid`),me=(0,R.useRouteMatch)(`/plugins/${Z.Z}/component-categories/:categoryUid/:componentUid`),A=(0,t.useRef)();A.current=V;const se=B,ne=te!==null,pt=ne?"contentType":"component",ue=ne?(0,b.get)(te,"params.uid",null):(0,b.get)(me,"params.componentUid",null),Q=(0,t.useRef)(),pe=ne?"content-types":"components";Q.current=async()=>{try{const[{data:{data:j}},{data:{data:L}},{data:z}]=await Promise.all(["components","content-types","reserved-names"].map(Et=>Ce.get(Et))),D=Na(j),ve=Ia(D),Oe=Na(L),ot=Ia(Oe);p({type:Ae.Id,components:ve,contentTypes:ot,reservedNames:z})}catch(j){Pt.error({err:j}),y({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(Q.current(),()=>{p({type:Ae.Zl})}),[]),(0,t.useEffect)(()=>{!i&&ue&&Yt()},[i,N,ue]),(0,t.useEffect)(()=>{B||y({type:"info",message:{id:(0,u.Z)("notification.info.autoreaload-disable")}})},[B,y]);const Ot=(j,L,z,D=!1,ve,Oe=!1)=>{const ot=D?Ae.JO:Ae.gz;p({type:ot,attributeToSet:j,forTarget:L,targetUid:z,initialAttribute:ve,shouldAddComponentToData:Oe})},rt=({attributeToSet:j,forTarget:L,targetUid:z,initialAttribute:D})=>{p({type:Ae.Ir,attributeToSet:j,forTarget:L,targetUid:z,initialAttribute:D})},oe=({attributeToSet:j,forTarget:L,targetUid:z,initialAttribute:D})=>{p({type:Ae.Ly,attributeToSet:j,forTarget:L,targetUid:z,initialAttribute:D})},P=(j,L)=>{p({type:Ae.Uu,dynamicZoneTarget:j,componentsToAdd:L})},Ct=(j,L,z,D,ve=!1)=>{const Oe=L==="contentType"?Ae.Sh:Ae.VR;p({type:Oe,data:j,componentCategory:D,schemaType:L,uid:z,shouldAddComponentToData:ve})},Dt=(j,L)=>{p({type:Ae.o_,dynamicZoneTarget:j,newComponents:L})},Tt=(j,L,z="")=>{const D=j==="components"?Ae.lw:Ae.ai;j==="contentType"&&S("willDeleteFieldOfContentType"),p({type:D,mainDataKey:j,attributeToRemoveName:L,componentUid:z})},Wn=async j=>{try{const L=`/component-categories/${j}`,z=window.confirm(V({id:(0,u.Z)("popUpWarning.bodyMessage.category.delete")}));H(),z&&(g(),await Ce.delete(L),await Lt(!0),await m(),await Ke())}catch(L){Pt.error({err:L}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},Xt=async()=>{try{const j=`/${pe}/${ue}`,L=(0,b.get)(d,[pt,"isTemporary"],!1),z=window.confirm(V({id:(0,u.Z)(`popUpWarning.bodyMessage.${ne?"contentType":"component"}.delete`)}));if(H(),z){if(L){p({type:Ae.Ap});return}g(),await Ce.delete(j),await Lt(!0),await m(),await Ke()}}catch(j){Pt.error({err:j}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},zn=async(j,L)=>{try{const z=`/component-categories/${j}`;H(),g(),await Ce.put(z,L),await Lt(!0),await m(),await Ke()}catch(z){Pt.error({err:z}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},Kn=()=>{const j=Object.assign({},n,d.components);if(!ne){const z=(0,b.get)(d,"component",{});(0,b.set)(j,(0,b.get)(z,["uid"],""),z)}const L=Ar(j);return(0,fe.Z)(L)},Vn=()=>{const j=La(n),L=La(d.components||{});return(0,fe.Z)([...L,...j])},Ne=(j,L)=>{p({type:Ae.NG,dzName:j,componentToRemoveIndex:L})},Yt=()=>{const j=ne?a:n,L=(0,b.get)(j,ue,{schema:{attributes:[]}}),z=(0,xr.Z)(L.schema.attributes,n),D=Er(L,z,n,ne),ve=(0,b.get)(L,"isTemporary",!1)&&(0,b.size)((0,b.get)(L,"schema.attributes",[]))===0;p({type:Ae.xx,schemaToSet:D,hasJustCreatedSchema:ve})},Hn=(0,t.useMemo)(()=>{const j=ne?a:n;return ue==="create-content-type"?!1:!Object.keys(j).includes(ue)&&!i},[n,a,ue,ne,i]),Gn=(0,t.useMemo)(()=>{const j=Object.keys(a).filter(L=>(0,b.get)(a,[L,"schema","visible"],!0)).sort();return(0,b.get)(j,"0","create-content-type")},[a]);if(Hn)return t.createElement(R.Redirect,{to:`/plugins/${Z.Z}/content-types/${Gn}`});const Xn=async j=>{try{const L=(0,b.get)(d,[pt,"isTemporary"],!1),z={components:Lr(d.components,n,ue,L)};if(ne){const Oe=O.forms.mutateContentTypeSchema({...Pa(d.contentType),...j},l.contentType);if(!Dr(Oe)){y({type:"warning",message:{id:(0,u.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}z.contentType=Oe,S("willSaveContentType")}else z.component=Pa(d.component,!0),S("willSaveComponent");g();const D=`/${pe}`,ve=L?D:`${D}/${ue}`;if(L?await Ce.post(ve,z):await Ce.put(ve,z),await Lt(!0),await m(),L&&(l.contentType?.schema.kind==="collectionType"||l.contentType?.schema.kind==="singleType")&&E("contentTypeBuilder.success"),ne){S("didSaveContentType");const Oe=(0,b.get)(z,["contentType","schema","name"],""),ot=(0,b.get)(l,["contentType","schema","name"],"");!L&&Oe!==ot&&S("didEditNameOfContentType")}else S("didSaveComponent");await Ke()}catch(L){ne||S("didNotSaveComponent"),Pt.error({err:L.response}),y({type:"warning",message:{id:"notification.error"}})}finally{m()}},Ke=async()=>{await M()},$t=(j,L,z)=>{p({type:Ae.bi,data:j,schemaType:L,uid:z})};return t.createElement(ye.Z.Provider,{value:{addAttribute:Ot,addCustomFieldAttribute:rt,addCreatedComponentToDynamicZone:P,allComponentsCategories:Mr(n,["category"]),changeDynamicZoneComponents:Dt,components:n,componentsGroupedByCategory:(0,b.groupBy)(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:Kn(),contentTypes:a,createSchema:Ct,deleteCategory:Wn,deleteData:Xt,editCategory:zn,editCustomFieldAttribute:oe,isInDevelopmentMode:se,initialData:l,isInContentTypeView:ne,modifiedData:d,nestedComponents:Vn(),removeAttribute:Tt,removeComponentFromDynamicZone:Ne,reservedNames:c,setModifiedData:Yt,sortedContentTypesList:Pr(a),submitData:Xn,updateSchema:$t}},o?t.createElement(f.LoadingIndicatorPage,null):t.createElement(t.Fragment,null,e,se&&t.createElement(Tr,null)))};wn.defaultProps={components:{}},wn.propTypes={children:s().node.isRequired,components:s().object,contentTypes:s().object.isRequired,isLoading:s().bool.isRequired,isLoadingForDataToBeSet:s().bool.isRequired,initialData:s().object.isRequired,modifiedData:s().object.isRequired,reservedNames:s().object.isRequired};const Ur=jr(),wr=(0,K.connect)(Ur,null),qr=(0,Me.compose)(wr)((0,t.memo)(wn));var Wr=r(98422);const ja={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Ba=({children:e})=>{const[n,a]=(0,t.useState)(ja),{trackUsage:i}=(0,f.useTracking)(),o=({attributeType:S,customFieldUid:M})=>{a(N=>({...N,actionType:"create",modalType:"customField",attributeType:S,customFieldUid:M}))},l=({attributeType:S,step:M})=>{n.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:S}),a(N=>({...N,actionType:"create",modalType:"attribute",step:M,attributeType:S}))},d=({dynamicZoneTarget:S,targetUid:M})=>{a(N=>({...N,dynamicZoneTarget:S,targetUid:M,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},c=({forTarget:S,targetUid:M})=>{a(N=>({...N,actionType:"create",forTarget:S,targetUid:M,modalType:"chooseAttribute",isOpen:!0}))},p=S=>{a(M=>({...M,...S,isOpen:!0}))},y=S=>{a(M=>({...M,categoryName:S,actionType:"edit",modalType:"editCategory",isOpen:!0}))},g=({forTarget:S,targetUid:M,attributeName:N,attributeType:H,customFieldUid:te})=>{a(me=>({...me,modalType:"customField",customFieldUid:te,actionType:"edit",forTarget:S,targetUid:M,attributeName:N,attributeType:H,isOpen:!0}))},m=({forTarget:S,targetUid:M,attributeName:N,attributeType:H,step:te})=>{a(me=>({...me,modalType:"attribute",actionType:"edit",forTarget:S,targetUid:M,attributeName:N,attributeType:H,step:te,isOpen:!0}))},E=({modalType:S,forTarget:M,targetUid:N,kind:H})=>{a(te=>({...te,modalType:S,actionType:"edit",forTarget:M,targetUid:N,kind:H,isOpen:!0}))},T=()=>{a(ja)},O=({forTarget:S,targetUid:M})=>{a(N=>({...N,forTarget:S,targetUid:M,modalType:"chooseAttribute"}))},B=()=>{a(S=>({...S,attributeType:"component",modalType:"attribute",step:"2"}))},V=({dynamicZoneTarget:S})=>{a(M=>({...M,dynamicZoneTarget:S,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement(Wr.Z.Provider,{value:{...n,onClickSelectField:l,onClickSelectCustomField:o,onCloseModal:T,onNavigateToChooseAttributeModal:O,onNavigateToAddCompoToDZModal:V,onOpenModalAddComponentsToDZ:d,onNavigateToCreateComponentStep2:B,onOpenModalAddField:c,onOpenModalCreateSchema:p,onOpenModalEditCategory:y,onOpenModalEditField:m,onOpenModalEditCustomField:g,onOpenModalEditSchema:E,setFormModalNavigationState:a}},e)};Ba.propTypes={children:s().node.isRequired};const zr=Ba,Kr=(0,t.lazy)(()=>r.e(5905).then(r.bind(r,76761))),Vr=()=>{const{url:e}=(0,R.useRouteMatch)(),{categoryUid:n}=(0,R.useParams)();return t.createElement(t.Suspense,{fallback:t.createElement(f.LoadingIndicatorPage,null)},t.createElement(R.Switch,null,t.createElement(R.Route,{path:`${e}/:componentUid`},t.createElement(Kr,{categoryId:n}))))};var Hr=r(53192),Gr=r(60984),Xr=r(34446),Yr=r(29489);const Jr=(0,$e.default)(U.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,Qr=$e.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,_r=$e.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,qn=({label:e,children:n,id:a})=>{const[i,o]=(0,t.useState)(!0),l=(0,la.M)(a),d=()=>{o(c=>!c)};return t.createElement(U.x,null,t.createElement(Jr,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4},t.createElement(re.k,{justifyContent:"space-between"},t.createElement(Qr,{onClick:d,"aria-expanded":i,"aria-controls":l},t.createElement(_r,{rotated:i},t.createElement(hn.CarretDown,{"aria-hidden":!0})),t.createElement(U.x,{paddingLeft:2},t.createElement(de.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800"},e))))),i&&t.createElement("ul",{id:l},t.Children.map(n,(c,p)=>t.createElement("li",{key:p},c))))};qn.defaultProps={id:void 0},qn.propTypes={children:I.node.isRequired,id:I.string,label:I.string.isRequired};var ka=r(73400),eo=r(39785),to=r(41609),no=r.n(to),ao=r(89734),Ua=r.n(ao),so=r(18446),ro=r.n(so),oo=r(63852);const io=()=>{const{components:e,componentsGroupedByCategory:n,contentTypes:a,isInDevelopmentMode:i,sortedContentTypesList:o,modifiedData:l,initialData:d}=(0,Ve.Z)(),c=(0,f.useNotification)(),{trackUsage:p}=(0,f.useTracking)(),[y,g]=(0,t.useState)(""),{onOpenModalCreateSchema:m,onOpenModalEditCategory:E}=(0,ce.Z)(),T=Ua()(Object.keys(n).map(A=>({name:A,title:A,isEditable:i,onClickEdit(se,ne){se.stopPropagation(),O?E(ne.name):M()},links:Ua()(n[A].map(se=>({name:se.uid,to:`/plugins/${Z.Z}/component-categories/${A}/${se.uid}`,title:se.schema.displayName})),se=>se.title)})),A=>A.title),O=!Object.keys(a).some(A=>a[A].isTemporary===!0)&&!Object.keys(e).some(A=>e[A].isTemporary===!0)&&ro()(l,d),B=()=>{O?(p("willCreateContentType"),m({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):M()},V=()=>{O?(p("willCreateSingleType"),m({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):M()},S=()=>{O?(p("willCreateComponent"),m({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):M()},M=()=>{c({type:"info",message:{id:`${(0,u.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},N=o.filter(A=>A.visible),H=[{name:"models",title:{id:`${(0,u.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,u.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:B},links:N.filter(A=>A.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,u.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,u.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:V},links:N.filter(A=>A.kind==="singleType")},{name:"components",title:{id:`${(0,u.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,u.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:S},links:T}],te=A=>y?(0,oo.ZP)(A,Te()(y),{keys:[se=>Te()(se.title)]}):A;return{menu:(()=>H.map(A=>A.links.some(ne=>!no()(ne.links))?{...A,links:A.links.map(ne=>({...ne,links:te(ne.links)}))}:{...A,links:te(A.links)}))(),searchValue:y,onSearchChange:g}},lo=()=>{const{menu:e,searchValue:n,onSearchChange:a}=io(),{formatMessage:i}=(0,v.useIntl)();return t.createElement(Hr.m,{ariaLabel:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(Gr.p,{searchable:!0,value:n,onClear:()=>a(""),onChange:o=>a(o.target.value),label:i({id:`${(0,u.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),t.createElement(Xr.Z,null,e.map(o=>t.createElement(t.Fragment,{key:o.name},t.createElement(Yr.D,{label:i({id:o.title.id,defaultMessage:o.title.defaultMessage}),collapsable:!0,badgeLabel:o.links.length.toString()},o.links.map(l=>l.links?t.createElement(qn,{key:l.name,label:we()(l.title)},l.links.map(d=>t.createElement(ka.E,{as:R.NavLink,to:d.to,active:d.active,key:d.name,isSubSectionChild:!0},we()(i({id:d.name,defaultMessage:d.title}))))):t.createElement(ka.E,{as:R.NavLink,to:l.to,active:l.active,key:l.name},we()(i({id:l.name,defaultMessage:l.title}))))),o.customLink&&t.createElement(U.x,{paddingLeft:7},t.createElement(eo.A,{onClick:o.customLink.onClick,startIcon:t.createElement(Qe.default,null),marginTop:2},i({id:o.customLink.id,defaultMessage:o.customLink.defaultMessage})))))))},wa=(0,t.lazy)(()=>r.e(5905).then(r.bind(r,76761))),uo=()=>{const{formatMessage:e}=(0,v.useIntl)(),n=e({id:`${Z.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:a}=(0,f.useGuidedTour)(),i=(0,t.useRef)(a);return(0,t.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),t.createElement(f.CheckPagePermissions,{permissions:F.Z.main},t.createElement(h.Helmet,{title:n}),t.createElement(zr,null,t.createElement(qr,null,t.createElement(w.A,{sideNav:t.createElement(lo,null)},t.createElement(t.Suspense,{fallback:t.createElement(f.LoadingIndicatorPage,null)},t.createElement(R.Switch,null,t.createElement(R.Route,{path:`/plugins/${Z.Z}/content-types/create-content-type`,component:wa}),t.createElement(R.Route,{path:`/plugins/${Z.Z}/content-types/:uid`,component:wa}),t.createElement(R.Route,{path:`/plugins/${Z.Z}/component-categories/:categoryUid`,component:Vr})))))))}},5002:(W,q,r)=>{"use strict";r.d(q,{Z:()=>h});var t=r(96124);const h=v=>`${t.Z}.${v}`},89881:(W,q,r)=>{var t=r(47816),R=r(99291),h=R(t);W.exports=h},23933:(W,q,r)=>{var t=r(44239),R=r(37005),h="[object RegExp]";function v(f){return R(f)&&t(f)==h}W.exports=v},69199:(W,q,r)=>{var t=r(89881),R=r(98612);function h(v,f){var w=-1,F=R(v)?Array(v.length):[];return t(v,function(Z,I,s){F[++w]=f(Z,I,s)}),F}W.exports=h},82689:(W,q,r)=>{var t=r(29932),R=r(97786),h=r(67206),v=r(69199),f=r(71131),w=r(7518),F=r(85022),Z=r(6557),I=r(1469);function s(b,K,Me){K.length?K=t(K,function(ie){return I(ie)?function(ge){return R(ge,ie.length===1?ie[0]:ie)}:ie}):K=[Z];var ye=-1;K=t(K,w(h));var ce=v(b,function(ie,ge,le){var Ce=t(K,function(u){return u(ie)});return{criteria:Ce,index:++ye,value:ie}});return f(ce,function(ie,ge){return F(ie,ge,Me)})}W.exports=s},71131:W=>{function q(r,t){var R=r.length;for(r.sort(t);R--;)r[R]=r[R].value;return r}W.exports=q},26393:(W,q,r)=>{var t=r(33448);function R(h,v){if(h!==v){var f=h!==void 0,w=h===null,F=h===h,Z=t(h),I=v!==void 0,s=v===null,b=v===v,K=t(v);if(!s&&!K&&!Z&&h>v||Z&&I&&b&&!s&&!K||w&&I&&b||!f&&b||!F)return 1;if(!w&&!Z&&!K&&h<v||K&&f&&F&&!w&&!Z||s&&f&&F||!I&&F||!b)return-1}return 0}W.exports=R},85022:(W,q,r)=>{var t=r(26393);function R(h,v,f){for(var w=-1,F=h.criteria,Z=v.criteria,I=F.length,s=f.length;++w<I;){var b=t(F[w],Z[w]);if(b){if(w>=s)return b;var K=f[w];return b*(K=="desc"?-1:1)}}return h.index-v.index}W.exports=R},99291:(W,q,r)=>{var t=r(98612);function R(h,v){return function(f,w){if(f==null)return f;if(!t(f))return h(f,w);for(var F=f.length,Z=v?F:-1,I=Object(f);(v?Z--:++Z<F)&&w(I[Z],Z,I)!==!1;);return f}}W.exports=R},96347:(W,q,r)=>{var t=r(23933),R=r(7518),h=r(31167),v=h&&h.isRegExp,f=v?R(v):t;W.exports=f},89734:(W,q,r)=>{var t=r(21078),R=r(82689),h=r(5976),v=r(16612),f=h(function(w,F){if(w==null)return[];var Z=F.length;return Z>1&&v(w,F[0],F[1])?F=[]:Z>2&&v(F[0],F[1],F[2])&&(F=[F[0]]),R(w,t(F,1),[])});W.exports=f},7334:(W,q,r)=>{var t=r(79833);function R(h){return t(h).toLowerCase()}W.exports=R},39138:(W,q,r)=>{var t=r(80531),R=r(40180),h=r(62689),v=r(13218),f=r(96347),w=r(88016),F=r(83140),Z=r(40554),I=r(79833),s=30,b="...",K=/\w*$/;function Me(ye,ce){var ie=s,ge=b;if(v(ce)){var le="separator"in ce?ce.separator:le;ie="length"in ce?Z(ce.length):ie,ge="omission"in ce?t(ce.omission):ge}ye=I(ye);var Ce=ye.length;if(h(ye)){var u=F(ye);Ce=u.length}if(ie>=Ce)return ye;var fe=ie-w(ge);if(fe<1)return ge;var Ee=u?R(u,0,fe).join(""):ye.slice(0,fe);if(le===void 0)return Ee+ge;if(u&&(fe+=Ee.length-fe),f(le)){if(ye.slice(fe).search(le)){var k,Ge=Ee;for(le.global||(le=RegExp(le.source,I(K.exec(le))+"g")),le.lastIndex=0;k=le.exec(Ge);)var tt=k.index;Ee=Ee.slice(0,tt===void 0?fe:tt)}}else if(ye.indexOf(t(le),fe)!=fe){var xe=Ee.lastIndexOf(le);xe>-1&&(Ee=Ee.slice(0,xe))}return Ee+ge}W.exports=Me},44908:(W,q,r)=>{var t=r(45652);function R(h){return h&&h.length?t(h):[]}W.exports=R},2407:(W,q,r)=>{"use strict";r.d(q,{$:()=>I,O:()=>s});var t=r(85893),R=r(22522),h=r(71893),v=r(41580),f=r(11047),w=r(75515),F=r(63237);const Z=(0,h.default)(f.k)`
  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
    path {
      fill: ${({theme:b})=>b.colors.neutral500};
    }
  }
  :last-of-type ${v.x} {
    display: none;
  }
  :last-of-type ${w.Z} {
    color: ${({theme:b})=>b.colors.neutral800};
    font-weight: ${({theme:b})=>b.fontWeights.bold};
  }
`,I=({children:b})=>(0,t.jsxs)(Z,{inline:!0,as:"li",children:[(0,t.jsx)(w.Z,{variant:"pi",textColor:"neutral600",children:b}),(0,t.jsx)(v.x,{"aria-hidden":!0,paddingLeft:3,paddingRight:3,children:(0,t.jsx)(R.ChevronRight,{})})]});I.displayName="Crumb";const s=({children:b,label:K,...Me})=>(0,t.jsxs)(f.k,{...Me,children:[(0,t.jsx)(F.T,{children:K}),(0,t.jsx)("ol",{"aria-hidden":!0,children:b})]});s.displayName="Breadcrumbs"},38855:(W,q,r)=>{"use strict";r.d(q,{h:()=>xe,X:()=>Xe});var t=r(67294),R=r(22522),h=r(45697),v=r(90608),f=r(74020),w=r(41207),F=r(7801);const Z={Close:"Close",CloseSelect:"CloseSelect",First:"First",Last:"Last",Next:"Next",Open:"Open",PageDown:"PageDown",PageUp:"PageUp",Previous:"Previous",Select:"Select",Space:"Space",Type:"Type"},I={Close:"Close",First:"First",Last:"Last",Next:"Next",Open:"Open",Previous:"Previous",Select:"Select",UpLevel:"UpLevel"};function s(G=[],Te=null,U=[]){const _=String(Te??"").toLowerCase();return _?G.filter(ae=>ae.props.children.toString().toLowerCase().includes(_)&&U.indexOf(ae)<0):G}function b(G,Te){if(!Te&&G===F.y.DOWN)return Z.Open;if(G===F.y.DOWN)return Z.Next;if(G===F.y.UP)return Z.Previous;if(G===F.y.HOME)return Z.First;if(G===F.y.END)return Z.Last;if(G===F.y.ESCAPE)return Z.Close;if(G===F.y.ENTER)return Z.CloseSelect;if(G===F.y.BACKSPACE||G===F.y.CLEAR||G.length===1)return Z.Type}function K(G,Te,U){switch(U){case Z.First:return 0;case Z.Last:return Te;case Z.Previous:return Math.max(0,G-1);case Z.Next:return Math.min(Te,G+1);default:return G}}function Me(G){w(G,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}).forEach(({el:Te,top:U,left:_})=>{Te.scrollTop=U,Te.scrollLeft=_})}var ye=r(41580),ce=r(54574),ie=r(19270),ge=r(63428),le=r(96404),Ce=r(11047),u=r(2504),fe=r(88655),Ee=r(81849),k=r(81318),Ge=r(75515),tt=r(63237);const xe=({children:G,clearLabel:Te,creatable:U,createMessage:_,disabled:ae,error:Ye,hasMoreItems:gt,hint:lt,id:dt,label:Se,labelAction:nt,loading:re,loadingMessage:De,noOptionsMessage:Ve,onChange:xt,onClear:jt,onCreateOption:we,onInputChange:Bt,onLoadMore:Rt,placeholder:Jt,required:de,value:Je,...kt})=>{const Zt=()=>G.find(J=>J.props?.value.toLowerCase()===Je.toLowerCase()).props?.children,[Re,ft]=(0,t.useState)(0),[yt,$e]=(0,t.useState)(null),[qe,At]=(0,t.useState)(G),[We,Qt]=(0,t.useState)(!1),[Pe,ut]=(0,t.useState)(""),at=(0,t.useRef)(),ht=(0,t.useRef)(!1),ct=(0,t.useRef)(),Ut=(0,t.useRef)(),_t=(0,t.useRef)(),Y=(0,t.useRef)(!0),Fe=(0,u.M)(dt),mt=`${Fe}-label`;if(!Se&&!kt["aria-label"])throw new Error('The Combobox component needs a "label" or an "aria-label" props');(0,t.useEffect)(()=>{At(s(G,Pe))},[Pe,G]),(0,t.useEffect)(()=>{We&&at.current&&Me(at.current)},[Re,We]),(0,t.useLayoutEffect)(()=>{Y.current&&(Y.current=!1)},[Je]);const en=We?`${Fe}-${Re}`:"",wt=()=>{xt(null),ut("")},St=J=>{Bt&&Bt(J);const he=ct.current.value;At(s(G,he)),ft(0),$e(null),Pe!==he&&ut(he),We||ze(!0,!1)},Qe=J=>{const{key:he}=J,Ie=U&&Pe?qe.length:qe.length-1,et=b(he,We);switch(Je&&!Pe&&he===F.y.BACKSPACE&&wt(),et){case Z.Next:{if(Re===Ie){_e(0);break}_e(K(Re,Ie,et));break}case Z.Previous:{if(Re===0){_e(Ie);break}_e(K(Re,Ie,et));break}case Z.Last:case Z.First:{if(Re===Ie){_e(0);break}_e(K(Re,Ie,et));break}case Z.CloseSelect:J.preventDefault(),Ft(Re);break;case Z.Close:J.preventDefault(),ze(!1);break;case Z.Open:ze(!0);break}},tn=J=>{if(J.preventDefault(),Je&&!ht.current&&ut(""),ht.current){ht.current=!1;return}ze(!1,!1)},_e=J=>{ft(J)},nn=J=>{_e(J),Ft(J)},an=()=>{ht.current=!0},Ft=J=>{const he=qe[J];if(ut(""),he){xt(he.props.value),ze(!1);return}U&&(we(Pe),ze(!1))},ze=(J,he=!0)=>{Qt(J),he&&ct.current.focus()},sn=t.Children.toArray(qe).map((J,he)=>{const Ie=Re===he;return(0,t.cloneElement)(J,{id:`${Fe}-${he}`,"aria-selected":yt===he,"aria-posinset":he+1,"aria-setsize":t.Children.toArray(qe).length,ref(et){Ie&&(at.current=et)},onClick:()=>nn(he),onMouseDown:an,isSelected:Ie})}),Qn=()=>{ct.current.focus(),jt&&jt(),wt()},rn=()=>{ct.current.focus(),ze(!0)},qt=()=>{const J=qe.findIndex(he=>he.props?.children===Pe);return Pe&&J===-1},on=J=>{J.preventDefault(),ze(J,!0)};let Nt;return Ye?Nt=`${Fe}-error`:lt&&(Nt=`${Fe}-hint`),t.createElement(ce.g,{hint:lt,error:Ye,id:Fe,required:de},t.createElement(tt.T,{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text"},Je),t.createElement(Ce.k,{direction:"column",alignItems:"stretch",gap:Se||lt||Ye?1:0},Se&&t.createElement(ie.Q,{action:nt},Se),t.createElement(f.d8,{ref:Ut,$disabled:ae,hasError:Ye},t.createElement(f.fv,{wrap:"wrap"},!Pe&&Je&&t.createElement(f.K7,{id:`${Fe}-selected-value`},t.createElement(Ge.Z,null,Zt())),t.createElement(f.II,{"aria-activedescendant":en,"aria-autocomplete":"list","aria-controls":`${Fe}-listbox`,"aria-disabled":ae,"aria-expanded":We,"aria-haspopup":"listbox","aria-describedby":Nt,autoComplete:"off",autoCorrect:"off",id:Fe,onBlur:ae?void 0:tn,onClick:ae?void 0:on,onInput:ae?void 0:St,onKeyDown:ae?void 0:Qe,placeholder:Je?"":Jt,readOnly:ae,ref:ct,required:de,role:"combobox",spellCheck:"off",type:"text",value:Pe})),t.createElement(Ce.k,null,(Je||Pe)&&t.createElement(k.zb,{id:`${Fe}-clear`,"aria-label":Te,disabled:ae,paddingLeft:3,as:"button",onClick:Qn,type:"button"},t.createElement(R.Cross,null)),t.createElement(k.AV,{disabled:ae,paddingLeft:3,"aria-hidden":!0,as:"button",onClick:rn,tabIndex:-1,type:"button"},t.createElement(R.CarretDown,null)))),t.createElement(ge.J,null),t.createElement(le.c,null)),We&&t.createElement(Ee.J2,{id:`${Fe}-popover`,source:Ut,spacing:4,fullWidth:!0,intersectionId:`${Fe}-listbox-popover-intersection`,onReachEnd:gt&&!re?Rt:void 0},t.createElement("div",{role:"listbox",ref:_t,id:`${Fe}-listbox`,"aria-labelledby":Se?mt:void 0},(Boolean(qe.length)||U)&&t.createElement(t.Fragment,null,sn,qt()&&U&&t.createElement(v.O,{isSelected:Re===qe.length,ref:J=>{Re===qe.length&&(at.current=J)},onMouseDown:an,onClick:()=>Ft(),taindex:0},_(Pe))),!qe.length&&!U&&!re&&t.createElement(ye.x,{paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,ref:at},t.createElement(Ge.Z,{textColor:"neutral800"},Ve(Pe))),re&&t.createElement(Ce.k,{justifyContent:"center",alignItems:"center",paddingTop:2,paddingBottom:2},t.createElement(fe.a,{small:!0},De)))))},Xe=G=>t.createElement(xe,{...G,creatable:!0});xe.defaultProps={"aria-label":void 0,clearLabel:"clear",creatable:!1,createMessage:G=>`Create "${G}"`,disabled:!1,error:void 0,hasMoreItems:!1,hint:void 0,id:void 0,label:void 0,loading:!1,loadingMessage:"Loading content...",noOptionsMessage:()=>"No results found",onClear:void 0,onCreateOption:void 0,onInputChange:void 0,onLoadMore:void 0,placeholder:"Select or enter a value",value:void 0},Xe.defaultProps=xe.defaultProps,xe.propTypes={"aria-label":h.string,children:h.oneOfType([h.arrayOf(h.node),h.node]),clearLabel:h.string,creatable:h.bool,createMessage:h.func,disabled:h.bool,error:h.string,hasMoreItems:h.bool,id:h.string,hint:h.oneOfType([h.string,h.node,h.arrayOf(h.node)]),label:h.string,labelAction:h.element,loading:h.bool,loadingMessage:h.string,noOptionsMessage:h.func,onChange:h.func.isRequired,onClear:h.func,onCreateOption:h.func,onInputChange:h.func,onLoadMore:h.func,placeholder:h.string,value:h.string},Xe.propTypes={...xe.propTypes,onCreateOption:h.func.isRequired}},90608:(W,q,r)=>{"use strict";r.d(q,{O:()=>f});var t=r(67294),R=r(45697),h=r(74020),v=r(75515);const f=(0,t.forwardRef)(({isSelected:w,children:F,...Z},I)=>t.createElement(h.Zq,{hasRadius:!0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2,role:"option",background:"neutral0",isSelected:w,ref:I,...Z},t.createElement(v.Z,{textColor:w?"primary600":"neutral800",fontWeight:w?"bold":null},F)));f.defaultProps={isSelected:!1},f.propTypes={children:R.oneOfType([R.string,R.number]).isRequired,isSelected:R.bool},f.displayName="ComboboxOption"},74020:(W,q,r)=>{"use strict";r.d(q,{II:()=>Z,K7:()=>w,Zq:()=>I,d8:()=>f,fv:()=>F});var t=r(71893),R=r(41580),h=r(11047),v=r(15585);const f=(0,t.default)(h.k)`
  position: relative;
  border: 1px solid ${({theme:s,hasError:b})=>b?s.colors.danger600:s.colors.neutral200};
  padding-right: ${({theme:s})=>s.spaces[3]};
  padding-left: ${({theme:s})=>s.spaces[3]};
  border-radius: ${({theme:s})=>s.borderRadius};
  background: ${({theme:s})=>s.colors.neutral0};

  ${({theme:s,$disabled:b})=>b?`
    color: ${s.colors.neutral600};
    background: ${s.colors.neutral150};
  `:void 0}

  ${(0,v.k3)()}
`,w=t.default.div`
  padding: 1px 2px;
  grid-area: 1 / 1 / 2 / 3;
`,F=(0,t.default)(h.k)`
  display: grid;
  flex: 1 1 0%;
  position: relative;
`,Z=t.default.input`
  display: inline-grid;
  grid-area: 1 / 1 / 2 / 3;
  grid-template-columns: 0px min-content;
  background: transparent;
  min-height: ${40/16}rem;
  border: none;
  flex: 1;
  font-size: ${14/16}rem;
  color: ${({theme:s})=>s.colors.neutral800};
  outline: none;
  &:focus-visible {
    outline: none;
    box-shadow: none;
    outline-offset: 0;
  }
  &[aria-disabled='true'] {
    background: inherit;
    color: inherit;
    cursor: not-allowed;
  }
`,I=(0,t.default)(R.x)`
  width: 100%;
  border: none;
  text-align: left;
  outline-offset: -3px;
  ${({isSelected:s,theme:b})=>s&&`background: ${b.colors.primary100};`}

  &:hover {
    background: ${({theme:s})=>s.colors.primary100};
  }
`},39785:(W,q,r)=>{"use strict";r.d(q,{A:()=>K});var t=r(85893),R=r(67294),h=r(22522),v=r(71893),f=r(41580),w=r(11047),F=r(15585),Z=r(75515);const I=(0,v.keyframes)`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,s=v.default.div`
  animation: ${I} 2s infinite linear;
  will-change: transform;
`,b=(0,v.default)(w.k)`
  background: transparent;
  border: none;

  &[aria-disabled='true'] {
    pointer-events: none;
    svg path {
      fill: ${({theme:Me})=>Me.colors.neutral600};
    }
  }

  svg {
    display: flex;
    font-size: ${10/16}rem;
  }

  svg path {
    fill: ${({theme:Me})=>Me.colors.primary600};
  }

  ${F.BF}
`,K=R.forwardRef(({children:Me,startIcon:ye,endIcon:ce,onClick:ie,disabled:ge=!1,loading:le=!1,...Ce},u)=>{const fe=ie&&!ge?ie:void 0,Ee=ge||le;return(0,t.jsxs)(b,{ref:u,"aria-disabled":Ee,onClick:fe,as:"button",type:"button",...Ce,children:[(ye||le)&&(0,t.jsx)(f.x,{as:"span",paddingRight:2,"aria-hidden":!0,children:le?(0,t.jsx)(s,{children:(0,t.jsx)(h.Loader,{})}):ye}),(0,t.jsx)(Z.Z,{variant:"pi",textColor:Ee?"neutral600":"primary600",children:Me}),ce&&(0,t.jsx)(f.x,{as:"span",paddingLeft:2,"aria-hidden":!0,children:ce})]})});K.displayName="TextButton"}}]);
