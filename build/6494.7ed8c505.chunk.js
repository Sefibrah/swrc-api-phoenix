(self.webpackChunkstrapi=self.webpackChunkstrapi||[]).push([[6494],{98374:(y,f,t)=>{"use strict";t.d(f,{F:()=>g});var e=t(67294),s=t(32638),a=t(86896),c=t(88767);const g=(n={},v={})=>{const{id:l="",...i}=n,{get:o}=(0,s.useFetchClient)(),{locale:u}=(0,a.Z)(),p=(0,s.useCollator)(u,{sensitivity:"base"}),{data:E,error:h,isError:r,isLoading:S,refetch:P}=(0,c.useQuery)(["roles",l,i],async()=>{const{data:M}=await o(`/admin/roles/${l??""}`,{params:i});return M},v);return{roles:e.useMemo(()=>{let M=[];return E&&(Array.isArray(E.data)?M=E.data:M=[E.data]),[...M].sort((C,b)=>p.compare(C.name,b.name))},[E,p]),error:h,isError:r,isLoading:S,refetch:P}}},79194:(y,f,t)=>{"use strict";t.d(f,{v:()=>a});var e=t(67294),s=t(86706);function a(c,g){const n=(0,s.oR)();(0,e.useEffect)(()=>{n.injectReducer(c,g)},[n,c,g])}},75021:(y,f,t)=>{"use strict";t.d(f,{q:()=>c});var e=t(67294),s=t(32638),a=t(88767);function c({enabled:g}={enabled:!0}){const{get:n}=(0,s.useFetchClient)(),{data:v,isError:l,isLoading:i}=(0,a.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:p}}=await n("/admin/license-limit-information");return p},{enabled:g}),o=e.useMemo(()=>v??{},[v]),u=e.useCallback(p=>(o?.features??[]).find(h=>h.name===p)?.options??{},[o?.features]);return{license:o,getFeature:u,isError:l,isLoading:i}}},11984:(y,f,t)=>{"use strict";t.d(f,{CI:()=>n,ES:()=>s,FP:()=>i,Js:()=>u,Lk:()=>E,Mu:()=>l,PP:()=>c,Pz:()=>p,_V:()=>g,fC:()=>a,rI:()=>o,wt:()=>h,xn:()=>v});var e=t(86978);function s(r){return{type:e.bc,payload:{id:r}}}function a({workflow:r}){return{type:e.qZ,payload:r}}function c({workflows:r}){return{type:e.QM,payload:r}}function g(r){return{type:e.x4,payload:{stageId:r}}}function n(r={}){return{type:e.Ot,payload:r}}function v(r,S){return{type:e.Nj,payload:{stageId:r,...S}}}function l(r){return{type:e.k_,payload:r}}function i(r,S){return{type:e.$k,payload:{newIndex:S,oldIndex:r}}}function o(r){return{type:e.VS,payload:r}}function u(){return{type:e.gu}}function p(r){return{type:e.yq,payload:r}}function E(r){return{type:e.zn,payload:r}}function h(r){return{type:e.rg,payload:r}}},43390:(y,f,t)=>{"use strict";t.d(f,{eJ:()=>I,lx:()=>C,h4:()=>T,fC:()=>b});var e=t(67294),s=t(71590),a=t(40720),c=t(34726),g=t(90731),n=t(32638),v=t(97695),l=t(86896),i=t(40784),o=t(86978),u=t(96987),p=t(71068),E=t(58471),h=t(45697),r=t.n(h),S=t(71997);const P=(0,S.ZP)(u.k)`
  svg path {
    fill: ${({theme:O})=>O.colors.neutral600};
  }
`;function R({name:O}){return e.createElement(u.k,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",gap:3,hasRadius:!0,padding:3,shadow:"tableShadow",width:(0,n.pxToRem)(300)},e.createElement(P,{alignItems:"center",background:"neutral200",borderRadius:"50%",height:6,justifyContent:"center",width:6},e.createElement(E.Z,{width:`${8/16}rem`})),e.createElement(p.Z,{fontWeight:"bold"},O))}R.propTypes={name:r().string.isRequired};function M({type:O,item:W}){switch(O){case o.uL.STAGE:return e.createElement(R,{...W});default:return null}}function C(){return e.createElement(i.r,{renderItem:M})}function b({children:O}){return e.createElement(s.A,null,e.createElement(a.o,{tabIndex:-1},e.createElement(c.D,null,O)))}function I({href:O}){const{formatMessage:W}=(0,l.Z)();return e.createElement(n.Link,{startIcon:e.createElement(v.Z,null),to:O},W({id:"global.back",defaultMessage:"Back"}))}function T({title:O,subtitle:W,navigationAction:B,primaryAction:N}){return e.createElement(e.Fragment,null,e.createElement(n.SettingsPageTitle,{name:O}),e.createElement(g.T,{navigationAction:B,primaryAction:N,title:O,subtitle:W}))}},38705:(y,f,t)=>{"use strict";t.d(f,{uT:()=>M,fC:()=>I,Dx:()=>R});var e=t(67294),s=t(71068),a=t(96987),c=t(74622),g=t(71543),n=t(16607),v=t(96208),l=t(94101),i=t(35771),o=t(45697),u=t.n(o),p=t(86896),E=t(71997);const h=t.p+"0cd5f8915b265d5b1856.png",r="limits-title",S="https://strapi.io/pricing-cloud",P="https://strapi.io/contact-sales";function R({children:T}){return e.createElement(s.Z,{variant:"alpha",id:r},T)}R.propTypes={children:u().node.isRequired};function M({children:T}){return e.createElement(s.Z,{variant:"omega"},T)}M.propTypes={children:u().node.isRequired};function C(){const{formatMessage:T}=(0,p.Z)();return e.createElement(a.k,{gap:2,paddingTop:4},e.createElement(l.Q,{variant:"default",isExternal:!0,href:S},T({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),e.createElement(l.Q,{variant:"tertiary",isExternal:!0,href:P},T({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const b=E.ZP.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:T})=>`-${T.spaces[7]}`};
  margin-top: ${({theme:T})=>`-${T.spaces[7]}`};
  width: 360px;
`;function I({children:T,isOpen:O,onClose:W}){const{formatMessage:B}=(0,p.Z)();return O?e.createElement(c.P,{labelledBy:r},e.createElement(g.f,null,e.createElement(a.k,{gap:2,paddingLeft:7,position:"relative"},e.createElement(a.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},T,e.createElement(C,null)),e.createElement(a.k,{justifyContent:"end",height:"100%",width:"40%"},e.createElement(b,{src:h,"aria-hidden":!0,alt:"",loading:"lazy"}),e.createElement(n.x,{display:"flex",position:"absolute",right:0,top:0},e.createElement(v.h,{icon:e.createElement(i.Z,null),"aria-label":B({id:"global.close",defaultMessage:"Close"}),onClick:W})))))):null}I.defaultProps={isOpen:!1},I.propTypes={children:u().node.isRequired,isOpen:u().bool,onClose:u().func.isRequired}},68997:(y,f,t)=>{"use strict";t.d(f,{U:()=>ae});var e=t(67294),s=t(16607),a=t(96987),c=t(32638),g=t(45697),n=t.n(g),v=t(86896),l=t(86706),i=t(71997),o=t(11984),u=t(71068),p=t(45196);const E=(0,i.ZP)(p.Z)`
  > circle {
    fill: ${({theme:d})=>d.colors.neutral150};
  }
  > path {
    fill: ${({theme:d})=>d.colors.neutral600};
  }
`,h=(0,i.ZP)(s.x)`
  border-radius: 26px;

  svg {
    height: ${({theme:d})=>d.spaces[6]};
    width: ${({theme:d})=>d.spaces[6]};

    > path {
      fill: ${({theme:d})=>d.colors.neutral600};
    }
  }

  &:hover {
    color: ${({theme:d})=>d.colors.primary600} !important;
    ${u.Z} {
      color: ${({theme:d})=>d.colors.primary600} !important;
    }

    ${E} {
      > circle {
        fill: ${({theme:d})=>d.colors.primary600};
      }
      > path {
        fill: ${({theme:d})=>d.colors.neutral100};
      }
    }
  }

  &:active {
    ${u.Z} {
      color: ${({theme:d})=>d.colors.primary600};
    }

    ${E} {
      > circle {
        fill: ${({theme:d})=>d.colors.primary600};
      }
      > path {
        fill: ${({theme:d})=>d.colors.neutral100};
      }
    }
  }
`;function r({children:d,...x}){return e.createElement(h,{as:"button",background:"neutral0",border:"neutral150",paddingBottom:3,paddingLeft:4,paddingRight:4,paddingTop:3,shadow:"filterShadow",...x},e.createElement(a.k,{gap:2},e.createElement(E,{"aria-hidden":!0}),e.createElement(u.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral500"},d)))}r.propTypes={children:n().node.isRequired};var S=t(82832),P=t(96208),R=t(22304),M=t(63122),C=t(1744),b=t(68889),I=t(31988),T=t(6498),O=t(38670),W=t(90090),B=t(52575),N=t(40563),J=t(79823),_=t(62873),V=t(43838),j=t(41054),q=t(61080),ee=t(21440),w=t(21892),k=t(86978),te=t(65649),L=t(5318);const fe=(0,i.ZP)(S.ML)`
  padding-left: ${({theme:d})=>d.spaces[7]};
`,pe=(0,i.ZP)(a.k)`
  > * {
    flex-grow: 1;
  }
`,ve=(0,i.ZP)(B.sN)`
  color: ${({theme:d})=>d.colors.danger600};
`,Ee=(0,i.ZP)(N.xz)`
  :hover,
  :focus {
    background-color: ${({theme:d})=>d.colors.neutral100};
  }

  > span {
    font-size: 0;
  }
`,he=(0,i.ZP)(P.h)`
  align-items: center;
  border-radius: ${({theme:d})=>d.borderRadius};
  display: flex;
  justify-content: center;

  :hover,
  :focus {
    background-color: ${({theme:d})=>d.colors.neutral100};
  }

  svg {
    height: auto;
    width: ${({theme:d})=>d.spaces[3]}};
  }
`,we=(0,L.s)();function ye(){return e.createElement(s.x,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",display:"block",hasRadius:!0,padding:6,shadow:"tableShadow"})}function le({id:d,index:x,canDelete:K,canReorder:se,canUpdate:Z,isOpen:ne=!1,stagesCount:G}){const H=m=>`${m+1} of ${G}`,z=m=>{Q(A({id:"dnd.grab-item",defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:U.value,position:H(m)}))},Te=m=>{Q(A({id:"dnd.drop-item",defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:U.value,position:H(m)}))},Me=()=>{Q(A({id:"dnd.cancel-item",defaultMessage:"{item}, dropped. Re-order cancelled."},{item:U.value}))},Oe=(m,D)=>{Q(A({id:"dnd.reorder",defaultMessage:"{item}, moved. New position in list: {position}."},{item:U.value,position:H(m)})),$((0,o.FP)(D,m))},Re=()=>{re(!0)},[ie,Q]=e.useState(null),{formatMessage:A}=(0,v.Z)(),{trackUsage:Ce}=(0,c.useTracking)(),$=(0,l.I0)(),Ae=(0,c.useNotification)(),[oe,Pe]=e.useState(ne),[We,re]=e.useState(!1),[U,ce,De]=(0,j.U$)(`stages.${x}.name`),[Y,de,Ie]=(0,j.U$)(`stages.${x}.color`),[F,ue,ke]=(0,j.U$)(`stages.${x}.permissions`),Le=(0,l.v9)(te.g$),[{handlerId:xe,isDragging:be,handleKeyDown:Ne},Ze,Be,Ue,ge]=(0,ee.Y9)(se,{index:x,item:{name:U.value},onGrabItem:z,onDropItem:Te,onMoveItem:Oe,onCancel:Me,type:k.uL.STAGE}),Ke=(0,w.FE)(Ze,Be),$e=we.map(({hex:m,name:D})=>({value:m,label:A({id:"Settings.review-workflows.stage.color.name",defaultMessage:"{name}"},{name:D}),color:m})),{themeColorName:Fe}=(0,L.k)(Y.value)??{},me=Le.filter(m=>m.code!=="strapi-super-admin");return e.useEffect(()=>{ge((0,q.rX)(),{captureDraggingState:!1})},[ge,x]),e.createElement(s.x,{ref:Ke},ie&&e.createElement(R.T,{"aria-live":"assertive"},ie),be?e.createElement(ye,null):e.createElement(M.U,{size:"S",variant:"primary",onToggle:()=>{Pe(!oe),oe||Ce("willEditStage")},expanded:oe,shadow:"tableShadow",error:ce.error??de?.error??ue?.error??!1,hasErrorMessage:!1},e.createElement(C.B,{title:U.value,togglePosition:"left",action:(K||Z)&&e.createElement(a.k,null,e.createElement(N.fC,null,e.createElement(Ee,{size:"S",endIcon:null,paddingLeft:2,paddingRight:2},e.createElement(J.Z,{"aria-hidden":!0,focusable:!1}),e.createElement(R.T,{as:"span"},A({id:"[tbdb].components.DynamicZone.more-actions",defaultMessage:"More actions"}))),e.createElement(N.VY,{popoverPlacement:"bottom-end",zIndex:2},e.createElement(N.rl,null,Z&&e.createElement(B.sN,{onClick:()=>$((0,o.ES)(d))},A({id:"Settings.review-workflows.stage.delete",defaultMessage:"Duplicate stage"})),K&&e.createElement(ve,{onClick:()=>$((0,o._V)(d))},A({id:"Settings.review-workflows.stage.delete",defaultMessage:"Delete"}))))),Z&&e.createElement(he,{background:"transparent",forwardedAs:"div",hasRadius:!0,role:"button",noBorder:!0,tabIndex:0,"data-handler-id":xe,ref:Ue,label:A({id:"Settings.review-workflows.stage.drag",defaultMessage:"Drag"}),onClick:m=>m.stopPropagation(),onKeyDown:Ne},e.createElement(_.Z,null)))}),e.createElement(b.v,{padding:6,background:"neutral0",hasRadius:!0},e.createElement(I.r,{gap:4},e.createElement(T.P,{col:6},e.createElement(O.o,{...U,id:U.name,disabled:!Z,label:A({id:"Settings.review-workflows.stage.name.label",defaultMessage:"Stage name"}),error:ce.error??!1,onChange:m=>{De.setValue(m.target.value),$((0,o.xn)(d,{name:m.target.value}))},required:!0})),e.createElement(T.P,{col:6},e.createElement(W.q4,{disabled:!Z,error:de?.error??!1,id:Y.name,required:!0,label:A({id:"content-manager.reviewWorkflows.stage.color",defaultMessage:"Color"}),onChange:m=>{Ie.setValue(m),$((0,o.xn)(d,{color:m}))},value:Y.value.toUpperCase(),startIcon:e.createElement(a.k,{as:"span",height:2,background:Y.value,borderColor:Fe==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},$e.map(({value:m,label:D,color:X})=>{const{themeColorName:je}=(0,L.k)(X);return e.createElement(W.ag,{value:m,key:m,startIcon:e.createElement(a.k,{as:"span",height:2,background:X,borderColor:je==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},D)}))),e.createElement(T.P,{col:6},me.length===0?e.createElement(c.NotAllowedInput,{description:{id:"Settings.review-workflows.stage.permissions.noPermissions.description",defaultMessage:"You don\u2019t have the permission to see roles"},intlLabel:{id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"},name:F.name}):e.createElement(a.k,{alignItems:"flex-end",gap:3},e.createElement(pe,{grow:1},e.createElement(S.NU,{...F,disabled:!Z,error:ue.error??!1,id:F.name,label:A({id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"}),onChange:m=>{const D=m.map(X=>({role:parseInt(X,10),action:"admin::review-workflows.stage.transition"}));ke.setValue(D),$((0,o.xn)(d,{permissions:D}))},placeholder:A({id:"Settings.review-workflows.stage.permissions.placeholder",defaultMessage:"Select a role"}),required:!0,value:(F.value??[]).map(m=>`${m.role}`),withTags:!0},[{label:A({id:"Settings.review-workflows.stage.permissions.allRoles.label",defaultMessage:"All roles"}),children:me.map(m=>({value:`${m.id}`,label:m.name}))}].map(m=>"children"in m?e.createElement(S.Ab,{key:m.label,label:m.label,values:m.children.map(D=>D.value)},m.children.map(D=>e.createElement(fe,{key:D.value,value:D.value},D.label))):e.createElement(S.ML,{key:m.value,value:m.value},m.label)))),e.createElement(P.h,{disabled:!Z,icon:e.createElement(V.Z,null),label:A({id:"Settings.review-workflows.stage.permissions.apply.label",defaultMessage:"Apply to all stages"}),size:"L",variant:"secondary",onClick:()=>Re(F.value)})))))),e.createElement(c.ConfirmDialog.Root,{iconRightButton:null,isOpen:We,onToggleDialog:()=>re(!1),onConfirm:()=>{$((0,o.Mu)({permissions:F.value})),re(!1),Ae({type:"success",message:A({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy.success",defaultMessage:"Applied roles to all other stages of the workflow"})})},variantRightButton:"primary"},e.createElement(c.ConfirmDialog.Body,null,e.createElement(u.Z,{textAlign:"center",variant:"omega"},A({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy",defaultMessage:"Roles that can change that stage will be applied to all the other stages."})))))}le.propTypes=n().shape({id:n().number.isRequired,color:n().string.isRequired,canDelete:n().bool.isRequired,canReorder:n().bool.isRequired,canUpdate:n().bool.isRequired,stagesCount:n().number.isRequired}).isRequired;const Se=(0,i.ZP)(s.x)`
  transform: translateX(-50%);
`;function ae({canDelete:d,canUpdate:x,stages:K}){const{formatMessage:se}=(0,v.Z)(),Z=(0,l.I0)(),{trackUsage:ne}=(0,c.useTracking)();return e.createElement(a.k,{direction:"column",gap:6,width:"100%"},e.createElement(s.x,{position:"relative",spacing:4,width:"100%"},e.createElement(Se,{background:"neutral200",height:"100%",left:"50%",position:"absolute",top:"0",width:2,zIndex:1}),e.createElement(a.k,{direction:"column",alignItems:"stretch",gap:6,zIndex:2,position:"relative",as:"ol"},K.map((G,H)=>{const z=G?.id??G.__temp_key__;return e.createElement(s.x,{key:`stage-${z}`,as:"li"},e.createElement(le,{id:z,index:H,isOpen:!G.id,canDelete:K.length>1&&d,canReorder:K.length>1,canUpdate:x,stagesCount:K.length}))}))),x&&e.createElement(r,{type:"button",onClick:()=>{Z((0,o.CI)({name:""})),ne("willCreateStage")}},se({id:"Settings.review-workflows.stage.add",defaultMessage:"Add new stage"})))}ae.defaultProps={canDelete:!0,canUpdate:!0,stages:[]},ae.propTypes={canDelete:n().bool,canUpdate:n().bool,stages:n().arrayOf(n().shape({id:n().number,__temp_key__:n().number,name:n().string.isRequired}))}},85230:(y,f,t)=>{"use strict";t.d(f,{Y:()=>R});var e=t(67294),s=t(82832),a=t(71068),c=t(31988),g=t(6498),n=t(38670),v=t(32638),l=t(41054),i=t(45697),o=t.n(i),u=t(86896),p=t(86706),E=t(71997),h=t(11984),r=t(65649);const S=(0,E.ZP)(s.ML)`
  padding-left: ${({theme:M})=>M.spaces[7]};
`,P=(0,E.ZP)(a.Z)`
  font-style: italic;
`;function R({canUpdate:M}){const{formatMessage:C,locale:b}=(0,u.Z)(),I=(0,p.I0)(),{collectionTypes:T,singleTypes:O}=(0,p.v9)(r.HK),W=(0,p.v9)(r.DV),B=(0,p.v9)(r.D6),[N,J,_]=(0,l.U$)("name"),[V,j,q]=(0,l.U$)("contentTypes"),ee=(0,v.useCollator)(b,{sensitivity:"base"});return e.createElement(c.r,{background:"neutral0",hasRadius:!0,gap:4,padding:6,shadow:"tableShadow"},e.createElement(g.P,{col:6},e.createElement(n.o,{...N,id:N.name,disabled:!M,label:C({id:"Settings.review-workflows.workflow.name.label",defaultMessage:"Workflow Name"}),error:J.error??!1,onChange:w=>{I((0,h.rI)({name:w.target.value})),_.setValue(w.target.value)},required:!0})),e.createElement(g.P,{col:6},e.createElement(s.NU,{...V,customizeContent:w=>C({id:"Settings.review-workflows.workflow.contentTypes.displayValue",defaultMessage:"{count} {count, plural, one {content type} other {content types}} selected"},{count:w.length}),disabled:!M,error:j.error??!1,id:V.name,label:C({id:"Settings.review-workflows.workflow.contentTypes.label",defaultMessage:"Associated to"}),onChange:w=>{I((0,h.rI)({contentTypes:w})),q.setValue(w)},placeholder:C({id:"Settings.review-workflows.workflow.contentTypes.placeholder",defaultMessage:"Select"})},[...T.length>0?[{label:C({id:"Settings.review-workflows.workflow.contentTypes.collectionTypes.label",defaultMessage:"Collection Types"}),children:[...T].sort((w,k)=>ee.compare(w.info.displayName,k.info.displayName)).map(w=>({label:w.info.displayName,value:w.uid}))}]:[],...O.length>0?[{label:C({id:"Settings.review-workflows.workflow.contentTypes.singleTypes.label",defaultMessage:"Single Types"}),children:[...O].map(w=>({label:w.info.displayName,value:w.uid}))}]:[]].map(w=>"children"in w?e.createElement(s.Ab,{key:w.label,label:w.label,values:w.children.map(k=>k.value.toString())},w.children.map(k=>{const{name:te}=B.find(L=>(W&&L.id!==W.id||!W)&&L.contentTypes.includes(k.value))??{};return e.createElement(S,{key:k.value,value:k.value},C({id:"Settings.review-workflows.workflow.contentTypes.assigned.notice",defaultMessage:"{label} {name, select, undefined {} other {<i>(assigned to <em>{name}</em> workflow)</i>}}"},{label:k.label,name:te,em:(...L)=>e.createElement(a.Z,{as:"em",fontWeight:"bold"},L),i:(...L)=>e.createElement(P,null,L)}))})):e.createElement(s.ML,{key:w.value,value:w.value},w.label)))))}R.defaultProps={canUpdate:!0},R.propTypes={canUpdate:o().bool}},86978:(y,f,t)=>{"use strict";t.d(f,{$k:()=>h,Ef:()=>M,FT:()=>P,Nj:()=>p,Ot:()=>o,QM:()=>l,VS:()=>r,_X:()=>C,bc:()=>u,gu:()=>a,k_:()=>E,lv:()=>S,qZ:()=>v,rg:()=>g,sN:()=>s,uL:()=>R,x4:()=>i,yq:()=>c,zn:()=>n});var e=t(12255);const s="settings_review-workflows",a="Settings/Review_Workflows/RESET_WORKFLOW",c="Settings/Review_Workflows/SET_CONTENT_TYPES",g="Settings/Review_Workflows/SET_IS_LOADING",n="Settings/Review_Workflows/SET_ROLES",v="Settings/Review_Workflows/SET_WORKFLOW",l="Settings/Review_Workflows/SET_WORKFLOWS",i="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",o="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",u="Settings/Review_Workflows/WORKFLOW_CLONE_STAGE",p="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",E="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGES",h="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",r="Settings/Review_Workflows/WORKFLOW_UPDATE",S={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},P=e.W.colors.primary600,R={STAGE:"stage"},M="numberOfWorkflows",C="stagesPerWorkflow"},52258:(y,f,t)=>{"use strict";t.d(f,{n:()=>c});var e=t(67294),s=t(32638),a=t(88767);function c(g={}){const{get:n}=(0,s.useFetchClient)(),{id:v="",...l}=g,i={populate:"stages"},{data:o,isLoading:u,status:p,refetch:E}=(0,a.useQuery)(["review-workflows","workflows",v],async()=>(await n(`/admin/review-workflows/workflows/${v}`,{params:{...i,...l}})).data),h=e.useMemo(()=>v&&o?.data?[o.data]:Array.isArray(o?.data)?o.data:[],[o?.data,v]);return{meta:e.useMemo(()=>o?.meta??{},[o?.meta]),workflows:h,isLoading:u,status:p,refetch:E}}},3848:(y,f,t)=>{"use strict";t.d(f,{E:()=>a,I:()=>c});var e=t(18172),s=t(86978);const a={serverState:{contentTypes:{collectionTypes:[],singleTypes:[]},roles:[],workflow:null,workflows:[]},clientState:{currentWorkflow:{data:{name:"",contentTypes:[],stages:[],permissions:void 0}},isLoading:!0}};function c(n=a,v){return(0,e.Uy)(n,l=>{const{payload:i}=v;switch(v.type){case s.yq:{l.serverState.contentTypes=i;break}case s.rg:{l.clientState.isLoading=i;break}case s.zn:{l.serverState.roles=i;break}case s.qZ:{const o=i;o&&(l.serverState.workflow=o,l.clientState.currentWorkflow.data={...o,stages:o.stages.map(u=>({...u,color:u?.color??s.FT}))});break}case s.QM:{l.serverState.workflows=i;break}case s.gu:{l.clientState=a.clientState,l.serverState=a.serverState;break}case s.x4:{const{stageId:o}=i,{currentWorkflow:u}=n.clientState;l.clientState.currentWorkflow.data.stages=u.data.stages.filter(p=>(p?.id??p.__temp_key__)!==o);break}case s.Ot:{const{currentWorkflow:o}=n.clientState;o.data||(l.clientState.currentWorkflow.data={stages:[]});const u=g(l.clientState.currentWorkflow.data.stages);l.clientState.currentWorkflow.data.stages.push({...i,color:i?.color??s.FT,__temp_key__:u});break}case s.bc:{const{currentWorkflow:o}=n.clientState,{id:u}=i,p=o.data.stages.findIndex(h=>(h?.id??h?.__temp_key__)===u),E=o.data.stages[p];l.clientState.currentWorkflow.data.stages.splice(p+1,0,{...E,id:void 0,__temp_key__:g(l.clientState.currentWorkflow.data.stages)});break}case s.Nj:{const{currentWorkflow:o}=n.clientState,{stageId:u,...p}=i;l.clientState.currentWorkflow.data.stages=o.data.stages.map(E=>(E.id??E.__temp_key__)===u?{...E,...p}:E);break}case s.k_:{const{currentWorkflow:o}=n.clientState;l.clientState.currentWorkflow.data.stages=o.data.stages.map(u=>({...u,...i}));break}case s.$k:{const{currentWorkflow:{data:{stages:o}}}=n.clientState,{newIndex:u,oldIndex:p}=i;if(u>=0&&u<o.length){const E=o[p];let h=[...o];h.splice(p,1),h.splice(u,0,E),l.clientState.currentWorkflow.data.stages=h}break}case s.VS:{l.clientState.currentWorkflow.data={...l.clientState.currentWorkflow.data,...i};break}default:break}})}const g=(n=[])=>{const v=n.map(l=>l.id??l.__temp_key__);return Math.max(...v,-1)+1}},65649:(y,f,t)=>{"use strict";t.d(f,{CA:()=>p,D6:()=>o,DV:()=>i,HK:()=>v,RR:()=>h,bH:()=>u,g$:()=>l,xU:()=>E});var e=t(18446),s=t.n(e),a=t(20573),c=t(86978),g=t(3848);const n=r=>r[c.sN]??g.E,v=(0,a.P1)(n,({serverState:{contentTypes:r}})=>r),l=(0,a.P1)(n,({serverState:{roles:r}})=>r),i=(0,a.P1)(n,({clientState:{currentWorkflow:r}})=>r.data),o=(0,a.P1)(n,({serverState:{workflows:r}})=>r),u=(0,a.P1)(n,({serverState:r,clientState:{currentWorkflow:S}})=>!s()(r.workflow,S.data)),p=(0,a.P1)(n,({serverState:r,clientState:{currentWorkflow:S}})=>!(r.workflow?.stages??[]).every(P=>!!S.data.stages.find(({id:R})=>R===P.id))),E=(0,a.P1)(n,({clientState:{isLoading:r}})=>r),h=(0,a.P1)(n,({serverState:r})=>r)},5318:(y,f,t)=>{"use strict";t.d(f,{k:()=>a,s:()=>c});var e=t(12255),s=t(86978);function a(g){if(!g)return null;const v=Object.entries(e.W.colors).filter(([,l])=>l.toUpperCase()===g.toUpperCase()).reduce((l,[i])=>(s.lv?.[i]&&(l=i),l),null);return v?{themeColorName:v,name:s.lv[v]}:null}function c(){return Object.entries(s.lv).map(([g,n])=>({hex:e.W.colors[g].toUpperCase(),name:n}))}},66578:(y,f,t)=>{"use strict";t.d(f,{V:()=>c});var e=t(36968),s=t.n(e),a=t(87561);async function c({values:g,formatMessage:n}){const v=a.Ry({contentTypes:a.IX().of(a.Z_()),name:a.Z_().max(255,n({id:"Settings.review-workflows.validation.name.max-length",defaultMessage:"Name can not be longer than 255 characters"})).required(),stages:a.IX().of(a.Ry().shape({name:a.Z_().required(n({id:"Settings.review-workflows.validation.stage.name",defaultMessage:"Name is required"})).max(255,n({id:"Settings.review-workflows.validation.stage.max-length",defaultMessage:"Name can not be longer than 255 characters"})).test("unique-name",n({id:"Settings.review-workflows.validation.stage.duplicate",defaultMessage:"Stage name must be unique"}),function(l){const{options:{context:i}}=this;return i.stages.filter(o=>o.name===l).length===1}),color:a.Z_().required(n({id:"Settings.review-workflows.validation.stage.color",defaultMessage:"Color is required"})).matches(/^#(?:[0-9a-fA-F]{3}){1,2}$/i),permissions:a.IX(a.Ry({role:a.Rx().strict().typeError(n({id:"Settings.review-workflows.validation.stage.permissions.role.number",defaultMessage:"Role must be of type number"})).required,action:a.Z_().required({id:"Settings.review-workflows.validation.stage.permissions.action.required",defaultMessage:"Action is a required argument"})})).strict()})).min(1)});try{return await v.validate(g,{abortEarly:!1,context:g}),!0}catch(l){let i={};return l instanceof a.p8&&l.inner.forEach(o=>{s()(i,o.path,o.message)}),i}}},51584:(y,f,t)=>{var e=t(44239),s=t(37005),a="[object Boolean]";function c(g){return g===!0||g===!1||s(g)&&e(g)==a}y.exports=c},7654:(y,f,t)=>{var e=t(81763);function s(a){return e(a)&&a!=+a}y.exports=s},81763:(y,f,t)=>{var e=t(44239),s=t(37005),a="[object Number]";function c(g){return typeof g=="number"||s(g)&&e(g)==a}y.exports=c},97695:(y,f,t)=>{"use strict";t.d(f,{Z:()=>a});var e=t(85893);const s=c=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...c,children:(0,e.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),a=s},62873:(y,f,t)=>{"use strict";t.d(f,{Z:()=>a});var e=t(85893);const s=c=>(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...c,children:[(0,e.jsx)("path",{fill:"#212134",d:"M16.563 5.587a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M18.487 3.083c-.012.788-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574A1.943 1.943 0 0 1 14.9 2.11c.4-.684 1.2-1.066 1.981-.927a1.954 1.954 0 0 1 1.606 1.9c.011.748 1.17.748 1.158 0A3.138 3.138 0 0 0 17.565.17c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM16.563 14.372a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M18.487 11.867c-.012.789-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.968 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.675 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.005ZM16.563 23.392a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M18.487 20.89c-.012.787-.487 1.512-1.229 1.796a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.967 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM7.378 5.622a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M9.302 3.119c-.011.788-.486 1.512-1.228 1.796a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38.205c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.005ZM7.378 14.406a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M9.302 11.902c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38 8.988c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.674 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.006ZM7.378 23.427a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,e.jsx)("path",{fill:"#212134",d:"M9.302 20.924c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927.933.156 1.594.967 1.605 1.9.012.748 1.17.748 1.16 0A3.139 3.139 0 0 0 8.38 18.01c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.569.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.747-1.147-.747-1.159 0Z"})]}),a=s},79823:(y,f,t)=>{"use strict";t.d(f,{Z:()=>a});var e=t(85893);const s=c=>(0,e.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...c,children:(0,e.jsx)("path",{fill:"#32324D",d:"M3.5 14.6a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Zm8.5 0a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Zm8.5 0a2.6 2.6 0 1 0 0-5.2 2.6 2.6 0 0 0 0 5.2Z"})}),a=s},45196:(y,f,t)=>{"use strict";t.d(f,{Z:()=>a});var e=t(85893);const s=c=>(0,e.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...c,children:[(0,e.jsx)("circle",{cx:12,cy:12,r:12,fill:"#212134"}),(0,e.jsx)("path",{fill:"#F6F6F9",d:"M17 12.569c0 .124-.1.224-.225.224h-3.981v3.982c0 .124-.101.225-.226.225h-1.136a.225.225 0 0 1-.226-.225v-3.981H7.226A.225.225 0 0 1 7 12.567v-1.136c0-.125.1-.226.225-.226h3.982V7.226c0-.124.1-.225.224-.225h1.138c.124 0 .224.1.224.225v3.982h3.982c.124 0 .225.1.225.224v1.138Z"})]}),a=s}}]);
