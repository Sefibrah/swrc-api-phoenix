(self.webpackChunkstrapi=self.webpackChunkstrapi||[]).push([[8880],{68314:(P,U,d)=>{"use strict";d.d(U,{Z:()=>W});var a=d(67294),M=d(71893),S=d(45697),C=d.n(S),v=d(72899),c=d.n(v),A=d(22522),G=d.n(A),h=d(27298),i=d.n(h);const E={biginteger:A.Number,boolean:A.Boolean,collectionType:A.CollectionType,component:A.Component,contentType:A.CollectionType,date:A.Date,datetime:A.Date,decimal:A.Number,dynamiczone:A.DynamicZone,email:A.Email,enum:A.Enumeration,enumeration:A.Enumeration,file:A.Media,files:A.Media,float:A.Number,integer:A.Number,json:A.Json,JSON:A.Json,media:A.Media,number:A.Number,password:A.Password,relation:A.Relation,richtext:A.RichText,singleType:A.SingleType,string:A.Text,text:A.Text,time:A.Date,timestamp:A.Date,uid:A.Uid},q=(0,M.default)(v.Box)`
  svg {
    height: 100%;
    width: 100%;
  }
`,z=({type:Q,customField:m,...V})=>{const K=(0,h.useCustomFields)();let R=E[Q];if(m){const{icon:J}=K.get(m);J&&(R=J)}return E[Q]?a.createElement(q,{height:(0,h.pxToRem)(24),width:(0,h.pxToRem)(32),shrink:0,...V,"aria-hidden":!0},a.createElement(v.Box,{as:R})):null};z.defaultProps={customField:null},z.propTypes={type:C().string.isRequired,customField:C().string};const W=z},7955:(P,U,d)=>{"use strict";d.d(U,{Z:()=>S});var a=d(67294);const S=(0,a.createContext)()},98422:(P,U,d)=>{"use strict";d.d(U,{Z:()=>S});var a=d(67294);const S=(0,a.createContext)()},13588:(P,U,d)=>{"use strict";d.d(U,{Z:()=>C});var a=d(67294),M=d(7955);const C=()=>(0,a.useContext)(M.Z)},26478:(P,U,d)=>{"use strict";d.d(U,{Z:()=>C});var a=d(67294),M=d(98422);const C=()=>(0,a.useContext)(M.Z)},81254:(P,U,d)=>{"use strict";d.r(U),d.d(U,{default:()=>ai});var a=d(67294),M=d(49656),S=d(73117),C=d(49212),v=d(27298),c=d(72899),A=d(57176),G=d(96124),h=d(45697),i=d.n(h),E=d(96486),q=d(37424),z=d(35281),W=d(7955),Q=d(26478),m=d(5002),V=d(85169),K=d(27361),R=d.n(K),J=d(18721),ae=d.n(J),se=d(92622),Ee=d.n(se),ze=d(7334),Se=d.n(ze),ye=d(13588),bt=d(11700),Ae=d.n(bt);const lt=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],He=({intlLabel:t,name:n,onChange:r,value:l})=>{const{formatMessage:s}=(0,C.useIntl)(),u=l===null||l.length===0?s({id:"global.none",defaultMessage:"None"}):[...l].sort().map(g=>Ae()(g)).join(", "),p=t.id?s({id:t.id,defaultMessage:t.defaultMessage}):n;return a.createElement(c.MultiSelectNested,{id:"select1",label:p,customizeContent:()=>u,onChange:g=>{g.length>0?r({target:{name:n,value:g,type:"allowed-types-select"}}):r({target:{name:n,value:null,type:"allowed-types-select"}})},options:lt,value:l||[]})};He.defaultProps={value:null},He.propTypes={intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,name:i().string.isRequired,onChange:i().func.isRequired,value:i().oneOfType([i().object,i().array])};const Ve=He,ut=t=>t.kind==="collectionType"&&(t.restrictRelationsTo===null||Array.isArray(t.restrictRelationsTo)&&t.restrictRelationsTo.length>0);var Ue=d(68314),X=d(71893);const Cn=(0,X.default)(c.Box)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:t})=>t.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:t})=>t.colors.primary100};
    border: 1px solid ${({theme:t})=>t.colors.primary200};
  }
`,vt=({type:t})=>{const{formatMessage:n}=(0,C.useIntl)(),{onClickSelectField:r}=(0,Q.Z)(),l=()=>{r({attributeType:t,step:t==="component"?"1":null})};return a.createElement(Cn,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:l},a.createElement(c.Flex,null,a.createElement(Ue.Z,{type:t}),a.createElement(c.Box,{paddingLeft:4},a.createElement(c.Flex,null,a.createElement(c.Typography,{fontWeight:"bold"},n({id:(0,m.Z)(`attribute.${t}`),defaultMessage:t}))),a.createElement(c.Flex,null,a.createElement(c.Typography,{variant:"pi",textColor:"neutral600"},n({id:(0,m.Z)(`attribute.${t}.description`),defaultMessage:"A type for modeling data"}))))))};vt.defaultProps={type:"text"},vt.propTypes={type:i().string};const qa=vt,En=t=>{const n=t%2===1;return{paddingLeft:n?2:0,paddingRight:n?0:2}},xn=({attributes:t})=>a.createElement(c.KeyboardNavigable,{tagName:"button"},a.createElement(c.Stack,{spacing:8},t.map((n,r)=>a.createElement(c.Grid,{key:r,gap:0},n.map((l,s)=>{const{paddingLeft:u,paddingRight:p}=En(s);return a.createElement(c.GridItem,{key:l,col:6,style:{height:"100%"}},a.createElement(c.Box,{paddingLeft:u,paddingRight:p,paddingBottom:1,style:{height:"100%"}},a.createElement(qa,{type:l})))})))));xn.propTypes={attributes:i().array.isRequired};const Oa=xn;var ka=d(36232),wa=d.n(ka),ce=d(22522);const Pa=(0,X.default)(c.Box)`
  background: ${({theme:t})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${t.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Ia=()=>a.createElement(c.Flex,{wrap:"wrap",gap:4},[...Array(4)].map((t,n)=>a.createElement(Pa,{key:`empty-card-${n}`,height:"138px",width:"375px",hasRadius:!0}))),Da=()=>{const{formatMessage:t}=(0,C.useIntl)();return a.createElement(c.Box,{position:"relative"},a.createElement(Ia,null),a.createElement(c.Box,{position:"absolute",top:6,width:"100%"},a.createElement(c.Flex,{alignItems:"center",justifyContent:"center",direction:"column"},a.createElement(c.Icon,{as:ce.EmptyStateDocument,color:"",width:"160px",height:"88px"}),a.createElement(c.Box,{paddingTop:6,paddingBottom:4},a.createElement(c.Box,{textAlign:"center"},a.createElement(c.Typography,{variant:"delta",as:"p",textColor:"neutral600"},t({id:(0,m.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),a.createElement(c.Box,{paddingTop:4},a.createElement(c.Typography,{variant:"delta",as:"p",textColor:"neutral600"},t({id:(0,m.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),a.createElement(c.LinkButton,{to:`/marketplace?${wa().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:a.createElement(ce.Plus,null)},t({id:(0,m.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Mn=({customFieldUid:t,customField:n})=>{const{type:r,intlLabel:l,intlDescription:s}=n,{formatMessage:u}=(0,C.useIntl)(),{onClickSelectCustomField:p}=(0,Q.Z)(),g=()=>{p({attributeType:r,customFieldUid:t})};return a.createElement(Cn,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:g},a.createElement(c.Flex,null,a.createElement(Ue.Z,{type:r,customField:t}),a.createElement(c.Box,{paddingLeft:4},a.createElement(c.Flex,null,a.createElement(c.Typography,{fontWeight:"bold"},u(l))),a.createElement(c.Flex,null,a.createElement(c.Typography,{variant:"pi",textColor:"neutral600"},u(s))))))};Mn.propTypes={customFieldUid:i().string.isRequired,customField:i().shape({type:i().string.isRequired,icon:i().func,intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired}).isRequired,intlDescription:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired}).isRequired}).isRequired};const Ba=Mn,ja=()=>{const{formatMessage:t}=(0,C.useIntl)(),n=(0,v.useCustomFields)(),r=Object.entries(n.getAll());if(!r.length)return a.createElement(Da,null);const l=r.sort((s,u)=>s[1].name>u[1].name?1:-1);return a.createElement(c.KeyboardNavigable,{tagName:"button"},a.createElement(c.Stack,{spacing:3},a.createElement(c.Grid,{gap:0},l.map(([s,u],p)=>{const{paddingLeft:g,paddingRight:f}=En(p);return a.createElement(c.GridItem,{key:s,col:6,style:{height:"100%"}},a.createElement(c.Box,{paddingLeft:g,paddingRight:f,paddingBottom:1,style:{height:"100%"}},a.createElement(Ba,{key:s,customFieldUid:s,customField:u})))})),a.createElement(c.Link,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},t({id:(0,m.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Rn=({attributes:t,forTarget:n,kind:r})=>{const{formatMessage:l}=(0,C.useIntl)(),s=(0,m.Z)("modalForm.tabs.default"),u=(0,m.Z)("modalForm.tabs.custom"),p=n.includes("component")?"component":r,g=(0,m.Z)(`modalForm.sub-header.chooseAttribute.${p}`);return a.createElement(c.ModalBody,{padding:6},a.createElement(c.TabGroup,{label:l({id:(0,m.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},a.createElement(c.Flex,{justifyContent:"space-between"},a.createElement(c.Typography,{variant:"beta",as:"h2"},l({id:g,defaultMessage:"Select a field"})),a.createElement(c.Tabs,null,a.createElement(c.Tab,null,l({id:s,defaultMessage:"Default"})),a.createElement(c.Tab,null,l({id:u,defaultMessage:"Custom"})))),a.createElement(c.Box,{paddingBottom:6},a.createElement(c.Divider,null)),a.createElement(c.TabPanels,null,a.createElement(c.TabPanel,null,a.createElement(Oa,{attributes:t})),a.createElement(c.TabPanel,null,a.createElement(ja,null)))))};Rn.propTypes={attributes:i().array.isRequired,forTarget:i().string.isRequired,kind:i().string.isRequired};const za=Rn,Tt=({description:t,disabled:n,intlLabel:r,isCreating:l,name:s,onChange:u,value:p})=>{const{formatMessage:g}=(0,C.useIntl)(),[f,b]=(0,a.useState)(!1),T=r.id?g({id:r.id,defaultMessage:r.defaultMessage},{...r.values}):s,y=t?g({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):"",$=()=>b(B=>!B),F=()=>{u({target:{name:s,value:!1}}),$()},k=({target:{checked:B}})=>{if(!B&&!l){$();return}u({target:{name:s,value:B}})};return a.createElement(a.Fragment,null,a.createElement(c.Checkbox,{checked:p,disabled:n,hint:y,name:s,onChange:k},T),a.createElement(v.ConfirmDialog,{isOpen:f,onToggleDialog:$,onConfirm:F,bodyText:{id:(0,m.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,m.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};Tt.defaultProps={description:null,disabled:!1,value:!1},Tt.propTypes={description:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}),disabled:i().bool,intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,isCreating:i().bool.isRequired,name:i().string.isRequired,onChange:i().func.isRequired,value:i().bool};const Ua=Tt,Ct=({actionType:t,attributeName:n,attributeType:r,categoryName:l,contentTypeKind:s,dynamicZoneTarget:u,forTarget:p,modalType:g,targetUid:f,customFieldUid:b})=>{const{formatMessage:T}=(0,C.useIntl)(),{modifiedData:y}=(0,ye.Z)();let $,F=[];const k=y?.[p]?.[f]||y?.[p]||null;let B=k?.schema.displayName;if(g==="contentType"&&($=s),["component","editCategory"].includes(g)&&($="component"),["component","contentType"].includes(g)){let N=(0,m.Z)(`modalForm.component.header-${t}`);return g==="contentType"&&(N=(0,m.Z)(`modalForm.${s}.header-create`)),t==="edit"&&(N=(0,m.Z)("modalForm.header-edit")),a.createElement(c.ModalHeader,null,a.createElement(c.Flex,null,a.createElement(c.Box,null,a.createElement(Ue.Z,{type:$})),a.createElement(c.Box,{paddingLeft:3},a.createElement(c.Typography,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},T({id:N},{name:B})))))}F=[{label:B,info:{category:k?.category||null,name:k?.schema.displayName}}],g==="chooseAttribute"&&($=["component","components"].includes(p)?"component":k.schema.kind),g==="addComponentToDynamicZone"&&($="dynamiczone",F.push({label:u})),(g==="attribute"||g==="customField")&&($=r,F.push({label:n})),g==="editCategory"&&(F=[{label:T({id:(0,m.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:l}]);const O=F.map(({label:N})=>N).join(",");return a.createElement(c.ModalHeader,null,a.createElement(c.Stack,{horizontal:!0,spacing:3},a.createElement(Ue.Z,{type:$,customField:b}),a.createElement(c.Breadcrumbs,{label:O},F.map((N,L)=>{const oe=Ae()(N.label);if(!oe)return null;const ie=`${N.label}.${L}`;if(N.info?.category){const ve=`${oe} (${Ae()(N.info.category)} - ${Ae()(N.info.name)})`;return a.createElement(c.Crumb,{key:ie},ve)}return a.createElement(c.Crumb,{key:ie},oe)}))))};Ct.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null},Ct.propTypes={actionType:i().string,attributeName:i().string,attributeType:i().string,categoryName:i().string,contentTypeKind:i().string,dynamicZoneTarget:i().string,forTarget:i().oneOf(["contentType","component","components"]),modalType:i().string.isRequired,targetUid:i().string,customFieldUid:i().string};const Wa=Ct,Et=({categoryName:t,deleteCategory:n,deleteComponent:r,deleteContentType:l,isAttributeModal:s,isCustomFieldModal:u,isComponentAttribute:p,isComponentToDzModal:g,isContentTypeModal:f,isCreatingComponent:b,isCreatingComponentAttribute:T,isCreatingComponentInDz:y,isCreatingComponentWhileAddingAField:$,isCreatingContentType:F,isCreatingDz:k,isComponentModal:B,isDzAttribute:te,isEditingAttribute:O,isEditingCategory:N,isInFirstComponentStep:L,onSubmitAddComponentAttribute:oe,onSubmitAddComponentToDz:ie,onSubmitCreateContentType:ve,onSubmitCreateComponent:H,onSubmitCreateDz:ge,onSubmitEditAttribute:$e,onSubmitEditCategory:ot,onSubmitEditComponent:Me,onSubmitEditContentType:Je,onSubmitEditCustomFieldAttribute:ue,onSubmitEditDz:_e,onClickFinish:be})=>{const{formatMessage:re}=(0,C.useIntl)();return g?y?a.createElement(c.Button,{variant:"secondary",type:"submit",onClick:w=>{w.preventDefault(),ie(w,!0)},startIcon:a.createElement(ce.Plus,null)},re({id:(0,m.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):a.createElement(c.Button,{variant:"default",type:"submit",onClick:w=>{w.preventDefault(),ie(w,!1)}},re({id:"global.finish",defaultMessage:"Finish"})):s&&te&&!k?a.createElement(c.Button,{variant:"default",type:"submit",onClick:w=>{w.preventDefault(),be(),_e(w,!1)}},re({id:"global.finish",defaultMessage:"Finish"})):s&&te&&k?a.createElement(a.Fragment,null,a.createElement(c.Button,{variant:"secondary",type:"submit",onClick:w=>{w.preventDefault(),ge(w,!0)},startIcon:a.createElement(ce.Plus,null)},re({id:(0,m.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):s&&p?L?a.createElement(c.Button,{variant:"secondary",type:"submit",onClick:w=>{w.preventDefault(),oe(w,!0)}},re(T?{id:(0,m.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,m.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):a.createElement(a.Fragment,null,a.createElement(c.Button,{variant:"secondary",type:"submit",onClick:w=>{w.preventDefault(),oe(w,!0)},startIcon:a.createElement(ce.Plus,null)},re($?{id:(0,m.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,m.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(c.Button,{variant:"default",type:"button",onClick:w=>{w.preventDefault(),be(),oe(w,!1)}},re({id:"global.finish",defaultMessage:"Finish"}))):s&&!p&&!te?a.createElement(a.Fragment,null,a.createElement(c.Button,{type:O?"button":"submit",variant:"secondary",onClick:w=>{w.preventDefault(),$e(w,!0)},startIcon:a.createElement(ce.Plus,null)},re({id:(0,m.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(c.Button,{type:O?"submit":"button",variant:"default",onClick:w=>{w.preventDefault(),be(),$e(w,!1)}},re({id:"global.finish",defaultMessage:"Finish"}))):f?a.createElement(a.Fragment,null,!F&&a.createElement(a.Fragment,null,a.createElement(c.Button,{type:"button",variant:"danger",onClick:w=>{w.preventDefault(),l()}},re({id:"global.delete",defaultMessage:"Delete"})),a.createElement(c.Button,{type:"submit",variant:"default",onClick:w=>{w.preventDefault(),Je(w,!1)}},re({id:"global.finish",defaultMessage:"Finish"}))),F&&a.createElement(c.Button,{type:"submit",variant:"secondary",onClick:w=>{w.preventDefault(),ve(w,!0)}},re({id:"global.continue",defaultMessage:"Continue"}))):B?a.createElement(a.Fragment,null,!b&&a.createElement(a.Fragment,null,a.createElement(c.Button,{type:"button",variant:"danger",onClick:w=>{w.preventDefault(),r()}},re({id:"global.delete",defaultMessage:"Delete"})),a.createElement(c.Button,{type:"submit",variant:"default",onClick:w=>{w.preventDefault(),Me(w,!1)}},re({id:"global.finish",defaultMessage:"Finish"}))),b&&a.createElement(c.Button,{type:"submit",variant:"secondary",onClick:w=>{w.preventDefault(),H(w,!0)}},re({id:"global.continue",defaultMessage:"Continue"}))):N?a.createElement(a.Fragment,null,a.createElement(c.Button,{type:"button",variant:"danger",onClick:w=>{w.preventDefault(),n(t)}},re({id:"global.delete",defaultMessage:"Delete"})),a.createElement(c.Button,{type:"submit",variant:"default",onClick:w=>{w.preventDefault(),ot(w)}},re({id:"global.finish",defaultMessage:"finish"}))):u?a.createElement(a.Fragment,null,a.createElement(c.Button,{type:O?"button":"submit",variant:"secondary",onClick:w=>{w.preventDefault(),ue(w,!0)},startIcon:a.createElement(ce.Plus,null)},re({id:(0,m.Z)("form.button.add-field"),defaultMessage:"Add another field"})),a.createElement(c.Button,{type:O?"submit":"button",variant:"default",onClick:w=>{w.preventDefault(),be(),ue(w,!1)}},re({id:"global.finish",defaultMessage:"Finish"}))):null};Et.defaultProps={categoryName:null,onClickFinish(){}},Et.propTypes={categoryName:i().string,deleteCategory:i().func.isRequired,deleteComponent:i().func.isRequired,deleteContentType:i().func.isRequired,isAttributeModal:i().bool.isRequired,isCustomFieldModal:i().bool.isRequired,isComponentAttribute:i().bool.isRequired,isComponentModal:i().bool.isRequired,isComponentToDzModal:i().bool.isRequired,isContentTypeModal:i().bool.isRequired,isCreatingComponent:i().bool.isRequired,isCreatingComponentAttribute:i().bool.isRequired,isCreatingComponentInDz:i().bool.isRequired,isCreatingComponentWhileAddingAField:i().bool.isRequired,isCreatingContentType:i().bool.isRequired,isCreatingDz:i().bool.isRequired,isDzAttribute:i().bool.isRequired,isEditingAttribute:i().bool.isRequired,isEditingCategory:i().bool.isRequired,isInFirstComponentStep:i().bool.isRequired,onSubmitAddComponentAttribute:i().func.isRequired,onSubmitAddComponentToDz:i().func.isRequired,onSubmitCreateContentType:i().func.isRequired,onSubmitCreateComponent:i().func.isRequired,onSubmitCreateDz:i().func.isRequired,onSubmitEditAttribute:i().func.isRequired,onSubmitEditCategory:i().func.isRequired,onSubmitEditComponent:i().func.isRequired,onSubmitEditContentType:i().func.isRequired,onSubmitEditCustomFieldAttribute:i().func.isRequired,onSubmitEditDz:i().func.isRequired,onClickFinish:i().func};const Ga=Et,Ha=({modalType:t,forTarget:n,kind:r,actionType:l,step:s})=>{switch(t){case"chooseAttribute":return(0,m.Z)(`modalForm.sub-header.chooseAttribute.${n.includes("component")?"component":r||"collectionType"}`);case"attribute":return(0,m.Z)(`modalForm.sub-header.attribute.${l}${s!=="null"&&s!==null&&l!=="edit"?".step":""}`);case"customField":return(0,m.Z)(`modalForm.sub-header.attribute.${l}`);case"addComponentToDynamicZone":return(0,m.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,m.Z)("configurations")}},xt=({actionType:t,modalType:n,forTarget:r,kind:l,step:s,attributeType:u,attributeName:p,customField:g})=>{const{formatMessage:f}=(0,C.useIntl)(),b=n==="customField"?g.intlLabel:{id:(0,m.Z)(`attribute.${u}`)};return a.createElement(c.Stack,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},a.createElement(c.Typography,{as:"h2",variant:"beta"},f({id:Ha({actionType:t,forTarget:r,kind:l,step:s,modalType:n}),defaultMessage:"Add new field"},{type:Ae()(f(b)),name:Ae()(p),step:s})),a.createElement(c.Typography,{variant:"pi",textColor:"neutral600"},f({id:(0,m.Z)(`attribute.${u}.description`),defaultMessage:"A type for modeling data"})))};xt.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},xt.propTypes={actionType:i().string,modalType:i().string,forTarget:i().string,kind:i().string,step:i().string,attributeType:i().string,attributeName:i().string,customField:i().object};const Va=xt,Mt=({intlLabel:t,name:n,options:r,onChange:l,value:s})=>{const{formatMessage:u}=(0,C.useIntl)(),p=t.id?u({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):n,g=f=>{let b="";f==="true"&&(b=!0),f==="false"&&(b=!1),l({target:{name:n,value:b,type:"select-default-boolean"}})};return a.createElement(c.Select,{label:p,id:n,name:n,onChange:g,value:(s===null?"":s).toString()},r.map(({metadatas:{intlLabel:f,disabled:b,hidden:T},key:y,value:$})=>a.createElement(c.Option,{key:y,value:$,disabled:b,hidden:T},f.defaultMessage)))};Mt.defaultProps={value:null},Mt.propTypes={intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,name:i().string.isRequired,onChange:i().func.isRequired,options:i().arrayOf(i().shape({metadatas:i().shape({intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired}).isRequired,disabled:i().bool,hidden:i().bool}).isRequired,key:i().oneOfType([i().string,i().number]).isRequired,value:i().oneOfType([i().string,i().number]).isRequired}).isRequired).isRequired,value:i().any};const Ka=Mt,Ya=(0,X.default)(c.Stack)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,c.inputFocusStyle)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:t})=>t.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:t})=>t.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:t})=>t.colors.neutral0};
      width: ${({theme:t})=>t.spaces[5]};
      height: ${({theme:t})=>t.spaces[5]};
      border: solid 1px ${({theme:t})=>t.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:t})=>t.spaces[3]};
        height: ${({theme:t})=>t.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:t})=>t.colors.primary100};
    ${c.Typography} {
      color: ${({theme:t})=>t.colors.primary600};
    }
    border: 1px solid ${({theme:t})=>t.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:t})=>t.colors.primary600};
      &::after {
        background: ${({theme:t})=>t.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,Rt=({intlLabel:t,name:n,onChange:r,radios:l,value:s})=>{const{formatMessage:u}=(0,C.useIntl)();return a.createElement(c.Stack,{spacing:2},a.createElement(c.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:n,as:"label"},u(t)),a.createElement(Ya,{horizontal:!0,spacing:4,style:{alignItems:"stretch"}},l.map(p=>a.createElement("label",{htmlFor:p.value.toString(),key:p.value,className:"container"},a.createElement("input",{id:p.value.toString(),name:n,className:"option-input",checked:p.value===s,value:p.value,key:p.value,onChange:r,type:"radio"}),a.createElement(c.Box,{className:"option",padding:4},a.createElement(c.Flex,null,a.createElement(c.Box,{paddingRight:4},a.createElement("span",{className:"checkmark"})),a.createElement(c.Stack,{spacing:2},a.createElement(c.Typography,{fontWeight:"bold"},u(p.title)),a.createElement(c.Typography,{variant:"pi",textColor:"neutral600"},u(p.description)))))))))};Rt.defaultProps={radios:[]},Rt.propTypes={intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,name:i().string.isRequired,onChange:i().func.isRequired,radios:i().arrayOf(i().shape({title:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired}),description:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired}),value:i().any.isRequired})),value:i().oneOfType([i().string,i().bool]).isRequired};const St=Rt,Sn=({onChange:t,name:n,...r})=>{const l=s=>{const u=s.target.value!=="false";t({target:{name:n,value:u,type:"boolean-radio-group"}})};return a.createElement(St,{...r,name:n,onChange:l})};Sn.propTypes={name:i().string.isRequired,onChange:i().func.isRequired};const Xa=Sn,At=({error:t,intlLabel:n,modifiedData:r,name:l,onChange:s,value:u})=>{const{formatMessage:p}=(0,C.useIntl)(),[g,f]=(0,a.useState)(!!u||u===0),b=n.id?p({id:n.id,defaultMessage:n.defaultMessage},{...n.values}):l,T=r.type==="biginteger"?"text":"number",y=!r.type,$=t?p({id:t,defaultMessage:t}):"";return a.createElement(c.Stack,{spacing:2},a.createElement(c.Checkbox,{id:l,name:l,onValueChange:F=>{s({target:{name:l,value:F?T==="text"?"0":0:null}}),f(te=>!te)},value:g},b),g&&a.createElement(c.Box,{paddingLeft:6,style:{maxWidth:"200px"}},T==="text"?a.createElement(c.TextInput,{"aria-label":b,disabled:y,error:$,id:l,name:l,onChange:s,value:u===null?"":u}):a.createElement(c.NumberInput,{"aria-label":b,disabled:y,error:$,id:l,name:l,onValueChange:F=>{s({target:{name:l,value:F,type:T}})},value:u||0})))};At.defaultProps={error:null,value:null},At.propTypes={error:i().string,intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,modifiedData:i().object.isRequired,name:i().string.isRequired,onChange:i().func.isRequired,value:i().oneOfType([i().string,i().object,i().bool,i().number])};const Qa=At,An=({onChange:t,...n})=>{const r=(0,v.useNotification)(),l=s=>{r({type:"info",message:{id:(0,m.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),t(s)};return a.createElement(St,{...n,onChange:l})};An.propTypes={onChange:i().func.isRequired};const Ja=An;var $t=d(1734),me=d(59015);const Ft=({oneThatIsCreatingARelationWithAnother:t,target:n})=>{const{contentTypes:r,sortedContentTypesList:l}=(0,ye.Z)(),s=(0,q.useDispatch)(),u=l.filter(ut),p=R()(r,[n,"plugin"],null),g=R()(r,[n,"schema","displayName"],"error");return a.createElement(c.SimpleMenu,{id:"label",label:`${g}
    ${p?`(from: ${p})`:""}`},u.map(({uid:f,title:b,restrictRelationsTo:T,plugin:y})=>{const $=()=>{const F=y?`${y}_${b}`:b;s({type:me.aG,target:{value:f,oneThatIsCreatingARelationWithAnother:t,selectedContentTypeFriendlyName:F,targetContentTypeAllowedRelations:T}})};return a.createElement(c.MenuItem,{key:f,onClick:$},b,"\xA0",y&&a.createElement(a.Fragment,null,"(from: ",y,")"))}))};Ft.defaultProps={target:null},Ft.propTypes={oneThatIsCreatingARelationWithAnother:i().string.isRequired,target:i().string};const _a=Ft,Zt=({disabled:t,error:n,header:r,isMain:l,name:s,onChange:u,oneThatIsCreatingARelationWithAnother:p,target:g,value:f})=>a.createElement(c.Box,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},a.createElement(c.Flex,{paddingTop:l?4:1,paddingBottom:l?3:1,justifyContent:"center"},l?a.createElement(c.Typography,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},r):a.createElement(_a,{target:g,oneThatIsCreatingARelationWithAnother:p})),a.createElement(c.Divider,{background:"neutral200"}),a.createElement(c.Box,{padding:4},a.createElement(v.GenericInput,{disabled:t,error:n?.id||null,intlLabel:{id:(0,m.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:s,onChange:u,type:"text",value:f})));Zt.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},Zt.propTypes={disabled:i().bool,error:i().object,header:i().string,isMain:i().bool,name:i().string.isRequired,onChange:i().func,oneThatIsCreatingARelationWithAnother:i().string,target:i().string,value:i().string};const $n=Zt;var er=d(39138),Fn=d.n(er),tr=d(23450),Nt=d.n(tr);const nr=(0,X.default)(c.Box)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:t})=>t.colors.primary600};
    z-index: 0;
  }
`,ar=(0,X.default)(c.Box)`
  background: ${({theme:t,isSelected:n})=>t.colors[n?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:t,isSelected:n})=>t.colors[n?"primary700":"neutral200"]};
  border-radius: ${({theme:t})=>t.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:t,isSelected:n})=>t.colors[n?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,rr=(0,X.default)(c.Flex)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,or={oneWay:ce.OneWay,oneToOne:ce.OneToOne,oneToMany:ce.OneToMany,manyToOne:ce.ManyToOne,manyToMany:ce.ManyToMany,manyWay:ce.ManyWays},Lt=({naturePickerType:t,oneThatIsCreatingARelationWithAnother:n,relationType:r,target:l})=>{const s=(0,q.useDispatch)(),{formatMessage:u}=(0,C.useIntl)(),{contentTypes:p,modifiedData:g}=(0,ye.Z)(),f=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],b=["oneWay","manyWay"],y=(t==="contentType"?R()(g,[t,"schema","kind"],""):t)==="collectionType"?f:b,$=r==="manyToOne",F=R()(p,[l,"schema","displayName"],"unknown"),k=$?F:n,B=$?n:F,te=Nt()(k,r==="manyToMany"?2:1),O=R()(p,[l,"schema","restrictRelationsTo"],null),N=Nt()(B,["manyToMany","oneToMany","manyToOne","manyWay"].includes(r)?2:1);return r?a.createElement(c.Flex,{style:{flex:1}},a.createElement(nr,null,a.createElement(c.Flex,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},a.createElement(c.KeyboardNavigable,{tagName:"button"},a.createElement(c.Stack,{spacing:3,horizontal:!0},y.map(L=>{const oe=or[L],ie=O===null||O.includes(L);return a.createElement(ar,{as:"button",isSelected:r===L,disabled:!ie,key:L,onClick:()=>{ie&&s({type:me.QQ,target:{oneThatIsCreatingARelationWithAnother:n,targetContentType:l,value:L}})},padding:2,type:"button"},a.createElement(oe,{key:L}))}))))),a.createElement(rr,{justifyContent:"center"},a.createElement(c.Typography,null,Fn()(te,{length:24}),"\xA0"),a.createElement(c.Typography,{textColor:"primary600"},u({id:(0,m.Z)(`relation.${r}`)}),"\xA0"),a.createElement(c.Typography,null,Fn()(N,{length:24})))):null};Lt.defaultProps={relationType:null,target:null},Lt.propTypes={naturePickerType:i().string.isRequired,oneThatIsCreatingARelationWithAnother:i().string.isRequired,relationType:i().string,target:i().string};const ir=Lt,Zn=({formErrors:t,mainBoxHeader:n,modifiedData:r,naturePickerType:l,onChange:s})=>{const u=(0,$t.Z)(r.relation,r.targetAttribute);return a.createElement(c.Flex,{style:{position:"relative"}},a.createElement($n,{isMain:!0,header:n,error:t?.name||null,name:"name",onChange:s,value:r?.name||""}),a.createElement(ir,{naturePickerType:l,oneThatIsCreatingARelationWithAnother:n,relationType:u,target:r.target}),a.createElement($n,{disabled:["oneWay","manyWay"].includes(u),error:t?.targetAttribute||null,name:"targetAttribute",onChange:s,oneThatIsCreatingARelationWithAnother:n,target:r.target,value:r?.targetAttribute||""}))};Zn.propTypes={formErrors:i().object.isRequired,mainBoxHeader:i().string.isRequired,modifiedData:i().object.isRequired,naturePickerType:i().string.isRequired,onChange:i().func.isRequired};const sr=Zn;var Nn=d(97406);const qt=({description:t,error:n,intlLabel:r,modifiedData:l,name:s,onChange:u,value:p})=>{const{formatMessage:g}=(0,C.useIntl)(),f=(0,a.useRef)(u),b=l?.displayName||"";(0,a.useEffect)(()=>{if(b){const F=(0,Nn.Z)(b);try{const k=Nt()(F,2);f.current({target:{name:s,value:k}})}catch{f.current({target:{name:s,value:F}})}}else f.current({target:{name:s,value:""}})},[b,s]);const T=n?g({id:n,defaultMessage:n}):"",y=t?g({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):"",$=g(r);return a.createElement(c.TextInput,{error:T,label:$,id:s,hint:y,name:s,onChange:u,value:p||""})};qt.defaultProps={description:null,error:null,value:null},qt.propTypes={description:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}),error:i().string,intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,modifiedData:i().object.isRequired,name:i().string.isRequired,onChange:i().func.isRequired,value:i().string};const lr=qt,Ot=({error:t,intlLabel:n,name:r,onChange:l,value:s})=>{const{formatMessage:u}=(0,C.useIntl)(),{allComponentsCategories:p}=(0,ye.Z)(),[g,f]=(0,a.useState)(p),b=t?u({id:t,defaultMessage:t}):"",T=u(n),y=F=>{l({target:{name:r,value:F,type:"select-category"}})},$=F=>{f(k=>[...k,F]),y(F)};return a.createElement(c.CreatableCombobox,{error:b,id:r,label:T,name:r,onChange:y,onCreateOption:$,value:s},g.map(F=>a.createElement(c.ComboboxOption,{key:F,value:F},F)))};Ot.defaultProps={error:null,value:null},Ot.propTypes={error:i().string,intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,name:i().string.isRequired,onChange:i().func.isRequired,value:i().string};const ur=Ot,kt=({error:t,intlLabel:n,isAddingAComponentToAnotherComponent:r,isCreating:l,isCreatingComponentWhileAddingAField:s,componentToCreate:u,name:p,onChange:g,targetUid:f,forTarget:b,value:T})=>{const{formatMessage:y}=(0,C.useIntl)(),$=t?y({id:t,defaultMessage:t}):"",F=y(n),{componentsGroupedByCategory:k,componentsThatHaveOtherComponentInTheirAttributes:B}=(0,ye.Z)(),te=["component","components"].includes(b);let O=Object.entries(k).reduce((N,L)=>{const[oe,ie]=L,ve=ie.map(H=>({uid:H.uid,label:H.schema.displayName,categoryName:oe}));return[...N,...ve]},[]);return r&&(O=O.filter(N=>!B.includes(N.uid))),te&&(O=O.filter(N=>N.uid!==f)),s&&(O=[{uid:T,label:u.displayName,categoryName:u.category}]),a.createElement(c.Select,{disabled:s||!l,error:$,label:F,id:p,name:p,onChange:N=>{g({target:{name:p,value:N,type:"select-category"}})},value:T||""},O.map(N=>a.createElement(c.Option,{key:N.uid,value:N.uid},`${N.categoryName} - ${N.label}`)))};kt.defaultProps={componentToCreate:null,error:null},kt.propTypes={componentToCreate:i().object,forTarget:i().string.isRequired,error:i().string,intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,isAddingAComponentToAnotherComponent:i().bool.isRequired,isCreating:i().bool.isRequired,isCreatingComponentWhileAddingAField:i().bool.isRequired,name:i().string.isRequired,onChange:i().func.isRequired,targetUid:i().string.isRequired,value:i().string.isRequired};const dr=kt,wt=(t,n)=>t.find(({name:r})=>r===n),Ln=({dynamicZoneTarget:t,intlLabel:n,name:r,onChange:l,value:s})=>{const{formatMessage:u}=(0,C.useIntl)(),{componentsGroupedByCategory:p,modifiedData:g}=(0,ye.Z)(),b=(wt(g.contentType.schema.attributes,t)||{}).components||[],T=Object.keys(p).reduce((F,k)=>{const B=p[k].filter(({uid:te})=>!b.includes(te));return B.length>0&&(F[k]=B),F},{}),y=Object.entries(T).reduce((F,k)=>{const[B,te]=k,O={label:B,children:te.map(({uid:N,schema:{displayName:L}})=>({label:L,value:N}))};return F.push(O),F},[]),$=u({id:(0,m.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:s.length});return a.createElement(c.MultiSelectNested,{id:"select1",label:u(n),customizeContent:()=>$,name:r,onChange:F=>{l({target:{name:r,value:F,type:"select-components"}})},options:y,value:s||[]})};Ln.propTypes={intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,dynamicZoneTarget:i().string.isRequired,name:i().string.isRequired,onChange:i().func.isRequired,value:i().array.isRequired};const cr=Ln,Pt=({intlLabel:t,error:n,modifiedData:r,name:l,onChange:s,options:u,value:p})=>{const{formatMessage:g}=(0,C.useIntl)(),f=g(t),b=n?g({id:n,defaultMessage:n}):"",T=y=>{s({target:{name:l,value:y,type:"select"}}),p&&r.default!==void 0&&r.default!==null&&s({target:{name:"default",value:null}})};return a.createElement(c.Select,{error:b,label:f,id:l,name:l,onChange:T,value:p||""},u.map(({metadatas:{intlLabel:y,disabled:$,hidden:F},key:k,value:B})=>a.createElement(c.Option,{key:k,value:B,disabled:$,hidden:F},g({id:y.id,defaultMessage:y.defaultMessage},y.values))))};Pt.defaultProps={error:void 0,value:""},Pt.propTypes={error:i().string,intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,modifiedData:i().object.isRequired,name:i().string.isRequired,onChange:i().func.isRequired,options:i().arrayOf(i().shape({metadatas:i().shape({intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired}).isRequired,disabled:i().bool,hidden:i().bool}).isRequired,key:i().oneOfType([i().string,i().number]).isRequired,value:i().oneOfType([i().string,i().number]).isRequired}).isRequired).isRequired,value:i().string};const mr=Pt,It=({intlLabel:t,error:n,modifiedData:r,name:l,onChange:s,options:u,value:p})=>{const{formatMessage:g}=(0,C.useIntl)(),f=g(t),b=n?g({id:n,defaultMessage:n}):"",T=y=>{s({target:{name:l,value:y,type:"select"}}),p&&(y==="biginteger"&&p!=="biginteger"&&(r.default!==void 0&&r.default!==null&&s({target:{name:"default",value:null}}),r.max!==void 0&&r.max!==null&&s({target:{name:"max",value:null}}),r.min!==void 0&&r.min!==null&&s({target:{name:"min",value:null}})),["decimal","float","integer"].includes(y)&&p==="biginteger"&&(r.default!==void 0&&r.default!==null&&s({target:{name:"default",value:null}}),r.max!==void 0&&r.max!==null&&s({target:{name:"max",value:null}}),r.min!==void 0&&r.min!==null&&s({target:{name:"min",value:null}})))};return a.createElement(c.Select,{error:b,label:f,id:l,name:l,onChange:T,value:p||""},u.map(({metadatas:{intlLabel:y,disabled:$,hidden:F},key:k,value:B})=>a.createElement(c.Option,{key:k,value:B,disabled:$,hidden:F},g(y))))};It.defaultProps={error:void 0,value:""},It.propTypes={error:i().string,intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,modifiedData:i().object.isRequired,name:i().string.isRequired,onChange:i().func.isRequired,options:i().arrayOf(i().shape({metadatas:i().shape({intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired}).isRequired,disabled:i().bool,hidden:i().bool}).isRequired,key:i().oneOfType([i().string,i().number]).isRequired,value:i().oneOfType([i().string,i().number]).isRequired}).isRequired).isRequired,value:i().string};const pr=It,Dt=({description:t,error:n,intlLabel:r,modifiedData:l,name:s,onChange:u,value:p})=>{const{formatMessage:g}=(0,C.useIntl)(),f=(0,a.useRef)(u),b=l?.displayName||"";(0,a.useEffect)(()=>{b?f.current({target:{name:s,value:(0,Nn.Z)(b)}}):f.current({target:{name:s,value:""}})},[b,s]);const T=n?g({id:n,defaultMessage:n}):"",y=t?g({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):"",$=g(r);return a.createElement(c.TextInput,{error:T,label:$,id:s,hint:y,name:s,onChange:u,value:p||""})};Dt.defaultProps={description:null,error:null,value:null},Dt.propTypes={description:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}),error:i().string,intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,modifiedData:i().object.isRequired,name:i().string.isRequired,onChange:i().func.isRequired,value:i().string};const gr=Dt,qn=({form:t,formErrors:n,genericInputProps:r,modifiedData:l,onChange:s})=>{const{formatMessage:u}=(0,C.useIntl)();return t.map((p,g)=>p.items.length===0?null:a.createElement(c.Box,{key:g},p.sectionTitle&&a.createElement(c.Box,{paddingBottom:4},a.createElement(c.Typography,{variant:"delta",as:"h3"},u(p.sectionTitle))),a.createElement(c.Grid,{gap:4},p.items.map((f,b)=>{const T=`${g}.${b}`,y=R()(l,f.name,""),$=Object.keys(n).find(k=>k===f.name),F=$?n[$].id:R()(n,[...f.name.split(".").filter(k=>k!=="componentToCreate"),"id"],null);return f.type==="pushRight"?a.createElement(c.GridItem,{col:f.size||6,key:f.name||T},a.createElement("div",null)):a.createElement(c.GridItem,{col:f.size||6,key:f.name||T},a.createElement(v.GenericInput,{...f,...r,error:F,onChange:s,value:y}))}))))};qn.propTypes={form:i().arrayOf(i().object).isRequired,formErrors:i().object.isRequired,genericInputProps:i().object.isRequired,modifiedData:i().object.isRequired,onChange:i().func.isRequired};const On=qn,Bt=({description:t,disabled:n,error:r,intlLabel:l,labelAction:s,name:u,onChange:p,placeholder:g,value:f})=>{const{formatMessage:b}=(0,C.useIntl)(),T=r?b({id:r,defaultMessage:r}):"",y=t?b({id:t.id,defaultMessage:t.defaultMessage},{...t.values}):"",$=b(l),F=g?b({id:g.id,defaultMessage:g.defaultMessage},{...g.values}):"",k=Array.isArray(f)?f.join(`
`):"",B=te=>{const O=te.target.value.split(`
`);p({target:{name:u,value:O}})};return a.createElement(c.Textarea,{disabled:n,error:T,label:$,labelAction:s,id:u,hint:y,name:u,onChange:B,placeholder:F,value:k},k)};Bt.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Bt.propTypes={description:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}),disabled:i().bool,error:i().string,intlLabel:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}).isRequired,labelAction:i().element,name:i().string.isRequired,onChange:i().func.isRequired,placeholder:i().shape({id:i().string.isRequired,defaultMessage:i().string.isRequired,values:i().object}),value:i().oneOfType([i().array,i().string])};const fr=Bt,hr=(t,n)=>{const r=R()(t,["contentType","schema","kind"],"");return r==="singleType"||r===n.kind?!0:R()(t,["contentType","schema","attributes"],[]).filter(({relation:u,type:p,targetAttribute:g})=>{const f=(0,$t.Z)(u,g);return p==="relation"&&!["oneWay","manyWay"].includes(f)}).length===0},br=(t="",n,r)=>{const l=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],s=t==="contentType",u=r.includes(n),p=!s&&!u;return s?[[...l,"uid"],["component","dynamiczone"]]:p?[l,["component"]]:[l]},kn=t=>t.reduce((n,r)=>{const l=r.items.reduce((s,u)=>(u.name&&s.push(u.name),s),[]);return[...n,...l]},[]);var Z=d(53209),Ke=d(97392);const yr={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,m.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}},wn=/^[A-Za-z][-_0-9A-Za-z]*$/,vr=t=>{const n={name:Z.Z_().matches(wn,v.translatedErrors.regex).test({name:"nameNotAllowed",message:v.translatedErrors.unique,test(r){return r?!t.includes((0,E.toLower)(r)):!1}}).required(v.translatedErrors.required)};return Z.Ry(n)},Tr=(t,n,r)=>{const l={displayName:Z.Z_().test({name:"nameAlreadyUsed",message:v.translatedErrors.unique,test(s){if(!s)return!1;const u=(0,Ke.N)(s,r);return!t.includes(u)}}).test({name:"nameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(s){return s?!n.includes((0,E.toLower)((0,E.trim)(s))):!1}}).required(v.translatedErrors.required),category:Z.Z_().matches(wn,v.translatedErrors.regex).required(v.translatedErrors.required),icon:Z.Z_()};return Z.Ry(l)},jt={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,m.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,m.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,m.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,m.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]},Ye={base(t=""){return[{sectionTitle:null,items:[{name:`${t}displayName`,type:"text",intlLabel:{id:(0,m.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${t}category`,type:"select-category",intlLabel:{id:(0,m.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]}]},advanced(){return[]}},I={default:{name:"default",type:"text",intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,m.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,m.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,m.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,m.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,m.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,m.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,m.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,m.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,m.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Cr={boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},component({repeatable:t},n){return n==="1"?{sections:Ye.advanced("componentToCreate")}:t?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private,I.max,I.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},date({type:t}){return{sections:[{sectionTitle:null,items:[{...I.default,type:t||"date",value:null,withDefaultValue:!1,disabled:!t,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.max,I.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...I.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.maxLength,I.minLength,I.private]}]}},enumeration(t){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(t.enum||[]).filter((n,r)=>t.enum.indexOf(n)===r&&n).map(n=>({key:n,value:n,metadatas:{intlLabel:{id:`${n}.no-override`,defaultMessage:n}}}))]},{intlLabel:{id:(0,m.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,m.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,m.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.private]}]}},number(t){const n=t.type==="decimal"||t.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:t.type==="biginteger"?"text":"number",step:n,intlLabel:{id:(0,m.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.max,I.min,I.private]}]}},password(){return{sections:[{sectionTitle:null,items:[I.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.maxLength,I.minLength,I.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[I.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.maxLength,I.minLength,I.private]}]}},text(){return{sections:[{sectionTitle:null,items:[I.default,I.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.unique,I.maxLength,I.minLength,I.private]}]}},uid(t){return{sections:[{sectionTitle:null,items:[{...I.default,disabled:Boolean(t.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[I.required,I.maxLength,I.minLength,I.private]}]}}},Pe={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,m.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},Pn={advanced:Cr,base:{component(t,n){if(n==="1"){const r=t.createComponent===!0?Ye.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[jt]},...r]}}return{sections:[{sectionTitle:null,items:[Pe,{name:"component",type:"select-component",intlLabel:{id:(0,m.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,m.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,m.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,m.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,m.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[Pe,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[Pe]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,m.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,m.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[Pe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,m.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,m.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,m.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,m.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[Pe,{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,m.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[Pe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,m.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,m.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,m.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,m.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[Pe]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,m.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,m.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,m.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,m.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(t,n,r){const l=r.filter(({type:s})=>["string","text"].includes(s)).map(({name:s})=>({key:s,value:s,metadatas:{intlLabel:{id:`${s}.no-override`,defaultMessage:s}}}));return{sections:[{sectionTitle:null,items:[{...Pe,placeholder:{id:(0,m.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. Slug, SEO URL, Canonical URL"}},{intlLabel:{id:(0,m.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...l]}]}]}}}},Er={sections:[{sectionTitle:null,items:[Pe]}]};var xr=d(44908),Mr=d.n(xr),Rr=d(46831),Sr=d.n(Rr);const zt=t=>Sr()(t,{decamelize:!1,lowercase:!1,separator:"_"}),In=/^[A-Za-z][_0-9A-Za-z]*$/,Dn=t=>({name:"attributeNameAlreadyUsed",message:v.translatedErrors.unique,test(n){return n?!t.includes(n):!1}}),zi=(t,n,r)=>{const l=get(t,["schema","attributes"],{});return Object.keys(l).filter(s=>n?s!==r:!0)},Ut=t=>({name:"forbiddenAttributeName",message:(0,m.Z)("error.attributeName.reserved-name"),test(n){return n?!t.includes(n):!1}}),x={default:()=>Z.Z_().nullable(),max:()=>Z.Rx().integer().nullable(),min:()=>Z.Rx().integer().when("max",(t,n)=>t?n.max(t,(0,m.Z)("error.validation.minSupMax")):n).nullable(),maxLength:()=>Z.Rx().integer().positive((0,m.Z)("error.validation.positive")).nullable(),minLength:()=>Z.Rx().integer().min(0).when("maxLength",(t,n)=>t?n.max(t,(0,m.Z)("error.validation.minSupMax")):n).nullable(),name(t,n){return Z.Z_().test(Dn(t)).test(Ut(n)).matches(In,v.translatedErrors.regex).required(v.translatedErrors.required)},required:()=>Z.O7(),type:()=>Z.Z_().required(v.translatedErrors.required),unique:()=>Z.O7().nullable()},Wt=(t,n)=>({name:x.name(t,n),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength(),regex:Z.Z_().test({name:"isValidRegExpPattern",message:(0,m.Z)("error.validation.regex"),test(l){return new RegExp(l)!==null}}).nullable()}),Gt={name:"isMinSuperiorThanMax",message:(0,m.Z)("error.validation.minSupMax"),test(t){if(!t)return!0;const{max:n}=this.parent;return!n||Number.isNaN((0,E.toNumber)(t))?!0:(0,E.toNumber)(n)>=(0,E.toNumber)(t)}},Ht={date(t,n){const r={name:x.name(t,n),type:x.type()};return Z.Ry(r)},datetime(t,n){const r={name:x.name(t,n),type:x.type()};return Z.Ry(r)},time(t,n){const r={name:x.name(t,n),type:x.type()};return Z.Ry(r)},default(t,n){const r={name:x.name(t,n),type:x.type()};return Z.Ry(r)},biginteger(t,n){const r={name:x.name(t,n),type:x.type(),default:Z.Z_().nullable().matches(/^-?\d*$/),unique:x.unique(),required:x.required(),max:Z.Z_().nullable().matches(/^-?\d*$/,v.translatedErrors.regex),min:Z.Z_().nullable().test(Gt).matches(/^-?\d*$/,v.translatedErrors.regex)};return Z.Ry(r)},boolean(t,n){const r={name:x.name(t,n),default:Z.O7().nullable(),required:x.required(),unique:x.unique()};return Z.Ry(r)},component(t,n){const r={name:x.name(t,n),type:x.type(),required:x.required(),max:x.max(),min:x.min(),component:Z.Z_().required(v.translatedErrors.required)};return Z.Ry(r)},decimal(t,n){const r={name:x.name(t,n),type:x.type(),default:Z.Rx(),required:x.required(),max:Z.Rx(),min:Z.Rx().test(Gt)};return Z.Ry(r)},dynamiczone(t,n){const r={name:x.name(t,n),type:x.type(),required:x.required(),max:x.max(),min:x.min()};return Z.Ry(r)},email(t,n){const r={name:x.name(t,n),type:x.type(),default:Z.Z_().email().nullable(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength()};return Z.Ry(r)},enumeration(t,n){const r=/^[_A-Za-z][_0-9A-Za-z]*$/,l={name:Z.Z_().test(Dn(t)).test(Ut(n)).matches(r,v.translatedErrors.regex).required(v.translatedErrors.required),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),enum:Z.IX().of(Z.Z_()).min(1,v.translatedErrors.min).test({name:"areEnumValuesUnique",message:(0,m.Z)("error.validation.enum-duplicate"),test(s){return!Mr()(s.map(zt).filter((p,g,f)=>f.indexOf(p)!==g)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,m.Z)("error.validation.enum-empty-string"),test:s=>!s.map(zt).some(u=>u==="")}).test({name:"doesMatchRegex",message:(0,m.Z)("error.validation.enum-regex"),test:s=>s.map(zt).every(u=>r.test(u))}),enumName:Z.Z_().nullable()};return Z.Ry(l)},float(t,n){const r={name:x.name(t,n),type:x.type(),required:x.required(),default:Z.Rx(),max:Z.Rx(),min:Z.Rx().test(Gt)};return Z.Ry(r)},integer(t,n){const r={name:x.name(t,n),type:x.type(),default:Z.Rx().integer(),unique:x.unique(),required:x.required(),max:x.max(),min:x.min()};return Z.Ry(r)},json(t,n){const r={name:x.name(t,n),type:x.type(),required:x.required(),unique:x.unique()};return Z.Ry(r)},media(t,n){const r={name:x.name(t,n),type:x.type(),multiple:Z.O7(),required:x.required(),allowedTypes:Z.IX().of(Z.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return Z.Ry(r)},password(t,n){const r={name:x.name(t,n),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength()};return Z.Ry(r)},relation(t,n,r,{initialData:l,modifiedData:s}){const u={name:x.name(t,n),target:Z.Z_().required(v.translatedErrors.required),relation:Z.Z_().required(),type:Z.Z_().required(),targetAttribute:Z.Vo(()=>{const p=(0,$t.Z)(s.relation,s.targetAttribute);if(p==="oneWay"||p==="manyWay")return Z.Z_().nullable();let g=Z.Z_().test(Ut(n)),b=[...r.map(({name:T})=>T),s.name].filter(T=>T!==l.targetAttribute);return g.matches(In,v.translatedErrors.regex).test({name:"forbiddenTargetAttributeName",message:(0,m.Z)("error.validation.relation.targetAttribute-taken"),test(T){return T?!b.includes(T):!1}}).required(v.translatedErrors.required)})};return Z.Ry(u)},richtext(t,n){const r={name:x.name(t,n),type:x.type(),default:x.default(),unique:x.unique(),required:x.required(),maxLength:x.maxLength(),minLength:x.minLength()};return Z.Ry(r)},string(t,n){const r=Wt(t,n);return Z.Ry(r)},text(t,n){const r=Wt(t,n);return Z.Ry(r)},uid(t,n){const r=Wt(t,n);return Z.Ry(r)}},Bn={name:"displayName",type:"text",intlLabel:{id:(0,m.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},Vt={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,m.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,m.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Bn,{description:{id:(0,m.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,m.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,m.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,m.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Bn,{disabled:!0,description:{id:(0,m.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,m.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,m.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,m.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,m.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,m.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,m.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,m.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},Ar=({usedContentTypeNames:t=[],reservedModels:n=[],singularNames:r=[],pluralNames:l=[]})=>{const s={displayName:Z.Z_().test({name:"nameAlreadyUsed",message:v.translatedErrors.unique,test(u){if(!u)return!1;const p=(0,Ke.E)(u);return!t.includes(p)}}).test({name:"nameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(u){return u?!n.includes((0,E.toLower)((0,E.trim)(u))):!1}}).required(v.translatedErrors.required),pluralName:Z.Z_().test({name:"pluralNameAlreadyUsed",message:v.translatedErrors.unique,test(u){return u?!l.includes(u):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,m.Z)("error.contentType.pluralName-used"),test(u,p){return u?p.parent.singularName!==u:!1}}).test({name:"pluralNameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(u){return u?!n.includes((0,E.toLower)((0,E.trim)(u))):!1}}).required(v.translatedErrors.required),singularName:Z.Z_().test({name:"singularNameAlreadyUsed",message:v.translatedErrors.unique,test(u){return u?!r.includes(u):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,m.Z)("error.contentType.singularName-used"),test(u,p){return u?p.parent.pluralName!==u:!1}}).test({name:"singularNameNotAllowed",message:(0,m.Z)("error.contentTypeName.reserved-name"),test(u){return u?!n.includes((0,E.toLower)((0,E.trim)(u))):!1}}).required(v.translatedErrors.required),draftAndPublish:Z.O7(),kind:Z.Z_().oneOf(["singleType","collectionType"])};return Z.Ry(s)},Kt={advanced:{default(){return{sections:Ye.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[jt]},...Ye.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[jt]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,m.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},jn=(t,n)=>{t.forEach(r=>{if(!("sectionTitle"in r)){n[0].items.push(r);return}n.push(r)})},zn=(t,n)=>t.filter(({name:r})=>r!==n.initialData.name).map(({name:r})=>r),We={customField:{schema({schemaAttributes:t,attributeType:n,customFieldValidator:r,reservedNames:l,schemaData:s,ctbFormsAPI:u}){const p=zn(t,s),g=Ht[n](p,l.attributes);return u.makeCustomFieldValidator(g,r,p,l.attributes,s)},form:{base({customField:t}){const n=[{sectionTitle:null,items:[Pe]}];return t.options?.base&&jn(t.options.base,n),{sections:n}},advanced({customField:t,data:n,step:r,extensions:l,...s}){const u=[{sectionTitle:null,items:[]}],p=l.getAdvancedForm(["attribute",t.type],{data:n,type:t.type,step:r,...s});if(t.options?.advanced&&jn(t.options.advanced,u),p){const g={sectionTitle:{id:(0,m.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:p};u.push(g)}return{sections:u}}}},attribute:{schema(t,n,r,l,s,u){const p=R()(t,["schema","attributes"],[]),g=zn(p,s);try{let f=Ht[n](g,r.attributes,l,s);return u.makeValidator(["attribute",n],f,g,r.attributes,l,s)}catch(f){return console.error("Error yup build schema",f),Ht.default(g,r.attributes)}},form:{advanced({data:t,type:n,step:r,extensions:l,...s}){try{const u=Pn.advanced[n](t,r).sections,p=l.getAdvancedForm(["attribute",n],{data:t,type:n,step:r,...s});return{sections:u.reduce((f,b)=>(b.sectionTitle===null?f.push(b):f.push({...b,items:[...b.items,...p]}),f),[])}}catch(u){return console.error(u),{sections:[]}}},base({data:t,type:n,step:r,attributes:l}){try{return Pn.base[n](t,r,l)}catch{return Er}}}},contentType:{schema(t,n,r,l,s,u){const p=Object.values(u).map($=>$.schema.singularName),g=Object.values(u).map($=>R()($,["schema","pluralName"],"")),f=n?t.filter($=>$!==r):t,b=n?p.filter($=>R()(u,[r,"schema","singularName"],"")!==$):p,T=n?g.filter($=>R()(u,[r,"schema","pluralName"],"")!==$):g,y=Ar({usedContentTypeNames:f,reservedModels:l.models,singularNames:b,pluralNames:T});return s.makeValidator(["contentType"],y,f,l.models,b,T)},form:{base({actionType:t}){return t==="create"?Vt.base.create():Vt.base.edit()},advanced({extensions:t}){const n=Vt.advanced.default().sections.map(l=>l.items).flat(),r=t.getAdvancedForm(["contentType"]);return{sections:[{items:[...n,...r]}]}}}},component:{schema(t,n,r,l=!1,s=null){const u=l?t.filter(p=>p!==s):t;return Tr(u,r.models,n)},form:{advanced(){return{sections:Ye.advanced()}},base(){return{sections:Ye.base()}}}},addComponentToDynamicZone:{form:{advanced(){return Kt.advanced.default()},base({data:t}){return R()(t,"createComponent",!1)?Kt.base.createComponent():Kt.base.default()}}},editCategory:{schema(t,n){const r=t.filter(l=>l!==n.name).map(l=>Se()(l));return vr(r)},form:{advanced:()=>({sections:[]}),base(){return yr.base}}}};var Un=d(20573),$r=d(88372);const Fr=()=>t=>t[`${G.Z}_formModal`]||$r.E,Zr=()=>(0,Un.P1)(Fr(),t=>t),Nr=()=>{const{onCloseModal:t,onNavigateToChooseAttributeModal:n,onNavigateToAddCompoToDZModal:r,onNavigateToCreateComponentStep2:l,actionType:s,attributeName:u,attributeType:p,customFieldUid:g,categoryName:f,dynamicZoneTarget:b,forTarget:T,modalType:y,isOpen:$,kind:F,step:k,targetUid:B}=(0,Q.Z)(),te=(0,v.useCustomFields)().get(g),O=(0,a.useRef)(),N=(0,a.useMemo)(Zr,[]),L=(0,q.useDispatch)(),oe=(0,v.useNotification)(),ie=(0,q.useSelector)(ee=>N(ee),q.shallowEqual),{push:ve}=(0,M.useHistory)(),{trackUsage:H}=(0,v.useTracking)(),{formatMessage:ge}=(0,C.useIntl)(),{getPlugin:$e}=(0,v.useStrapiApp)(),Me=$e(G.Z).apis.forms,Je=Me.components.inputs,{addAttribute:ue,addCustomFieldAttribute:_e,addCreatedComponentToDynamicZone:be,allComponentsCategories:re,changeDynamicZoneComponents:w,contentTypes:et,components:it,createSchema:tt,deleteCategory:cn,deleteData:ht,editCategory:mn,editCustomFieldAttribute:pn,submitData:gn,modifiedData:Te,nestedComponents:fn,setModifiedData:hn,sortedContentTypesList:bn,updateSchema:yn,reservedNames:Be}=(0,ye.Z)(),{componentToCreate:st,formErrors:je,initialData:Re,isCreatingComponentWhileAddingAField:Ge,modifiedData:Y}=ie,D=T==="contentType"||T==="component"?[T]:[T,B];(0,a.useEffect)(()=>{if($){const ee=bn.filter(ut);y==="editCategory"&&hn(),s==="edit"&&y==="attribute"&&T==="contentType"&&H("willEditFieldOfContentType");const Ne=[...D,"schema","attributes"],Oe=wt(R()(Te,Ne,[]),b)||null;if(y==="editCategory"&&s==="edit"&&L({type:me._H,modalType:y,actionType:s,data:{name:f}}),y==="contentType"&&s==="create"&&L({type:me._H,modalType:y,actionType:s,data:{draftAndPublish:!0},pluginOptions:{}}),y==="contentType"&&s==="edit"){const{displayName:ne,draftAndPublish:fe,kind:ke,pluginOptions:Ce,pluralName:yi,singularName:vi}=R()(Te,[...D,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});L({type:me._H,actionType:s,modalType:y,data:{displayName:ne,draftAndPublish:fe,kind:ke,pluginOptions:Ce,pluralName:yi,singularName:vi}})}if(y==="component"&&s==="edit"){const ne=R()(Te,D,{});L({type:me._H,actionType:s,modalType:y,data:{displayName:ne.schema.displayName,category:ne.category}})}if(y==="addComponentToDynamicZone"&&s==="edit"){const ne={...Oe,components:[],name:b,createComponent:!1,componentToCreate:{type:"component"}};L({type:me.VZ,attributeToEdit:ne})}if(p){const fe={...wt(R()(Te,Ne,[]),u),name:u};p==="component"&&s==="edit"&&(fe.repeatable||Ee()(fe,"repeatable",!1)),L(y==="customField"?{type:me.OY,customField:te,isEditing:s==="edit",modifiedDataToSetForEditing:fe,forTarget:T}:{type:me.S0,attributeType:p,nameToSetForRelation:R()(ee,["0","title"],"error"),targetUid:R()(ee,["0","uid"],"error"),isEditing:s==="edit",modifiedDataToSetForEditing:fe,step:k,forTarget:T})}}else L({type:me.c2})},[s,u,p,f,b,T,$,y]);const j=y==="contentType",_=y==="component",de=y==="attribute",Fe=y==="customField",Ze=p==="component"&&de,Le=s==="create",De=R()(Y,"createComponent",!1)||Ge,nt=k==="1",Ra=y==="editCategory",Sa=y==="chooseAttribute",vn=(0,Ke.E)(Y.displayName||""),Tn=R()(Te,[...D,"schema","attributes"],null),ri=async()=>{let ee;const Ne=De&&k==="1"?R()(Y,"componentToCreate",{}):Y;if(j)ee=We.contentType.schema(Object.keys(et),s==="edit",R()(Te,[...D,"uid"],null),Be,Me,et);else if(_)ee=We.component.schema(Object.keys(it),Y.category||"",Be,s==="edit",R()(Te,[...D,"uid"],null),Me);else if(Fe)ee=We.customField.schema({schemaAttributes:R()(Te,[...D,"schema","attributes"],[]),attributeType:te.type,reservedNames:Be,schemaData:{modifiedData:Y,initialData:Re},ctbFormsAPI:Me,customFieldValidator:te.options?.validator});else if(Ze&&De&&nt)ee=We.component.schema(Object.keys(it),R()(Y,"componentToCreate.category",""),Be,Me);else if(de&&!nt){const Oe=p==="relation"?"relation":Y.type;let ne=[];if(Oe==="relation"){const fe=R()(Y,["target"],null);ne=R()(et,[fe,"schema","attributes"],[]).filter(({name:Ce})=>s!=="edit"?!0:Ce!==Re.targetAttribute)}ee=We.attribute.schema(R()(Te,D,{}),Oe,Be,ne,{modifiedData:Y,initialData:Re},Me)}else if(Ra)ee=We.editCategory.schema(re,Re,Me);else if(nt&&De)ee=We.component.schema(Object.keys(it),R()(Y,"componentToCreate.category",""),Be,Me);else return;await ee.validate(Ne,{abortEarly:!1})},Aa=(0,a.useCallback)(({target:{name:ee,value:Ne,type:Oe,...ne}})=>{const fe=["enumName","max","min","maxLength","minLength","regex","default"];let ke;fe.includes(ee)&&Ne===""?ke=null:ke=Ne;const Ce=Object.assign({},je);ee==="max"&&delete Ce.min,ee==="maxLength"&&delete Ce.minLength,delete Ce[ee],L({type:me.Ey,errors:Ce}),L({type:me.P0,keys:ee.split("."),value:ke,...ne})},[L,je]),qe=async(ee,Ne=Le)=>{ee.preventDefault();try{await ri(),si(Ne);const Oe=T==="components"?B:vn;if(j)if(Le)tt({...Y,kind:F},y,vn),ve({pathname:`/plugins/${G.Z}/content-types/${vn}`}),n({forTarget:T,targetUid:Oe});else{hr(Te,Y)?(t(),gn(Y)):oe({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(y==="component")if(Le){const ne=(0,Ke.N)(Y.displayName,Y.category),{category:fe,...ke}=Y;tt(ke,"component",ne,fe),ve({pathname:`/plugins/${G.Z}/component-categories/${fe}/${ne}`}),n({forTarget:T,targetUid:ne})}else{yn(Y,y,B),t();return}else if(Ra){if(Se()(Re.name)===Se()(Y.name)){t();return}mn(Re.name,Y);return}else if(Fe){const ne={attributeToSet:{...Y,customField:g},forTarget:T,targetUid:B,initialAttribute:Re};s==="edit"?pn(ne):_e(ne),Ne?n({forTarget:T,targetUid:Oe}):t();return}else if(de&&!De){if(p==="dynamiczone"){ue(Y,T,B,s==="edit",Re),Le?(L({type:me.I}),O.current._handlers.setSelectedTabIndex(0),r({dynamicZoneTarget:Y.name})):t();return}if(!Ze){ue(Y,T,B,s==="edit",Re),Ne?n({forTarget:T,targetUid:Oe}):t();return}if(nt){l(),L({type:me.yC,forTarget:T});return}ue(Y,T,B,s==="edit",Re,!0),Ne?n({forTarget:T,targetUid:B}):t()}else if(de&&De){if(nt){H("willCreateComponentFromAttributesModal"),L({type:me.oF,forTarget:T}),l();return}const{category:ne,type:fe,...ke}=st,Ce=(0,Ke.N)(st.displayName,ne);tt(ke,fe,Ce,ne,De),ue(Y,T,B,!1),L({type:me.c2}),Ne?n({forTarget:"components",targetUid:Ce}):t();return}else{if(nt)if(De){const{category:ne,type:fe,...ke}=Y.componentToCreate,Ce=(0,Ke.N)(Y.componentToCreate.displayName,ne);tt(ke,fe,Ce,ne,De),be(b,[Ce]),n({forTarget:"components",targetUid:Ce})}else w(b,Y.components),t();else console.error("This case is not handled");return}L({type:me.c2})}catch(Oe){const ne=(0,v.getYupInnerErrors)(Oe);console.log({err:Oe,errors:ne}),L({type:me.Ey,errors:ne})}},oi=()=>{window.confirm(ge({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(t(),L({type:me.c2}))},$a=()=>{(0,E.isEqual)(Y,Re)?(t(),L({type:me.c2})):oi()},ii=ee=>{if(ee==="advanced"){if(j){H("didSelectContentTypeSettings");return}T==="contentType"&&H("didSelectContentTypeFieldSettings")}},si=ee=>{y==="attribute"&&T==="contentType"&&p!=="dynamiczone"&&ee&&H("willAddMoreFieldToContentType")},li=()=>!!(y==="editCategory"||y==="component"||ae()(Y,"createComponent")),ui=br(T,B,fn);if(!$||!y)return null;const Fa=R()(We,[y,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),di=T==="components"||T==="component",Za={customInputs:{"allowed-types-select":Ve,"boolean-radio-group":Xa,"checkbox-with-number-field":Qa,"content-type-radio-group":Ja,"radio-group":St,relation:sr,"select-category":ur,"select-component":dr,"select-components":cr,"select-default-boolean":Ka,"select-number":pr,"select-date":mr,"toggle-draft-publish":Ua,"text-plural":lr,"text-singular":gr,"textarea-enum":fr,...Je},componentToCreate:st,dynamicZoneTarget:b,formErrors:je,isAddingAComponentToAnotherComponent:di,isCreatingComponentWhileAddingAField:Ge,mainBoxHeader:R()(Te,[...D,"schema","displayName"],""),modifiedData:Y,naturePickerType:T,isCreating:Le,targetUid:B,forTarget:T},Na=Fa.advanced({data:Y,type:p,step:k,actionType:s,attributes:Tn,extensions:Me,forTarget:T,contentTypeSchema:Te.contentType||{},customField:te}).sections,La=Fa.base({data:Y,type:p,step:k,actionType:s,attributes:Tn,extensions:Me,forTarget:T,contentTypeSchema:Te.contentType||{},customField:te}).sections,ci=kn(La),mi=kn(Na),pi=Object.keys(je).some(ee=>ci.includes(ee)),gi=Object.keys(je).some(ee=>mi.includes(ee)),fi=R()(et,[B,"schema","kind"]),hi=()=>s==="edit"&&Tn.every(({name:ee})=>ee!==Y?.name),bi=()=>{hi()&&H("didEditFieldNameOnContentType")};return a.createElement(c.ModalLayout,{onClose:$a,labelledBy:"title"},a.createElement(Wa,{actionType:s,attributeName:u,categoryName:f,contentTypeKind:F,dynamicZoneTarget:b,modalType:y,forTarget:T,targetUid:B,attributeType:p,customFieldUid:g}),Sa&&a.createElement(za,{attributes:ui,forTarget:T,kind:fi||"collectionType"}),!Sa&&a.createElement("form",{onSubmit:qe},a.createElement(c.ModalBody,null,a.createElement(c.TabGroup,{label:"todo",id:"tabs",variant:"simple",ref:O,onTabChange:ee=>{ee===1&&ii("advanced")}},a.createElement(c.Flex,{justifyContent:"space-between"},a.createElement(Va,{actionType:s,forTarget:T,kind:F,step:k,modalType:y,attributeType:p,attributeName:u,customField:te}),a.createElement(c.Tabs,null,a.createElement(c.Tab,{hasError:pi},ge({id:(0,m.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),a.createElement(c.Tab,{hasError:gi,disabled:li()},ge({id:(0,m.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),a.createElement(c.Divider,null),a.createElement(c.Box,{paddingTop:6},a.createElement(c.TabPanels,null,a.createElement(c.TabPanel,null,a.createElement(c.Stack,{spacing:6},a.createElement(On,{form:La,formErrors:je,genericInputProps:Za,modifiedData:Y,onChange:Aa}))),a.createElement(c.TabPanel,null,a.createElement(c.Stack,{spacing:6},a.createElement(On,{form:Na,formErrors:je,genericInputProps:Za,modifiedData:Y,onChange:Aa}))))))),a.createElement(c.ModalFooter,{endActions:a.createElement(Ga,{deleteCategory:cn,deleteContentType:ht,deleteComponent:ht,categoryName:Re.name,isAttributeModal:y==="attribute",isCustomFieldModal:y==="customField",isComponentToDzModal:y==="addComponentToDynamicZone",isComponentAttribute:p==="component",isComponentModal:y==="component",isContentTypeModal:y==="contentType",isCreatingComponent:s==="create",isCreatingDz:s==="create",isCreatingComponentAttribute:Y.createComponent||!1,isCreatingComponentInDz:Y.createComponent||!1,isCreatingComponentWhileAddingAField:Ge,isCreatingContentType:s==="create",isEditingAttribute:s==="edit",isDzAttribute:p==="dynamiczone",isEditingCategory:y==="editCategory",isInFirstComponentStep:k==="1",onSubmitAddComponentAttribute:qe,onSubmitAddComponentToDz:qe,onSubmitCreateComponent:qe,onSubmitCreateContentType:qe,onSubmitCreateDz:qe,onSubmitEditAttribute:qe,onSubmitEditCategory:qe,onSubmitEditComponent:qe,onSubmitEditContentType:qe,onSubmitEditCustomFieldAttribute:qe,onSubmitEditDz:qe,onClickFinish:bi}),startActions:a.createElement(c.Button,{variant:"tertiary",onClick:$a},ge({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))},Wn=t=>t.reduce((n,r)=>(n[r.uid]=r,n),{}),Lr=(t,n,r,l)=>{const s=n.reduce((g,f)=>{const b=R()(r,f,{});return g[f]=b,g},{});return{[l?"contentType":"component"]:t,components:s}},qr=(t,n)=>{const r=Object.keys(t).map(l=>(0,E.get)(t,[l,...n],""));return(0,V.Z)(r)};var Or=d(19525);const kr=t=>{const n=Object.keys(t).reduce((r,l)=>{const s=(0,E.get)(t,[l,"schema","attributes"],[]),u=wr(s);return[...r,...u]},[]);return(0,V.Z)(n)},wr=t=>t.reduce((n,r)=>{const{type:l,component:s}=r;return l==="component"&&n.push(s),n},[]),Gn=kr,Pr=t=>{const n=Object.keys(t).reduce((r,l)=>{const s=R()(t,[l],{}),u=s.uid;return Ir(s)&&r.push(u),r},[]);return(0,V.Z)(n)},Ir=t=>R()(t,["schema","attributes"],[]).some(r=>{const{type:l}=r;return l==="component"}),Dr=(t,n)=>{const r=Object.keys(t).filter(l=>{const s=(0,E.get)(t,l,{}),u=(0,E.get)(n,l,{}),p=(0,E.get)(s,["isTemporary"],!1),g=!(0,E.isEqual)(s,u);return p||g});return(0,V.Z)(r)},Br=(t,n)=>{const r=Vn((0,E.get)(t,"schema.attributes",[]),n),l=(0,E.get)(t,"isTemporary",!1)?{tmpUID:t.uid}:{uid:t.uid};return Object.assign({},l,{category:t.category},(0,E.omit)(t.schema,"attributes"),{attributes:r})},Hn=(t,n=!1)=>{const r=(0,E.get)(t,"uid",null),l=Vn((0,E.get)(t,"schema.attributes",[]),r),s=n?{category:(0,E.get)(t,"category","")}:{},u=Object.assign(s,(0,E.omit)(t.schema,"attributes"),{attributes:l});return delete u.uid,delete u.isTemporary,delete u.visible,delete u.restrictRelationsTo,u},Vn=(t,n)=>t.reduce((r,{name:l,...s})=>{const u=s,p=u.target===n,g=u.type==="relation",f=(0,E.get)(u,"targetAttribute",null);if(!p)if(g){const b=Object.assign({},u,{targetAttribute:Kn(f)});r[l]=dt(b)}else r[l]=dt(u);if(p){const b=u.target,T=Object.assign({},u,{target:b,targetAttribute:Kn(f)});r[l]=dt(T)}if(u.customField){const b={...u,type:"customField"};r[l]=dt(b)}return r},{}),Kn=t=>t==="-"?null:t,dt=t=>Object.keys(t).reduce((n,r)=>(t[r]!==null&&r!=="plugin"&&(n[r]=t[r]),n),{}),jr=(t,n,r,l=!1)=>Dr(t,n).map(p=>{const g=(0,E.get)(t,p,{});return Br(g,r,l)}),zr=t=>(0,E.sortBy)(Object.keys(t).map(n=>({visible:t[n].schema.visible,name:n,title:t[n].schema.displayName,plugin:t[n].plugin||null,uid:n,to:`/plugins/${G.Z}/content-types/${n}`,kind:t[n].schema.kind,restrictRelationsTo:t[n].schema.restrictRelationsTo})).filter(n=>n!==null),n=>(0,E.camelCase)(n.title)),Yn="did-not-kill-server",Ur="server is down";function at(t,n){return new Promise(r=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(l=>{if(l.status>=400)throw new Error(Ur);if(!n)throw new Error(Yn);r(t)}).catch(l=>{setTimeout(()=>at(t,l.message!==Yn).then(r),100)})})}const Wr=t=>Object.values(t.attributes).filter(({type:r})=>r==="dynamiczone").every(({components:r})=>Array.isArray(r)&&r.length>0);var he=d(92407),Gr=d(87431);const Hr=()=>t=>t[`${G.Z}_dataManagerProvider`]||Gr.E,Vr=()=>(0,Un.P1)(Hr(),t=>t),Kr=t=>Object.keys(t).reduce((n,r)=>{const l=t[r].schema;return n[r]={...t[r],schema:{...l,attributes:Yr(l.attributes)}},n},{}),Yr=t=>Object.keys(t).reduce((n,r)=>(n.push({...t[r],name:r}),n),[]),Xn=Kr,Yt=({children:t,components:n,contentTypes:r,isLoading:l,isLoadingForDataToBeSet:s,initialData:u,modifiedData:p,reservedNames:g})=>{const f=(0,q.useDispatch)(),b=(0,v.useNotification)(),{lockAppWithAutoreload:T,unlockAppWithAutoreload:y}=(0,v.useAutoReloadOverlayBlocker)(),{setCurrentStep:$}=(0,v.useGuidedTour)(),{getPlugin:F}=(0,v.useStrapiApp)(),{apis:k}=F(G.Z),{autoReload:B}=(0,v.useAppInfos)(),{formatMessage:te}=(0,C.useIntl)(),{trackUsage:O}=(0,v.useTracking)(),{refetchPermissions:N}=(0,v.useRBACProvider)(),{pathname:L}=(0,M.useLocation)(),{onCloseModal:oe}=(0,Q.Z)(),ie=(0,M.useRouteMatch)(`/plugins/${G.Z}/content-types/:uid`),ve=(0,M.useRouteMatch)(`/plugins/${G.Z}/component-categories/:categoryUid/:componentUid`),H=(0,v.useFetchClient)(),{put:ge,post:$e,del:ot}=H,Me=(0,a.useRef)();Me.current=te;const Je=B,ue=ie!==null,_e=ue?"contentType":"component",be=ue?(0,E.get)(ie,"params.uid",null):(0,E.get)(ve,"params.componentUid",null),re=(0,a.useRef)(),w=ue?"content-types":"components";re.current=async()=>{try{const[{data:{data:D}},{data:{data:j}},{data:_}]=await Promise.all(["components","content-types","reserved-names"].map(De=>H.get(`/${G.Z}/${De}`))),de=Wn(D),Fe=Xn(de),Ze=Wn(j),Le=Xn(Ze);f({type:he.Id,components:Fe,contentTypes:Le,reservedNames:_})}catch(D){console.error({err:D}),b({type:"warning",message:{id:"notification.error"}})}},(0,a.useEffect)(()=>(re.current(),()=>{f({type:he.Zl})}),[]),(0,a.useEffect)(()=>{!l&&be&&Be()},[l,L,be]),(0,a.useEffect)(()=>{B||b({type:"info",message:{id:(0,m.Z)("notification.info.autoreaload-disable")}})},[B,b]);const et=(D,j,_,de=!1,Fe,Ze=!1)=>{const Le=de?he.JO:he.gz;f({type:Le,attributeToSet:D,forTarget:j,targetUid:_,initialAttribute:Fe,shouldAddComponentToData:Ze})},it=({attributeToSet:D,forTarget:j,targetUid:_,initialAttribute:de})=>{f({type:he.Ir,attributeToSet:D,forTarget:j,targetUid:_,initialAttribute:de})},tt=({attributeToSet:D,forTarget:j,targetUid:_,initialAttribute:de})=>{f({type:he.Ly,attributeToSet:D,forTarget:j,targetUid:_,initialAttribute:de})},cn=(D,j)=>{f({type:he.Uu,dynamicZoneTarget:D,componentsToAdd:j})},ht=(D,j,_,de,Fe=!1)=>{const Ze=j==="contentType"?he.Sh:he.VR;f({type:Ze,data:D,componentCategory:de,schemaType:j,uid:_,shouldAddComponentToData:Fe})},mn=(D,j)=>{f({type:he.o_,dynamicZoneTarget:D,newComponents:j})},pn=(D,j,_="")=>{const de=D==="components"?he.lw:he.ai;D==="contentType"&&O("willDeleteFieldOfContentType"),f({type:de,mainDataKey:D,attributeToRemoveName:j,componentUid:_})},gn=async D=>{try{const j=`/${G.Z}/component-categories/${D}`,_=window.confirm(te({id:(0,m.Z)("popUpWarning.bodyMessage.category.delete")}));oe(),_&&(T(),await ot(j),await at(!0),await y(),await Ge())}catch(j){console.error({err:j}),b({type:"warning",message:{id:"notification.error"}})}finally{y()}},Te=async()=>{try{const D=`/${G.Z}/${w}/${be}`,j=(0,E.get)(p,[_e,"isTemporary"],!1),_=window.confirm(te({id:(0,m.Z)(`popUpWarning.bodyMessage.${ue?"contentType":"component"}.delete`)}));if(oe(),_){if(j){f({type:he.Ap});return}T(),await ot(D),await at(!0),await y(),await Ge()}}catch(D){console.error({err:D}),b({type:"warning",message:{id:"notification.error"}})}finally{y()}},fn=async(D,j)=>{try{const _=`/${G.Z}/component-categories/${D}`;oe(),T(),await ge(_,j),await at(!0),await y(),await Ge()}catch(_){console.error({err:_}),b({type:"warning",message:{id:"notification.error"}})}finally{y()}},hn=()=>{const D=Object.assign({},n,p.components);if(!ue){const _=(0,E.get)(p,"component",{});(0,E.set)(D,(0,E.get)(_,["uid"],""),_)}const j=Pr(D);return(0,V.Z)(j)},bn=()=>{const D=Gn(n),j=Gn(p.components||{});return(0,V.Z)([...j,...D])},yn=(D,j)=>{f({type:he.NG,dzName:D,componentToRemoveIndex:j})},Be=()=>{const D=ue?r:n,j=(0,E.get)(D,be,{schema:{attributes:[]}}),_=(0,Or.Z)(j.schema.attributes,n),de=Lr(j,_,n,ue),Fe=(0,E.get)(j,"isTemporary",!1)&&(0,E.size)((0,E.get)(j,"schema.attributes",[]))===0;f({type:he.xx,schemaToSet:de,hasJustCreatedSchema:Fe})},st=(0,a.useMemo)(()=>{const D=ue?r:n;return be==="create-content-type"?!1:!Object.keys(D).includes(be)&&!l},[n,r,be,ue,l]),je=(0,a.useMemo)(()=>{const D=Object.keys(r).filter(j=>(0,E.get)(r,[j,"schema","visible"],!0)).sort();return(0,E.get)(D,"0","create-content-type")},[r]);if(st)return a.createElement(M.Redirect,{to:`/plugins/${G.Z}/content-types/${je}`});const Re=async D=>{try{const j=(0,E.get)(p,[_e,"isTemporary"],!1),_={components:jr(p.components,n,be,j)};if(ue){const Ze=k.forms.mutateContentTypeSchema({...Hn(p.contentType),...D},u.contentType);if(!Wr(Ze)){b({type:"warning",message:{id:(0,m.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}_.contentType=Ze,O("willSaveContentType")}else _.component=Hn(p.component,!0),O("willSaveComponent");T();const de=`/${G.Z}/${w}`,Fe=j?de:`${de}/${be}`;if(j?await $e(Fe,_):await ge(Fe,_),await at(!0),await y(),j&&(u.contentType?.schema.kind==="collectionType"||u.contentType?.schema.kind==="singleType")&&$("contentTypeBuilder.success"),ue){O("didSaveContentType");const Ze=(0,E.get)(_,["contentType","schema","name"],""),Le=(0,E.get)(u,["contentType","schema","name"],"");!j&&Ze!==Le&&O("didEditNameOfContentType")}else O("didSaveComponent");await Ge()}catch(j){ue||O("didNotSaveComponent"),console.error({err:j.response}),b({type:"warning",message:{id:"notification.error"}})}finally{y()}},Ge=async()=>{await N()},Y=(D,j,_)=>{f({type:he.bi,data:D,schemaType:j,uid:_})};return a.createElement(W.Z.Provider,{value:{addAttribute:et,addCustomFieldAttribute:it,addCreatedComponentToDynamicZone:cn,allComponentsCategories:qr(n,["category"]),changeDynamicZoneComponents:mn,components:n,componentsGroupedByCategory:(0,E.groupBy)(n,"category"),componentsThatHaveOtherComponentInTheirAttributes:hn(),contentTypes:r,createSchema:ht,deleteCategory:gn,deleteData:Te,editCategory:fn,editCustomFieldAttribute:tt,isInDevelopmentMode:Je,initialData:u,isInContentTypeView:ue,modifiedData:p,nestedComponents:bn(),removeAttribute:pn,removeComponentFromDynamicZone:yn,reservedNames:g,setModifiedData:Be,sortedContentTypesList:zr(r),submitData:Re,updateSchema:Y}},s?a.createElement(v.LoadingIndicatorPage,null):a.createElement(a.Fragment,null,t,Je&&a.createElement(Nr,null)))};Yt.defaultProps={components:{}},Yt.propTypes={children:i().node.isRequired,components:i().object,contentTypes:i().object.isRequired,isLoading:i().bool.isRequired,isLoadingForDataToBeSet:i().bool.isRequired,initialData:i().object.isRequired,modifiedData:i().object.isRequired,reservedNames:i().object.isRequired};const Xr=Vr(),Qr=(0,q.connect)(Xr,null),Jr=(0,z.compose)(Qr)((0,a.memo)(Yt));var _r=d(98422);const Qn={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Jn=({children:t})=>{const[n,r]=(0,a.useState)(Qn),{trackUsage:l}=(0,v.useTracking)(),s=({attributeType:O,customFieldUid:N})=>{r(L=>({...L,actionType:"create",modalType:"customField",attributeType:O,customFieldUid:N}))},u=({attributeType:O,step:N})=>{n.forTarget==="contentType"&&l("didSelectContentTypeFieldType",{type:O}),r(L=>({...L,actionType:"create",modalType:"attribute",step:N,attributeType:O}))},p=({dynamicZoneTarget:O,targetUid:N})=>{r(L=>({...L,dynamicZoneTarget:O,targetUid:N,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},g=({forTarget:O,targetUid:N})=>{r(L=>({...L,actionType:"create",forTarget:O,targetUid:N,modalType:"chooseAttribute",isOpen:!0}))},f=O=>{r(N=>({...N,...O,isOpen:!0}))},b=O=>{r(N=>({...N,categoryName:O,actionType:"edit",modalType:"editCategory",isOpen:!0}))},T=({forTarget:O,targetUid:N,attributeName:L,attributeType:oe,customFieldUid:ie})=>{r(ve=>({...ve,modalType:"customField",customFieldUid:ie,actionType:"edit",forTarget:O,targetUid:N,attributeName:L,attributeType:oe,isOpen:!0}))},y=({forTarget:O,targetUid:N,attributeName:L,attributeType:oe,step:ie})=>{r(ve=>({...ve,modalType:"attribute",actionType:"edit",forTarget:O,targetUid:N,attributeName:L,attributeType:oe,step:ie,isOpen:!0}))},$=({modalType:O,forTarget:N,targetUid:L,kind:oe})=>{r(ie=>({...ie,modalType:O,actionType:"edit",forTarget:N,targetUid:L,kind:oe,isOpen:!0}))},F=()=>{r(Qn)},k=({forTarget:O,targetUid:N})=>{r(L=>({...L,forTarget:O,targetUid:N,modalType:"chooseAttribute"}))},B=()=>{r(O=>({...O,attributeType:"component",modalType:"attribute",step:"2"}))},te=({dynamicZoneTarget:O})=>{r(N=>({...N,dynamicZoneTarget:O,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return a.createElement(_r.Z.Provider,{value:{...n,onClickSelectField:u,onClickSelectCustomField:s,onCloseModal:F,onNavigateToChooseAttributeModal:k,onNavigateToAddCompoToDZModal:te,onOpenModalAddComponentsToDZ:p,onNavigateToCreateComponentStep2:B,onOpenModalAddField:g,onOpenModalCreateSchema:f,onOpenModalEditCategory:b,onOpenModalEditField:y,onOpenModalEditCustomField:T,onOpenModalEditSchema:$,setFormModalNavigationState:r}},t)};Jn.propTypes={children:i().node.isRequired};const eo=Jn,to=(0,a.lazy)(()=>d.e(5905).then(d.bind(d,57134))),no=()=>{const{url:t}=(0,M.useRouteMatch)(),{categoryUid:n}=(0,M.useParams)();return a.createElement(a.Suspense,{fallback:a.createElement(v.LoadingIndicatorPage,null)},a.createElement(M.Switch,null,a.createElement(M.Route,{path:`${t}/:componentUid`},a.createElement(to,{categoryId:n}))))},_n=(0,a.createContext)({gap:0,gridCols:12}),rs=()=>o(_n),we=(t,n,r)=>{if(!n)return;let l=Array.isArray(n)?n:[];if(!Array.isArray(n)&&typeof n=="object"&&(l=[n?.desktop,n?.tablet,n?.mobile]),l.length>0)return l.reduce((u,p,g)=>{if(p)switch(g){case 0:return`${u}${t}: ${r.spaces[p]};`;case 1:return`${u}${r.mediaQueries.tablet}{${t}: ${r.spaces[p]};}`;case 2:return`${u}${r.mediaQueries.mobile}{${t}: ${r.spaces[p]};}`;default:return u}return u},"");const s=r.spaces[n]||n;return`${t}: ${s};`};function ao(t,n){return typeof t=="string"?!1:n in t}function Xt(t){return t&&typeof t=="object"&&!Array.isArray(t)}function ea(t,...n){if(!n.length)return t;const r=n.shift();if(r==null)return t;const l=Xt(t)&&Xt(r),s=e(t)&&e(r);if(l||s)for(const u of Object.keys(r)){const p=Xt(r[u]),g=e(r[u]);p||g?(t[u]||Object.assign(t,{[u]:p?{}:[]}),ea(t[u],r[u])):l?Object.assign(t,{[u]:r[u]}):t.push(r[u])}return ea(t,...n)}function pe(t,n,r){return n&&ao(t,n)?t[n]:r}const ro={color:!0,cursor:!0,height:!0,width:!0},le=X.default.div.withConfig({shouldForwardProp:(t,n)=>!ro[t]&&n(t)})`
  // Font
  font-size: ${({fontSize:t,theme:n})=>pe(n.fontSizes,t,t)};

  // Colors
  background: ${({theme:t,background:n})=>pe(t.colors,n,void 0)};
  color: ${({theme:t,color:n})=>pe(t.colors,n,void 0)};

  // Spaces
  ${({theme:t,padding:n})=>we("padding",n,t)}
  ${({theme:t,paddingTop:n})=>we("padding-top",n,t)}
  ${({theme:t,paddingRight:n})=>we("padding-right",n,t)}
  ${({theme:t,paddingBottom:n})=>we("padding-bottom",n,t)}
  ${({theme:t,paddingLeft:n})=>we("padding-left",n,t)}
  ${({theme:t,marginLeft:n})=>we("margin-left",n,t)}
  ${({theme:t,marginRight:n})=>we("margin-right",n,t)}
  ${({theme:t,marginTop:n})=>we("margin-top",n,t)}
  ${({theme:t,marginBottom:n})=>we("margin-bottom",n,t)}

  // Responsive hiding
  ${({theme:t,hiddenS:n})=>n?`${t.mediaQueries.tablet} { display: none; }`:void 0}
  ${({theme:t,hiddenXS:n})=>n?`${t.mediaQueries.mobile} { display: none; }`:void 0}
  

  // Borders
  border-radius: ${({theme:t,hasRadius:n,borderRadius:r})=>n?t.borderRadius:r};
  border-style: ${({borderStyle:t})=>t};
  border-width: ${({borderWidth:t})=>t};
  border-color: ${({borderColor:t,theme:n})=>pe(n.colors,t,void 0)};
  border: ${({theme:t,borderColor:n,borderStyle:r,borderWidth:l})=>{if(n&&!r&&!l)return`1px solid ${t.colors[n]}`}};

  // Shadows
  box-shadow: ${({theme:t,shadow:n})=>pe(t.shadows,n,void 0)};

  // Handlers
  pointer-events: ${({pointerEvents:t})=>t};
  &:hover {
    ${({_hover:t,theme:n})=>t?t(n):void 0}
  }

  // Display
  display: ${({display:t})=>t};

  // Position
  position: ${({position:t})=>t};
  left: ${({left:t,theme:n})=>pe(n.spaces,t,t)};
  right: ${({right:t,theme:n})=>pe(n.spaces,t,t)};
  top: ${({top:t,theme:n})=>pe(n.spaces,t,t)};
  bottom: ${({bottom:t,theme:n})=>pe(n.spaces,t,t)};
  z-index: ${({zIndex:t})=>t};
  overflow: ${({overflow:t})=>t};

  // Size
  width: ${({width:t,theme:n})=>pe(n.spaces,t,t)};
  max-width: ${({maxWidth:t,theme:n})=>pe(n.spaces,t,t)};
  min-width: ${({minWidth:t,theme:n})=>pe(n.spaces,t,t)};
  height: ${({height:t,theme:n})=>pe(n.spaces,t,t)};
  max-height: ${({maxHeight:t,theme:n})=>pe(n.spaces,t,t)};
  min-height: ${({minHeight:t,theme:n})=>pe(n.spaces,t,t)};

  // Animation
  transition: ${({transition:t})=>t};
  transform: ${({transform:t})=>t};
  animation: ${({animation:t})=>t};

  //Flexbox children props
  flex-shrink: ${({shrink:t})=>t};
  flex-grow: ${({grow:t})=>t};
  flex-basis: ${({basis:t})=>t};
  flex: ${({flex:t})=>t};

  // Text
  text-align: ${({textAlign:t})=>t};
  text-transform: ${({textTransform:t})=>t};
  line-height: ${({lineHeight:t})=>t};

  // Cursor
  cursor: ${({cursor:t})=>t};
`,oo=(0,X.default)(le)`
  display: grid;
  grid-template-columns: repeat(${({gridCols:t})=>t}, 1fr);
  ${({theme:t,gap:n})=>we("gap",n,t)}
`,Qt=({gap:t,gridCols:n,...r})=>a.createElement(_n.Provider,{value:{gap:t,gridCols:n}},a.createElement(oo,{gap:t,gridCols:n,...r}));Qt.defaultProps={gap:0,gridCols:12},Qt.propTypes={gap:h.oneOfType([h.number,h.arrayOf(h.number)]),gridCols:h.number};const io=`${232/16}rem`,so=(0,X.default)(Qt)`
  width: ${io};
  background: ${({theme:t})=>t.colors.neutral100};
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
  border-right: 1px solid ${({theme:t})=>t.colors.neutral200};
  z-index: 1;
`,ta=({ariaLabel:t,...n})=>a.createElement(so,{"aria-label":t,as:"nav",...n});ta.propTypes={ariaLabel:h.string.isRequired};const lo={direction:!0},xe=(0,X.default)(le).withConfig({shouldForwardProp:(t,n)=>!lo[t]&&n(t)})`
  align-items: ${({alignItems:t="center"})=>t};
  display: ${({inline:t})=>t?"inline-flex":"flex"};
  flex-direction: ${({direction:t="row"})=>t};
  flex-shrink: ${({shrink:t})=>t};
  flex-wrap: ${({wrap:t})=>t};
  ${({gap:t,theme:n})=>we("gap",t,n)};
  justify-content: ${({justifyContent:t})=>t};
`,na="alpha",aa="beta",ra="delta",oa="epsilon",Jt="omega",ia="pi",sa="sigma",os=[na,aa,ra,oa,Jt,ia,sa],uo=({ellipsis:t=!1})=>t&&`
    display: block;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  `,co=({variant:t=Jt,theme:n})=>{switch(t){case na:return`
        font-weight: ${n.fontWeights.bold};
        font-size: ${n.fontSizes[5]};
        line-height: ${n.lineHeights[2]};
      `;case aa:return`
        font-weight: ${n.fontWeights.bold};
        font-size: ${n.fontSizes[4]};
        line-height: ${n.lineHeights[1]};
      `;case ra:return`
        font-weight: ${n.fontWeights.semiBold};
        font-size: ${n.fontSizes[3]};
        line-height: ${n.lineHeights[2]};
      `;case oa:return`
        font-size: ${n.fontSizes[3]};
        line-height: ${n.lineHeights[6]};
      `;case Jt:return`
        font-size: ${n.fontSizes[2]};
        line-height: ${n.lineHeights[4]};
      `;case ia:return`
        font-size: ${n.fontSizes[1]};
        line-height: ${n.lineHeights[3]};
      `;case sa:return`
        font-weight: ${n.fontWeights.bold};
        font-size: ${n.fontSizes[0]};
        line-height: ${n.lineHeights[5]};
        text-transform: uppercase;
      `;default:return`
        font-size: ${n.fontSizes[2]};
      `}},mo=({theme:t,textColor:n})=>t.colors[n||"neutral800"],po={fontSize:!0,fontWeight:!0},Ie=X.default.span.withConfig({shouldForwardProp:(t,n)=>!po[t]&&n(t)})`
  ${co}
  ${uo}

  // These properties need to come after {variantStyle}, because they might
  // overwrite a variant attribute
  font-weight: ${({theme:t,fontWeight:n})=>pe(t.fontWeights,n,void 0)};
  font-size: ${({theme:t,fontSize:n})=>pe(t.fontSizes,n,void 0)};
  line-height: ${({theme:t,lineHeight:n})=>pe(t.lineHeights,n,void 0)};
  color: ${mo};
  text-align: ${({textAlign:t})=>t};
  text-transform: ${({textTransform:t})=>t};
`;var go=d(73935);const la=({children:t})=>{const n=(0,a.useRef)(null),[r,l]=(0,a.useState)(!1);return(0,a.useLayoutEffect)(()=>(n.current=document.createElement("div"),n.current.setAttribute("data-react-portal","true"),document.body.appendChild(n.current),l(!0),()=>{n.current?.remove()}),[]),!r||!n.current?null:(0,go.createPortal)(t,n.current)};la.propTypes={children:h.node.isRequired};const fo=t=>{const[n,r]=(0,a.useState)(!1),l=(0,a.useRef)(),s=()=>{l.current&&clearTimeout(l.current)};return(0,a.useEffect)(()=>()=>{s()},[]),{visible:n,onFocus:()=>{r(!0)},onBlur:()=>{r(!1)},onMouseEnter:()=>{l.current=setTimeout(()=>{r(!0)},t)},onMouseLeave:()=>{s(),r(!1)}}},ho=(t,n)=>{const r=(t.width-n.width)/2,l=n.left-r,s=n.top+n.height+8+window.pageYOffset;return{left:l,top:s}},bo=(t,n)=>{const r=(t.height-n.height)/2,l=n.left+n.width+8,s=n.top-r+window.pageYOffset;return{left:l,top:s}},yo=(t,n)=>{const r=(t.height-n.height)/2,l=n.left-t.width-8,s=n.top-r+window.pageYOffset;return{left:l,top:s}},vo=(t,n)=>{const r=(t.width-n.width)/2;let l=n.left-r,s=n.top-t.height-8+window.pageYOffset;const u=window.innerWidth-n.right;return n.left+t.width-u>window.innerWidth?(l=n.left-t.width-8,s=n.top+window.scrollY-n.height/2):l<0?(l=n.width+n.left+8,s=n.top+window.scrollY-t.height/2+8):s<0&&l>0&&(s=n.top+n.height+8),{left:l,top:s}},To=(t,n,r)=>{const l=t.getBoundingClientRect(),s=n.getBoundingClientRect();return r==="bottom"?ho(l,s):r==="right"?bo(l,s):r==="left"?yo(l,s):vo(l,s)},Co=(t,n)=>{const r=(0,a.useRef)(null),l=(0,a.useRef)(null);return(0,a.useLayoutEffect)(()=>{if(t){const s=r.current,u=l.current,p=To(s,u,n);s.style.left=`${p.left}px`,s.style.top=`${p.top}px`}},[n,t]),{tooltipWrapperRef:r,toggleSourceRef:l}},Eo=a["useId".toString()]||(()=>{});let xo=0;const Xe=t=>{const[n,r]=(0,a.useState)(Eo());return(0,a.useLayoutEffect)(()=>{t||r(l=>l??String(xo++))},[t]),t?.toString()??(n||"")},ct=X.default.div`
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
`,Mo=(0,X.default)(le)`
  /* z-index exist because of its position inside Modals */
  z-index: 4;
  display: ${({visible:t})=>t?"revert":"none"};
`,_t=({children:t,label:n,description:r,delay:l,position:s,id:u,...p})=>{const g=Xe(u),f=Xe(),{visible:b,...T}=fo(l),{tooltipWrapperRef:y,toggleSourceRef:$}=Co(b,s),F=a.cloneElement(t,{tabIndex:0,"aria-labelledby":n?g:void 0,"aria-describedby":r?g:void 0,...T});return a.createElement(a.Fragment,null,a.createElement(la,null,a.createElement(Mo,{id:g,background:"neutral900",hasRadius:!0,padding:2,role:"tooltip",ref:y,visible:b,position:"absolute",...p},b&&a.createElement(ct,{id:f},r),a.createElement(Ie,{as:"p",variant:"pi",fontWeight:"bold",textColor:"neutral0"},n||r))),a.createElement("span",{ref:$},F))};_t.defaultProps={delay:500,id:void 0,position:"top",label:void 0,description:void 0},_t.propTypes={children:h.node.isRequired,delay:h.number,description:h.string,id:h.string,label:h.string,position:h.oneOf(["top","left","bottom","right"])};var Qe=d(85893);const is=t=>({theme:n,size:r})=>n.sizes[t][r],ua=(t="&")=>({theme:n,hasError:r})=>`
      outline: none;
      box-shadow: 0;
      transition-property: border-color, box-shadow, fill;
      transition-duration: 0.2s;

      ${t}:focus-within {
        border: 1px solid ${r?n.colors.danger600:n.colors.primary600};
        box-shadow: ${r?n.colors.danger600:n.colors.primary600} 0px 0px 0px 2px;
      }
    `,Ro=({theme:t})=>`
  position: relative;
  outline: none;
  
  &:after {
    transition-property: all;
    transition-duration: 0.2s;
    border-radius: 8px;
    content: '';
    position: absolute;
    top: -4px;
    bottom: -4px;
    left: -4px;
    right: -4px;
    border: 2px solid transparent;
  }

  &:focus-visible {
    outline: none;
    &:after {
      border-radius: 8px;
      content: '';
      position: absolute;
      top: -5px;
      bottom: -5px;
      left: -5px;
      right: -5px;
      border: 2px solid ${t.colors.primary600};
    }
  }
`,So=X.default.button`
  display: flex;
  cursor: pointer;
  padding: ${({theme:t})=>t.spaces[2]};
  border-radius: ${({theme:t})=>t.borderRadius};
  background: ${({theme:t})=>t.colors.neutral0};
  border: 1px solid ${({theme:t})=>t.colors.neutral200};
  svg {
    height: ${({theme:t})=>t.spaces[3]};
    width: ${({theme:t})=>t.spaces[3]};
  }
  svg {
    > g,
    path {
      fill: ${({theme:t})=>t.colors.neutral0};
    }
  }
  &[aria-disabled='true'] {
    pointer-events: none;
  }

  ${Ro}
`,da=a.forwardRef(({disabled:t,children:n,...r},l)=>(0,Qe.jsx)(So,{ref:l,"aria-disabled":t,type:"button",disabled:t,...r,children:n}));da.displayName="BaseButton";const en=(0,X.default)(da)`
  display: flex;
  align-items: center;
  justify-content: center;
  height: ${32/16}rem;
  width: ${32/16}rem;

  svg {
    > g,
    path {
      fill: ${({theme:t})=>t.colors.neutral500};
    }
  }
  &:hover {
    svg {
      > g,
      path {
        fill: ${({theme:t})=>t.colors.neutral600};
      }
    }
  }
  &:active {
    svg {
      > g,
      path {
        fill: ${({theme:t})=>t.colors.neutral400};
      }
    }
  }
  &[aria-disabled='true'] {
    background-color: ${({theme:t})=>t.colors.neutral150};
    svg {
      path {
        fill: ${({theme:t})=>t.colors.neutral600};
      }
    }
  }
  ${({noBorder:t})=>t?"border: none;":void 0}
`,ss=(0,X.default)(xe)`
  & span:first-child button {
    border-left: 1px solid ${({theme:t})=>t.colors.neutral200};
    border-radius: ${({theme:t})=>`${t.borderRadius} 0 0 ${t.borderRadius}`};
  }

  & span:last-child button {
    border-radius: ${({theme:t})=>`0 ${t.borderRadius} ${t.borderRadius} 0`};
  }

  & ${en} {
    border-radius: 0;
    border-left: none;

    svg {
      path {
        fill: ${({theme:t})=>t.colors.neutral700};
      }
    }

    &:hover {
      background-color: ${({theme:t})=>t.colors.neutral100};

      svg {
        path {
          fill: ${({theme:t})=>t.colors.neutral800};
        }
      }
    }

    &:active {
      background-color: ${({theme:t})=>t.colors.neutral150};
      svg {
        path {
          fill: ${({theme:t})=>t.colors.neutral900};
        }
      }
    }

    &[aria-disabled='true'] {
      svg {
        path {
          fill: ${({theme:t})=>t.colors.neutral600};
        }
      }
    }
  }
`,mt=a.forwardRef(({label:t,noBorder:n,children:r,icon:l,disabled:s,onClick:u,"aria-label":p,...g},f)=>{const b=T=>{!s&&u&&u(T)};return t?a.createElement(_t,{label:t},a.createElement(en,{...g,ref:f,noBorder:n,onClick:b,"aria-disabled":s},a.createElement(ct,{as:"span"},t),(0,a.cloneElement)(l||r,{"aria-hidden":!0,focusable:!1}))):a.createElement(en,{...g,ref:f,noBorder:n,onClick:b,"aria-disabled":s},a.createElement(ct,{as:"span"},p),(0,a.cloneElement)(l||r,{"aria-hidden":!0,focusable:!1}))});mt.displayName="IconButton",mt.defaultProps={"aria-label":void 0,children:void 0,disabled:!1,icon:void 0,label:void 0,noBorder:!1,onClick:void 0};const pt=(t,n)=>(r,l)=>!r[l]&&t.every(s=>!r[s])?new Error(`One of the following props is required: ${l}, ${t.join(", ")}`):h.checkPropTypes({[l]:h[n]},r,"prop","IconButton");mt.propTypes={"aria-label":pt(["label"],"string"),children:pt(["icon"],"node"),disabled:h.bool,icon:pt(["children"],"node"),label:pt(["aria-label"],"string"),noBorder:h.bool,onClick:h.func};const Ao=(0,X.default)(le)`
  height: 1px;
  border: none;
  /* If contained in a Flex parent we want to prevent the Divider to shink */
  flex-shrink: 0;
  ${({unsetMargin:t})=>t?"margin: 0;":""}
`,tn=({unsetMargin:t,...n})=>a.createElement(Ao,{...n,as:"hr",unsetMargin:t});tn.defaultProps={background:"neutral150",unsetMargin:!0},tn.propTypes={background:h.string,unsetMargin:h.bool};const ca={input:{S:`${2}rem`,M:`${2.5}rem`},accordions:{S:`${3}rem`,M:`${5.5}rem`},badge:{S:`${1}rem`,M:`${1.5}rem`},button:{S:`${2}rem`,M:`${2.25}rem`,L:`${2.5}rem`}},ma=(0,a.createContext)({error:void 0,hint:void 0,name:"",id:""}),pa=()=>(0,a.useContext)(ma),nn=({children:t,name:n,error:r,hint:l,id:s,required:u,...p})=>{const g=Xe(s);return a.createElement("div",{...p},a.createElement(ma.Provider,{value:{name:n,id:g,error:r,hint:l,required:u}},t))};nn.defaultProps={error:void 0,hint:void 0,id:void 0,name:void 0,required:!1},nn.propTypes={children:h.node.isRequired,error:h.oneOfType([h.string,h.bool]),hint:h.oneOfType([h.string,h.bool,h.node,h.arrayOf(h.node)]),id:h.oneOfType([h.string,h.number]),name:h.string,required:h.bool};const $o=(0,X.default)(Ie)`
  line-height: 0;
`,Fo=(0,X.default)(xe)`
  line-height: 0;

  svg path {
    fill: ${({theme:t})=>t.colors.neutral500};
  }
`,an=({children:t,action:n,required:r,...l})=>{const{id:s,required:u}=pa(),p=u||r;return r!==void 0&&console.warn('Deprecation warning: Usage of "required" prop in FieldLabel component is deprecated. This is discouraged and will be removed in the next major release. Please use the Field component to share the required prop.'),a.createElement(Ie,{variant:"pi",textColor:"neutral800",htmlFor:s,fontWeight:"bold",as:"label",...l},a.createElement(xe,{alignItems:"center"},t,p&&a.createElement($o,{textColor:"danger600"},"*"),n&&a.createElement(Fo,{marginLeft:1},n)))};an.defaultProps={action:void 0,required:void 0},an.propTypes={action:h.element,children:h.node.isRequired,required:h.bool};const ga={S:6.5,M:10.5},Zo=X.default.input`
  border: none;
  border-radius: ${({theme:t})=>t.borderRadius};
  padding-bottom: ${({size:t})=>`${ga[t]/16}rem`};
  padding-left: ${({theme:t,hasLeftAction:n})=>n?0:t.spaces[4]};
  padding-right: ${({theme:t,hasRightAction:n})=>n?0:t.spaces[4]};
  padding-top: ${({size:t})=>`${ga[t]/16}rem`};
  cursor: ${t=>t["aria-disabled"]?"not-allowed":void 0};

  color: ${({theme:t})=>t.colors.neutral800};
  font-weight: 400;
  // TODO: Make sure to use the theme when it's ready
  font-size: ${14/16}rem;
  display: block;
  width: 100%;
  background: inherit;

  ::placeholder {
    color: ${({theme:t})=>t.colors.neutral500};
    opacity: 1;
  }

  &[aria-disabled='true'] {
    color: inherit;
  }

  //focus managed by InputWrapper
  &:focus {
    outline: none;
    box-shadow: none;
  }
`,rn=(0,X.default)(xe)`
  border: 1px solid ${({theme:t,hasError:n})=>n?t.colors.danger600:t.colors.neutral200};
  border-radius: ${({theme:t})=>t.borderRadius};
  background: ${({theme:t})=>t.colors.neutral0};
  ${ua()}

  ${({theme:t,disabled:n})=>n?`
    color: ${t.colors.neutral600};
    background: ${t.colors.neutral150};
  
  `:void 0}
`,gt=(0,a.forwardRef)(({endAction:t,startAction:n,disabled:r,onChange:l,size:s,...u},p)=>{const{id:g,error:f,hint:b,name:T,required:y}=pa();let $;f?$=`${g}-error`:b&&($=`${g}-hint`);const F=Boolean(f),k=B=>{r||l(B)};return a.createElement(rn,{size:s,justifyContent:"space-between",hasError:F,disabled:r},n&&a.createElement(le,{paddingLeft:3,paddingRight:2},n),a.createElement(Zo,{id:g,name:T,ref:p,"aria-describedby":$,"aria-invalid":F,"aria-disabled":r,hasLeftAction:Boolean(n),hasRightAction:Boolean(t),onChange:k,"aria-required":y,size:s,...u}),t&&a.createElement(le,{paddingLeft:2,paddingRight:3},t))});gt.displayName="FieldInput",gt.defaultProps={disabled:!1,endAction:void 0,size:"M",startAction:void 0,onChange(){}},gt.propTypes={disabled:h.bool,endAction:h.element,onChange:h.func,size:h.oneOf(Object.keys(ca.input)),startAction:h.element};const No=X.default.button`
  border: none;
  background: transparent;
  // TODO: Make sure to use the theme when it's ready
  font-size: 1.6rem;
  width: auto;
  padding: 0;
  display: flex;
  align-items: center;
`,fa=({label:t,children:n,...r})=>a.createElement(No,{"aria-label":t,type:"button",...r},n);fa.propTypes={children:h.node.isRequired,label:h.string.isRequired};const Lo=(0,X.default)(xe)`
  font-size: 0.5rem;
  svg path {
    fill: ${({theme:t})=>t.colors.neutral400};
  }
`,ha=(0,X.default)(xe)`
  font-size: 0.8rem;

  svg path {
    fill: ${({theme:t})=>t.colors.neutral800};
  }
`,qo=X.default.div`
  border-radius: ${({theme:t})=>t.borderRadius};
  box-shadow: ${({theme:t})=>t.shadows.filterShadow};

  &:focus-within {
    ${ha} {
      svg path {
        fill: ${({theme:t})=>t.colors.primary600};
      }
    }
  }

  ${rn} {
    border: 1px solid transparent;
  }

  ${ua(rn)}
`,ft=(0,a.forwardRef)(({name:t,size:n,children:r,value:l,onClear:s,clearLabel:u,...p},g)=>{const f=(0,a.useRef)(null),b=l.length>0,T=$=>{s($),f.current.focus()},y=g||f;return a.createElement(qo,null,a.createElement(nn,{name:t},a.createElement(ct,null,a.createElement(an,null,r)),a.createElement(gt,{ref:y,value:l,startAction:a.createElement(ha,null,a.createElement(ce.Search,{"aria-hidden":!0})),size:n,endAction:b?a.createElement(fa,{label:u,onClick:T},a.createElement(Lo,null,a.createElement(ce.Cross,null))):void 0,...p})))});ft.displayName="Searchbar",ft.defaultProps={value:"",size:"M"},ft.propTypes={children:h.node.isRequired,clearLabel:h.string.isRequired,name:h.string.isRequired,onClear:h.func.isRequired,size:h.oneOf(Object.keys(ca.input)),value:h.string};const Oo=t=>a.createElement("form",{...t,role:"search"}),ko=t=>{const n=(0,a.useRef)();return(0,a.useEffect)(()=>{n.current=t}),n.current},wo={DOWN:"ArrowDown",UP:"ArrowUp",RIGHT:"ArrowRight",LEFT:"ArrowLeft",ESCAPE:"Escape",ENTER:"Enter",SPACE:" ",TAB:"Tab",END:"End",HOME:"Home",DELETE:"Delete",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",CLEAR:"Clear"},ba=(0,X.default)(tn)`
  width: ${24/16}rem;
  background-color: ${({theme:t})=>t.colors.neutral200};
`,on=({as:t,label:n,searchLabel:r,searchable:l,onChange:s,value:u,onClear:p,onSubmit:g,id:f})=>{const[b,T]=(0,a.useState)(!1),y=ko(b),$=Xe(f),F=(0,a.useRef)(),k=(0,a.useRef)();(0,a.useEffect)(()=>{b&&F.current&&F.current.focus(),y&&!b&&k.current&&k.current.focus()},[b,y]);const B=()=>{T(L=>!L)},te=L=>{p(L),F.current.focus()},O=L=>{L.relatedTarget?.id!==$&&T(!1)},N=L=>{L.key===wo.ESCAPE&&T(!1)};return b?a.createElement(le,{paddingLeft:4,paddingTop:5,paddingBottom:2,paddingRight:4},a.createElement(Oo,null,a.createElement(ft,{name:"searchbar",value:u,onChange:s,placeholder:"e.g: strapi-plugin-abcd",onKeyDown:N,ref:F,onBlur:O,onClear:te,onSubmit:g,clearLabel:"Clear",size:"S"},r)),a.createElement(le,{paddingLeft:2,paddingTop:4},a.createElement(ba,null))):a.createElement(le,{paddingLeft:6,paddingTop:6,paddingBottom:2,paddingRight:4},a.createElement(xe,{justifyContent:"space-between",alignItems:"flex-start"},a.createElement(Ie,{variant:"beta",as:t},n),l&&a.createElement(mt,{ref:k,onClick:B,label:r,icon:a.createElement(ce.Search,null)})),a.createElement(le,{paddingTop:4},a.createElement(ba,null)))};on.defaultProps={as:"h2",searchable:!1,onChange(){},onClear(){},onSubmit(){},value:"",searchLabel:"",id:void 0},on.propTypes={as:h.string,id:h.string,label:h.string.isRequired,onChange:h.func,onClear:h.func,onSubmit:h.func,searchLabel:h.string,searchable:h.bool,value:h.string};const ya={size:!0,spacing:!0},Po=(0,X.default)(xe).withConfig({shouldForwardProp:(t,n)=>!ya[t]&&n(t)})`
  & > * {
    margin-top: 0;
    margin-bottom: 0;
  }

  & > * + * {
    margin-top: ${({theme:t,spacing:n})=>pe(t.spaces,n,void 0)};
  }
`,Io=(0,X.default)(xe).withConfig({shouldForwardProp:(t,n)=>!ya[t]&&n(t)})`
  & > * {
    margin-left: 0;
    margin-right: 0;
  }

  & > * + * {
    margin-left: ${({theme:t,spacing:n})=>pe(t.spaces,n,void 0)};
  }
`,sn=(0,a.forwardRef)(({horizontal:t=!1,spacing:n,size:r,...l},s)=>(r&&console.warn('Deprecation warning: Usage of "size" prop in Stack component is deprecated. This is discouraged and will be removed in the next major release. Please use "spacing" instead'),t?(0,Qe.jsx)(Io,{ref:s,spacing:n||r,...l}):(0,Qe.jsx)(Po,{direction:"column",alignItems:"stretch",ref:s,spacing:n||r,...l})));sn.displayName="Stack";const va=({children:t,...n})=>a.createElement(le,{paddingTop:2,paddingBottom:4},a.createElement(sn,{as:"ol",spacing:2,...n},a.Children.map(t,(r,l)=>a.createElement("li",{key:l},r))));va.propTypes={children:h.node.isRequired};const Do=(0,X.default)(xe)`
  border-radius: ${({theme:t,size:n})=>n==="S"?"2px":t.borderRadius};
  height: ${({size:t,theme:n})=>n.sizes.badge[t]};
`,Bo=({active:t=!1,size:n="M",textColor:r="neutral600",backgroundColor:l="neutral150",children:s,minWidth:u=5,...p})=>{const g=n==="S"?1:2;return(0,Qe.jsx)(Do,{inline:!0,alignItem:"center",justifyContent:"center",minWidth:u,paddingLeft:g,paddingRight:g,background:t?"primary200":l,size:n,...p,children:(0,Qe.jsx)(Ie,{variant:"sigma",textColor:t?"primary600":r,children:s})})},Ta=(0,X.default)(xe)`
  border: none;
  padding: 0;
  background: transparent;
`,jo=X.default.div`
  display: flex;
  align-items: center;
  transform: rotateX(${({rotated:t})=>t?"0deg":"180deg"});
`,ln=({collapsable:t,label:n,onClick:r,ariaExpanded:l,ariaControls:s})=>t?a.createElement(Ta,{as:"button",onClick:r,"aria-expanded":l,"aria-controls":s,textAlign:"left"},a.createElement(le,{paddingRight:1},a.createElement(Ie,{variant:"sigma",textColor:"neutral600"},n)),t&&a.createElement(jo,{rotated:l},a.createElement(ce.CarretDown,{"aria-hidden":!0}))):a.createElement(Ta,null,a.createElement(le,{paddingRight:1},a.createElement(Ie,{variant:"sigma",textColor:"neutral600"},n)));ln.defaultProps={ariaControls:null,ariaExpanded:null,collapsable:!1,onClick(){}},ln.propTypes={ariaControls:h.string,ariaExpanded:h.bool,collapsable:h.bool,label:h.string.isRequired,onClick:h.func};const zo=(0,X.default)(le)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:t})=>t.colors.neutral500};
    }
  }
`,un=({collapsable:t,label:n,badgeLabel:r,children:l,id:s})=>{const[u,p]=(0,a.useState)(!0),g=Xe(s),f=()=>{p(b=>!b)};return a.createElement(sn,{spacing:1},a.createElement(zo,{paddingLeft:6,paddingTop:2,paddingBottom:2,paddingRight:4},a.createElement(le,{position:"relative",paddingRight:r?6:0},a.createElement(ln,{onClick:f,ariaExpanded:u,ariaControls:g,collapsable:t,label:n}),r&&a.createElement(Bo,{backgroundColor:"neutral150",textColor:"neutral600",position:"absolute",right:0,top:"50%",transform:"translateY(-50%)"},r))),(!t||u)&&a.createElement("ol",{id:g},a.Children.map(l,(b,T)=>a.createElement("li",{key:T},b))))};un.defaultProps={badgeLabel:null,collapsable:!1,id:void 0},un.propTypes={badgeLabel:h.string,children:h.node.isRequired,collapsable:h.bool,id:h.string,label:h.string.isRequired};const Uo=(0,X.default)(le)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:t})=>t.colors.neutral700};
    }
  }
`,Wo=X.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,Go=X.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:t})=>t?"0deg":"180deg"});
`,dn=({label:t,children:n,id:r})=>{const[l,s]=(0,a.useState)(!0),u=Xe(r),p=()=>{s(g=>!g)};return a.createElement(le,null,a.createElement(Uo,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4},a.createElement(xe,{justifyContent:"space-between"},a.createElement(Wo,{onClick:p,"aria-expanded":l,"aria-controls":u},a.createElement(Go,{rotated:l},a.createElement(ce.CarretDown,{"aria-hidden":!0})),a.createElement(le,{paddingLeft:2},a.createElement(Ie,{as:"span",fontWeight:"semiBold",textColor:"neutral800"},t))))),l&&a.createElement("ul",{id:u},a.Children.map(n,(g,f)=>a.createElement("li",{key:f},g))))};dn.defaultProps={id:void 0},dn.propTypes={children:h.node.isRequired,id:h.string,label:h.string.isRequired};const Ho=X.default.a`
  cursor: pointer;
`,Ca=a.forwardRef(({href:t,rel:n="noreferrer noopener",target:r="_self",disabled:l=!1,isExternal:s=!1,...u},p)=>(0,Qe.jsx)(Ho,{ref:p,target:s?"_blank":r,rel:s?n:void 0,href:l?"#":t,"aria-disabled":l,...u}));Ca.displayName="BaseLink";const Vo=(0,X.default)(le)`
  display: flex;
  align-items: center;
  justify-content: space-between;
  text-decoration: none;
  color: ${({theme:t})=>t.colors.neutral800};
  svg > * {
    fill: ${({theme:t})=>t.colors.neutral600};
  }

  &.active {
    ${({theme:t})=>`
      background-color: ${t.colors.primary100};
      border-right: 2px solid ${t.colors.primary600};
      svg > * {
        fill: ${t.colors.primary700};
      }
      ${Ie} {
        color: ${t.colors.primary700};
        font-weight: 500;
      }
      `}
  }

  &:focus-visible {
    outline-offset: -2px;
  }
`,Ea=(0,X.default)(ce.Dot)`
  width: ${12/16}rem;
  height: ${4/16}rem;
  * {
    fill: ${({theme:t,$active:n})=>n?t.colors.primary600:t.colors.neutral600};
  }
`,Ko=X.default.div`
  svg {
    height: ${12/16}rem;
    width: ${12/16}rem;
  }
`,rt=a.forwardRef(({children:t,icon:n,withBullet:r,as:l,isSubSectionChild:s,...u},p)=>a.createElement(Vo,{as:l,icon:n,background:"neutral100",paddingLeft:s?9:7,paddingBottom:2,paddingTop:2,ref:p,...u},a.createElement(xe,null,n?a.createElement(Ko,null,n):a.createElement(Ea,null),a.createElement(le,{paddingLeft:2},a.createElement(Ie,{as:"span"},t))),r&&a.createElement(le,{as:xe,paddingRight:4},a.createElement(Ea,{$active:!0}))));rt.displayName="SubNavLink",rt.defaultProps={as:Ca,icon:null,isSubSectionChild:!1,withBullet:!1},rt.propTypes={as:h.elementType,children:h.node.isRequired,icon:h.element,isSubSectionChild:h.bool,withBullet:h.bool};var Yo=d(41609),Xo=d.n(Yo),Qo=d(89734),xa=d.n(Qo),Jo=d(18446),_o=d.n(Jo),ei=d(63852);const ti=()=>{const{components:t,componentsGroupedByCategory:n,contentTypes:r,isInDevelopmentMode:l,sortedContentTypesList:s,modifiedData:u,initialData:p}=(0,ye.Z)(),g=(0,v.useNotification)(),{trackUsage:f}=(0,v.useTracking)(),[b,T]=(0,a.useState)(""),{onOpenModalCreateSchema:y,onOpenModalEditCategory:$}=(0,Q.Z)(),F=xa()(Object.keys(n).map(H=>({name:H,title:H,isEditable:l,onClickEdit(ge,$e){ge.stopPropagation(),k?$($e.name):N()},links:xa()(n[H].map(ge=>({name:ge.uid,to:`/plugins/${G.Z}/component-categories/${H}/${ge.uid}`,title:ge.schema.displayName})),ge=>ge.title)})),H=>H.title),k=!Object.keys(r).some(H=>r[H].isTemporary===!0)&&!Object.keys(t).some(H=>t[H].isTemporary===!0)&&_o()(u,p),B=()=>{k?(f("willCreateContentType"),y({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):N()},te=()=>{k?(f("willCreateSingleType"),y({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):N()},O=()=>{k?(f("willCreateComponent"),y({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):N()},N=()=>{g({type:"info",message:{id:`${(0,m.Z)("notification.info.creating.notSaved")}`,defaultMessage:"Please save your work before creating a new collection type or component"}})},L=s.filter(H=>H.visible),oe=[{name:"models",title:{id:`${(0,m.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:l&&{id:`${(0,m.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:B},links:L.filter(H=>H.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,m.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:l&&{id:`${(0,m.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:te},links:L.filter(H=>H.kind==="singleType")},{name:"components",title:{id:`${(0,m.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:l&&{id:`${(0,m.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:O},links:F}],ie=H=>b?(0,ei.ZP)(H,Se()(b),{keys:[ge=>Se()(ge.title)]}):H;return{menu:(()=>oe.map(H=>H.links.some($e=>!Xo()($e.links))?{...H,links:H.links.map($e=>({...$e,links:ie($e.links)}))}:{...H,links:ie(H.links)}))(),searchValue:b,onSearchChange:T}},ni=()=>{const{menu:t,searchValue:n,onSearchChange:r}=ti(),{formatMessage:l}=(0,C.useIntl)();return a.createElement(ta,{ariaLabel:l({id:`${(0,m.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},a.createElement(on,{searchable:!0,value:n,onClear:()=>r(""),onChange:s=>r(s.target.value),label:l({id:`${(0,m.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:l({id:"global.search",defaultMessage:"Search"})}),a.createElement(va,null,t.map(s=>a.createElement(a.Fragment,{key:s.name},a.createElement(un,{label:l({id:s.title.id,defaultMessage:s.title.defaultMessage}),collapsable:!0,badgeLabel:s.links.length.toString()},s.links.map(u=>u.links?a.createElement(dn,{key:u.name,label:Ae()(u.title)},u.links.map(p=>a.createElement(rt,{as:M.NavLink,to:p.to,active:p.active,key:p.name,isSubSectionChild:!0},Ae()(l({id:p.name,defaultMessage:p.title}))))):a.createElement(rt,{as:M.NavLink,to:u.to,active:u.active,key:u.name},Ae()(l({id:u.name,defaultMessage:u.title}))))),s.customLink&&a.createElement(c.Box,{paddingLeft:7},a.createElement(c.TextButton,{onClick:s.customLink.onClick,startIcon:a.createElement(ce.Plus,null),marginTop:2},l({id:s.customLink.id,defaultMessage:s.customLink.defaultMessage})))))))},Ma=(0,a.lazy)(()=>d.e(5905).then(d.bind(d,57134))),ai=()=>{const{formatMessage:t}=(0,C.useIntl)(),n=t({id:`${G.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:r}=(0,v.useGuidedTour)(),l=(0,a.useRef)(r);return(0,a.useEffect)(()=>{l.current&&l.current("contentTypeBuilder")},[]),a.createElement(v.CheckPagePermissions,{permissions:A.Z.main},a.createElement(S.Helmet,{title:n}),a.createElement(eo,null,a.createElement(Jr,null,a.createElement(c.Layout,{sideNav:a.createElement(ni,null)},a.createElement(a.Suspense,{fallback:a.createElement(v.LoadingIndicatorPage,null)},a.createElement(M.Switch,null,a.createElement(M.Route,{path:`/plugins/${G.Z}/content-types/create-content-type`,component:Ma}),a.createElement(M.Route,{path:`/plugins/${G.Z}/content-types/:uid`,component:Ma}),a.createElement(M.Route,{path:`/plugins/${G.Z}/component-categories/:categoryUid`,component:no})))))))}},5002:(P,U,d)=>{"use strict";d.d(U,{Z:()=>S});var a=d(96124);const S=C=>`${a.Z}.${C}`},47443:(P,U,d)=>{var a=d(42118);function M(S,C){var v=S==null?0:S.length;return!!v&&a(S,C,0)>-1}P.exports=M},1196:P=>{function U(d,a,M){for(var S=-1,C=d==null?0:d.length;++S<C;)if(M(a,d[S]))return!0;return!1}P.exports=U},48983:(P,U,d)=>{var a=d(40371),M=a("length");P.exports=M},89881:(P,U,d)=>{var a=d(47816),M=d(99291),S=M(a);P.exports=S},41848:P=>{function U(d,a,M,S){for(var C=d.length,v=M+(S?1:-1);S?v--:++v<C;)if(a(d[v],v,d))return v;return-1}P.exports=U},42118:(P,U,d)=>{var a=d(41848),M=d(62722),S=d(42351);function C(v,c,A){return c===c?S(v,c,A):a(v,M,A)}P.exports=C},62722:P=>{function U(d){return d!==d}P.exports=U},23933:(P,U,d)=>{var a=d(44239),M=d(37005),S="[object RegExp]";function C(v){return M(v)&&a(v)==S}P.exports=C},69199:(P,U,d)=>{var a=d(89881),M=d(98612);function S(C,v){var c=-1,A=M(C)?Array(C.length):[];return a(C,function(G,h,i){A[++c]=v(G,h,i)}),A}P.exports=S},82689:(P,U,d)=>{var a=d(29932),M=d(97786),S=d(67206),C=d(69199),v=d(71131),c=d(7518),A=d(85022),G=d(6557),h=d(1469);function i(E,q,z){q.length?q=a(q,function(m){return h(m)?function(V){return M(V,m.length===1?m[0]:m)}:m}):q=[G];var W=-1;q=a(q,c(S));var Q=C(E,function(m,V,K){var R=a(q,function(J){return J(m)});return{criteria:R,index:++W,value:m}});return v(Q,function(m,V){return A(m,V,z)})}P.exports=i},71131:P=>{function U(d,a){var M=d.length;for(d.sort(a);M--;)d[M]=d[M].value;return d}P.exports=U},45652:(P,U,d)=>{var a=d(88668),M=d(47443),S=d(1196),C=d(74757),v=d(23593),c=d(21814),A=200;function G(h,i,E){var q=-1,z=M,W=h.length,Q=!0,m=[],V=m;if(E)Q=!1,z=S;else if(W>=A){var K=i?null:v(h);if(K)return c(K);Q=!1,z=C,V=new a}else V=i?[]:m;e:for(;++q<W;){var R=h[q],J=i?i(R):R;if(R=E||R!==0?R:0,Q&&J===J){for(var ae=V.length;ae--;)if(V[ae]===J)continue e;i&&V.push(J),m.push(R)}else z(V,J,E)||(V!==m&&V.push(J),m.push(R))}return m}P.exports=G},26393:(P,U,d)=>{var a=d(33448);function M(S,C){if(S!==C){var v=S!==void 0,c=S===null,A=S===S,G=a(S),h=C!==void 0,i=C===null,E=C===C,q=a(C);if(!i&&!q&&!G&&S>C||G&&h&&E&&!i&&!q||c&&h&&E||!v&&E||!A)return 1;if(!c&&!G&&!q&&S<C||q&&v&&A&&!c&&!G||i&&v&&A||!h&&A||!E)return-1}return 0}P.exports=M},85022:(P,U,d)=>{var a=d(26393);function M(S,C,v){for(var c=-1,A=S.criteria,G=C.criteria,h=A.length,i=v.length;++c<h;){var E=a(A[c],G[c]);if(E){if(c>=i)return E;var q=v[c];return E*(q=="desc"?-1:1)}}return S.index-C.index}P.exports=M},99291:(P,U,d)=>{var a=d(98612);function M(S,C){return function(v,c){if(v==null)return v;if(!a(v))return S(v,c);for(var A=v.length,G=C?A:-1,h=Object(v);(C?G--:++G<A)&&c(h[G],G,h)!==!1;);return v}}P.exports=M},23593:(P,U,d)=>{var a=d(58525),M=d(50308),S=d(21814),C=1/0,v=a&&1/S(new a([,-0]))[1]==C?function(c){return new a(c)}:M;P.exports=v},42351:P=>{function U(d,a,M){for(var S=M-1,C=d.length;++S<C;)if(d[S]===a)return S;return-1}P.exports=U},88016:(P,U,d)=>{var a=d(48983),M=d(62689),S=d(21903);function C(v){return M(v)?S(v):a(v)}P.exports=C},21903:P=>{var U="\\ud800-\\udfff",d="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",M="\\u20d0-\\u20ff",S=d+a+M,C="\\ufe0e\\ufe0f",v="["+U+"]",c="["+S+"]",A="\\ud83c[\\udffb-\\udfff]",G="(?:"+c+"|"+A+")",h="[^"+U+"]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",E="[\\ud800-\\udbff][\\udc00-\\udfff]",q="\\u200d",z=G+"?",W="["+C+"]?",Q="(?:"+q+"(?:"+[h,i,E].join("|")+")"+W+z+")*",m=W+z+Q,V="(?:"+[h+c+"?",c,i,E,v].join("|")+")",K=RegExp(A+"(?="+A+")|"+V+m,"g");function R(J){for(var ae=K.lastIndex=0;K.test(J);)++ae;return ae}P.exports=R},96347:(P,U,d)=>{var a=d(23933),M=d(7518),S=d(31167),C=S&&S.isRegExp,v=C?M(C):a;P.exports=v},50308:P=>{function U(){}P.exports=U},89734:(P,U,d)=>{var a=d(21078),M=d(82689),S=d(5976),C=d(16612),v=S(function(c,A){if(c==null)return[];var G=A.length;return G>1&&C(c,A[0],A[1])?A=[]:G>2&&C(A[0],A[1],A[2])&&(A=[A[0]]),M(c,a(A,1),[])});P.exports=v},7334:(P,U,d)=>{var a=d(79833);function M(S){return a(S).toLowerCase()}P.exports=M},39138:(P,U,d)=>{var a=d(80531),M=d(40180),S=d(62689),C=d(13218),v=d(96347),c=d(88016),A=d(83140),G=d(40554),h=d(79833),i=30,E="...",q=/\w*$/;function z(W,Q){var m=i,V=E;if(C(Q)){var K="separator"in Q?Q.separator:K;m="length"in Q?G(Q.length):m,V="omission"in Q?a(Q.omission):V}W=h(W);var R=W.length;if(S(W)){var J=A(W);R=J.length}if(m>=R)return W;var ae=m-c(V);if(ae<1)return V;var se=J?M(J,0,ae).join(""):W.slice(0,ae);if(K===void 0)return se+V;if(J&&(ae+=se.length-ae),v(K)){if(W.slice(ae).search(K)){var Ee,ze=se;for(K.global||(K=RegExp(K.source,h(q.exec(K))+"g")),K.lastIndex=0;Ee=K.exec(ze);)var Se=Ee.index;se=se.slice(0,Se===void 0?ae:Se)}}else if(W.indexOf(a(K),ae)!=ae){var ye=se.lastIndexOf(K);ye>-1&&(se=se.slice(0,ye))}return se+V}P.exports=z},44908:(P,U,d)=>{var a=d(45652);function M(S){return S&&S.length?a(S):[]}P.exports=M},20573:(P,U,d)=>{"use strict";d.d(U,{P1:()=>h});var a="NOT_FOUND";function M(E){var q;return{get:function(W){return q&&E(q.key,W)?q.value:a},put:function(W,Q){q={key:W,value:Q}},getEntries:function(){return q?[q]:[]},clear:function(){q=void 0}}}function S(E,q){var z=[];function W(K){var R=z.findIndex(function(ae){return q(K,ae.key)});if(R>-1){var J=z[R];return R>0&&(z.splice(R,1),z.unshift(J)),J.value}return a}function Q(K,R){W(K)===a&&(z.unshift({key:K,value:R}),z.length>E&&z.pop())}function m(){return z}function V(){z=[]}return{get:W,put:Q,getEntries:m,clear:V}}var C=function(q,z){return q===z};function v(E){return function(z,W){if(z===null||W===null||z.length!==W.length)return!1;for(var Q=z.length,m=0;m<Q;m++)if(!E(z[m],W[m]))return!1;return!0}}function c(E,q){var z=typeof q=="object"?q:{equalityCheck:q},W=z.equalityCheck,Q=W===void 0?C:W,m=z.maxSize,V=m===void 0?1:m,K=z.resultEqualityCheck,R=v(Q),J=V===1?M(R):S(V,R);function ae(){var se=J.get(arguments);if(se===a){if(se=E.apply(null,arguments),K){var Ee=J.getEntries(),ze=Ee.find(function(Se){return K(Se.value,se)});ze&&(se=ze.value)}J.put(arguments,se)}return se}return ae.clearCache=function(){return J.clear()},ae}function A(E){var q=Array.isArray(E[0])?E[0]:E;if(!q.every(function(W){return typeof W=="function"})){var z=q.map(function(W){return typeof W=="function"?"function "+(W.name||"unnamed")+"()":typeof W}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+z+"]")}return q}function G(E){for(var q=arguments.length,z=new Array(q>1?q-1:0),W=1;W<q;W++)z[W-1]=arguments[W];var Q=function(){for(var V=arguments.length,K=new Array(V),R=0;R<V;R++)K[R]=arguments[R];var J=0,ae,se={memoizeOptions:void 0},Ee=K.pop();if(typeof Ee=="object"&&(se=Ee,Ee=K.pop()),typeof Ee!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof Ee+"]");var ze=se,Se=ze.memoizeOptions,ye=Se===void 0?z:Se,bt=Array.isArray(ye)?ye:[ye],Ae=A(K),lt=E.apply(void 0,[function(){return J++,Ee.apply(null,arguments)}].concat(bt)),He=E(function(){for(var yt=[],ut=Ae.length,Ue=0;Ue<ut;Ue++)yt.push(Ae[Ue].apply(null,arguments));return ae=lt.apply(null,yt),ae});return Object.assign(He,{resultFunc:Ee,memoizedResultFunc:lt,dependencies:Ae,lastResult:function(){return ae},recomputations:function(){return J},resetRecomputations:function(){return J=0}}),He};return Q}var h=G(c),i=function(q,z){if(z===void 0&&(z=h),typeof q!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof q));var W=Object.keys(q),Q=z(W.map(function(m){return q[m]}),function(){for(var m=arguments.length,V=new Array(m),K=0;K<m;K++)V[K]=arguments[K];return V.reduce(function(R,J,ae){return R[W[ae]]=J,R},{})});return Q}}}]);
